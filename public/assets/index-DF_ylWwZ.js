(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J0={exports:{}},Wu={},Z0={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aa=Symbol.for("react.element"),aT=Symbol.for("react.portal"),lT=Symbol.for("react.fragment"),uT=Symbol.for("react.strict_mode"),cT=Symbol.for("react.profiler"),dT=Symbol.for("react.provider"),hT=Symbol.for("react.context"),fT=Symbol.for("react.forward_ref"),pT=Symbol.for("react.suspense"),mT=Symbol.for("react.memo"),gT=Symbol.for("react.lazy"),Tg=Symbol.iterator;function yT(t){return t===null||typeof t!="object"?null:(t=Tg&&t[Tg]||t["@@iterator"],typeof t=="function"?t:null)}var e1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t1=Object.assign,n1={};function Ms(t,e,n){this.props=t,this.context=e,this.refs=n1,this.updater=n||e1}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r1(){}r1.prototype=Ms.prototype;function kf(t,e,n){this.props=t,this.context=e,this.refs=n1,this.updater=n||e1}var Nf=kf.prototype=new r1;Nf.constructor=kf;t1(Nf,Ms.prototype);Nf.isPureReactComponent=!0;var Ag=Array.isArray,i1=Object.prototype.hasOwnProperty,Pf={current:null},s1={key:!0,ref:!0,__self:!0,__source:!0};function o1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)i1.call(e,r)&&!s1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Aa,type:t,key:s,ref:o,props:i,_owner:Pf.current}}function vT(t,e){return{$$typeof:Aa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Aa}function _T(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ig=/\/+/g;function ad(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_T(""+t.key):e.toString(36)}function Sl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Aa:case aT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ad(o,0):r,Ag(i)?(n="",t!=null&&(n=t.replace(Ig,"$&/")+"/"),Sl(i,e,n,"",function(d){return d})):i!=null&&(Cf(i)&&(i=vT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ig,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ag(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ad(s,a);o+=Sl(s,e,n,l,i)}else if(l=yT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ad(s,a++),o+=Sl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nl(t,e,n){if(t==null)return t;var r=[],i=0;return Sl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function xT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},kl={transition:null},wT={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:kl,ReactCurrentOwner:Pf};function a1(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:nl,forEach:function(t,e,n){nl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nl(t,function(){e++}),e},toArray:function(t){return nl(t,function(e){return e})||[]},only:function(t){if(!Cf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Ms;Se.Fragment=lT;Se.Profiler=cT;Se.PureComponent=kf;Se.StrictMode=uT;Se.Suspense=pT;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wT;Se.act=a1;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=t1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Pf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)i1.call(e,l)&&!s1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Aa,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:hT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dT,_context:t},t.Consumer=t};Se.createElement=o1;Se.createFactory=function(t){var e=o1.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:fT,render:t}};Se.isValidElement=Cf;Se.lazy=function(t){return{$$typeof:gT,_payload:{_status:-1,_result:t},_init:xT}};Se.memo=function(t,e){return{$$typeof:mT,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=kl.transition;kl.transition={};try{t()}finally{kl.transition=e}};Se.unstable_act=a1;Se.useCallback=function(t,e){return Ft.current.useCallback(t,e)};Se.useContext=function(t){return Ft.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Ft.current.useEffect(t,e)};Se.useId=function(){return Ft.current.useId()};Se.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Ft.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};Se.useRef=function(t){return Ft.current.useRef(t)};Se.useState=function(t){return Ft.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return Ft.current.useTransition()};Se.version="18.3.1";Z0.exports=Se;var fe=Z0.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT=fe,ET=Symbol.for("react.element"),TT=Symbol.for("react.fragment"),AT=Object.prototype.hasOwnProperty,IT=bT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ST={key:!0,ref:!0,__self:!0,__source:!0};function l1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AT.call(e,r)&&!ST.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ET,type:t,key:s,ref:o,props:i,_owner:IT.current}}Wu.Fragment=TT;Wu.jsx=l1;Wu.jsxs=l1;J0.exports=Wu;var y=J0.exports,u1={exports:{}},sn={},c1={exports:{}},d1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,B){var F=G.length;G.push(B);e:for(;0<F;){var j=F-1>>>1,M=G[j];if(0<i(M,B))G[j]=B,G[F]=M,F=j;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var B=G[0],F=G.pop();if(F!==B){G[0]=F;e:for(var j=0,M=G.length,U=M>>>1;j<U;){var W=2*(j+1)-1,$=G[W],V=W+1,z=G[V];if(0>i($,F))V<M&&0>i(z,$)?(G[j]=z,G[V]=F,j=V):(G[j]=$,G[W]=F,j=W);else if(V<M&&0>i(z,F))G[j]=z,G[V]=F,j=V;else break e}}return B}function i(G,B){var F=G.sortIndex-B.sortIndex;return F!==0?F:G.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],f=1,h=null,c=3,p=!1,w=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(G){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=G)r(d),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(d)}}function v(G){if(_=!1,x(G),!w)if(n(l)!==null)w=!0,H(k);else{var B=n(d);B!==null&&K(v,B.startTime-G)}}function k(G,B){w=!1,_&&(_=!1,g(E),E=-1),p=!0;var F=c;try{for(x(B),h=n(l);h!==null&&(!(h.expirationTime>B)||G&&!A());){var j=h.callback;if(typeof j=="function"){h.callback=null,c=h.priorityLevel;var M=j(h.expirationTime<=B);B=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),x(B)}else r(l);h=n(l)}if(h!==null)var U=!0;else{var W=n(d);W!==null&&K(v,W.startTime-B),U=!1}return U}finally{h=null,c=F,p=!1}}var O=!1,S=null,E=-1,N=5,T=-1;function A(){return!(t.unstable_now()-T<N)}function P(){if(S!==null){var G=t.unstable_now();T=G;var B=!0;try{B=S(!0,G)}finally{B?C():(O=!1,S=null)}}else O=!1}var C;if(typeof m=="function")C=function(){m(P)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,q=L.port2;L.port1.onmessage=P,C=function(){q.postMessage(null)}}else C=function(){b(P,0)};function H(G){S=G,O||(O=!0,C())}function K(G,B){E=b(function(){G(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,H(k))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(c){case 1:case 2:case 3:var B=3;break;default:B=c}var F=c;c=B;try{return G()}finally{c=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,B){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var F=c;c=G;try{return B()}finally{c=F}},t.unstable_scheduleCallback=function(G,B,F){var j=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?j+F:j):F=j,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,G={id:f++,callback:B,priorityLevel:G,startTime:F,expirationTime:M,sortIndex:-1},F>j?(G.sortIndex=F,e(d,G),n(l)===null&&G===n(d)&&(_?(g(E),E=-1):_=!0,K(v,F-j))):(G.sortIndex=M,e(l,G),w||p||(w=!0,H(k))),G},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(G){var B=c;return function(){var F=c;c=B;try{return G.apply(this,arguments)}finally{c=F}}}})(d1);c1.exports=d1;var kT=c1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT=fe,rn=kT;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h1=new Set,Yo={};function ji(t,e){bs(t,e),bs(t+"Capture",e)}function bs(t,e){for(Yo[t]=e,t=0;t<e.length;t++)h1.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eh=Object.prototype.hasOwnProperty,PT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sg={},kg={};function CT(t){return eh.call(kg,t)?!0:eh.call(Sg,t)?!1:PT.test(t)?kg[t]=!0:(Sg[t]=!0,!1)}function RT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OT(t,e,n,r){if(e===null||typeof e>"u"||RT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rf=/[\-:]([a-z])/g;function Of(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rf,Of);Et[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rf,Of);Et[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rf,Of);Et[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function jf(t,e,n,r){var i=Et.hasOwnProperty(e)?Et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OT(e,n,i,r)&&(n=null),r||i===null?CT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fr=NT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),th=Symbol.for("react.profiler"),f1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),Lf=Symbol.for("react.forward_ref"),nh=Symbol.for("react.suspense"),rh=Symbol.for("react.suspense_list"),Mf=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),m1=Symbol.for("react.offscreen"),Ng=Symbol.iterator;function fo(t){return t===null||typeof t!="object"?null:(t=Ng&&t[Ng]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,ld;function Eo(t){if(ld===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ld=e&&e[1]||""}return`
`+ld+t}var ud=!1;function cd(t,e){if(!t||ud)return"";ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ud=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Eo(t):""}function jT(t){switch(t.tag){case 5:return Eo(t.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return t=cd(t.type,!1),t;case 11:return t=cd(t.type.render,!1),t;case 1:return t=cd(t.type,!0),t;default:return""}}function ih(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zi:return"Fragment";case Ji:return"Portal";case th:return"Profiler";case Df:return"StrictMode";case nh:return"Suspense";case rh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p1:return(t.displayName||"Context")+".Consumer";case f1:return(t._context.displayName||"Context")+".Provider";case Lf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mf:return e=t.displayName||null,e!==null?e:ih(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return ih(t(e))}catch{}}return null}function DT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ih(e);case 8:return e===Df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LT(t){var e=g1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function il(t){t._valueTracker||(t._valueTracker=LT(t))}function y1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=g1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ql(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sh(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v1(t,e){e=e.checked,e!=null&&jf(t,"checked",e,!1)}function oh(t,e){v1(t,e);var n=Hr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ah(t,e.type,n):e.hasOwnProperty("defaultValue")&&ah(t,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ah(t,e,n){(e!=="number"||Ql(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var To=Array.isArray;function ds(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(To(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hr(n)}}function _1(t,e){var n=Hr(e.value),r=Hr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Og(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sl,w1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MT=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(t){MT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jo[e]=jo[t]})});function b1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jo.hasOwnProperty(t)&&jo[t]?(""+e).trim():e+"px"}function E1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=b1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VT=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ch(t,e){if(e){if(VT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function dh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=null;function Vf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fh=null,hs=null,fs=null;function jg(t){if(t=ka(t)){if(typeof fh!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Ju(e),fh(t.stateNode,t.type,e))}}function T1(t){hs?fs?fs.push(t):fs=[t]:hs=t}function A1(){if(hs){var t=hs,e=fs;if(fs=hs=null,jg(t),e)for(t=0;t<e.length;t++)jg(e[t])}}function I1(t,e){return t(e)}function S1(){}var dd=!1;function k1(t,e,n){if(dd)return t(e,n);dd=!0;try{return I1(t,e,n)}finally{dd=!1,(hs!==null||fs!==null)&&(S1(),A1())}}function Jo(t,e){var n=t.stateNode;if(n===null)return null;var r=Ju(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var ph=!1;if(ir)try{var po={};Object.defineProperty(po,"passive",{get:function(){ph=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{ph=!1}function FT(t,e,n,r,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Do=!1,Yl=null,Xl=!1,mh=null,UT={onError:function(t){Do=!0,Yl=t}};function qT(t,e,n,r,i,s,o,a,l){Do=!1,Yl=null,FT.apply(UT,arguments)}function BT(t,e,n,r,i,s,o,a,l){if(qT.apply(this,arguments),Do){if(Do){var d=Yl;Do=!1,Yl=null}else throw Error(se(198));Xl||(Xl=!0,mh=d)}}function Di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function N1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dg(t){if(Di(t)!==t)throw Error(se(188))}function zT(t){var e=t.alternate;if(!e){if(e=Di(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dg(i),t;if(s===r)return Dg(i),e;s=s.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function P1(t){return t=zT(t),t!==null?C1(t):null}function C1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C1(t);if(e!==null)return e;t=t.sibling}return null}var R1=rn.unstable_scheduleCallback,Lg=rn.unstable_cancelCallback,$T=rn.unstable_shouldYield,HT=rn.unstable_requestPaint,it=rn.unstable_now,KT=rn.unstable_getCurrentPriorityLevel,Ff=rn.unstable_ImmediatePriority,O1=rn.unstable_UserBlockingPriority,Jl=rn.unstable_NormalPriority,WT=rn.unstable_LowPriority,j1=rn.unstable_IdlePriority,Gu=null,Ln=null;function GT(t){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Gu,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:XT,QT=Math.log,YT=Math.LN2;function XT(t){return t>>>=0,t===0?32:31-(QT(t)/YT|0)|0}var ol=64,al=4194304;function Ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ao(a):(s&=o,s!==0&&(r=Ao(s)))}else o=n&~i,o!==0?r=Ao(o):s!==0&&(r=Ao(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tn(e),i=1<<n,r|=t[n],e&=~i;return r}function JT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=JT(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function gh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D1(){var t=ol;return ol<<=1,!(ol&4194240)&&(ol=64),t}function hd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ia(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function e2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Uf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function L1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var M1,qf,V1,F1,U1,yh=!1,ll=[],Cr=null,Rr=null,Or=null,Zo=new Map,ea=new Map,br=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mg(t,e){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(e.pointerId)}}function mo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ka(e),e!==null&&qf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function n2(t,e,n,r,i){switch(e){case"focusin":return Cr=mo(Cr,t,e,n,r,i),!0;case"dragenter":return Rr=mo(Rr,t,e,n,r,i),!0;case"mouseover":return Or=mo(Or,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zo.set(s,mo(Zo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ea.set(s,mo(ea.get(s)||null,t,e,n,r,i)),!0}return!1}function q1(t){var e=mi(t.target);if(e!==null){var n=Di(e);if(n!==null){if(e=n.tag,e===13){if(e=N1(n),e!==null){t.blockedOn=e,U1(t.priority,function(){V1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hh=r,n.target.dispatchEvent(r),hh=null}else return e=ka(n),e!==null&&qf(e),t.blockedOn=n,!1;e.shift()}return!0}function Vg(t,e,n){Nl(t)&&n.delete(e)}function r2(){yh=!1,Cr!==null&&Nl(Cr)&&(Cr=null),Rr!==null&&Nl(Rr)&&(Rr=null),Or!==null&&Nl(Or)&&(Or=null),Zo.forEach(Vg),ea.forEach(Vg)}function go(t,e){t.blockedOn===e&&(t.blockedOn=null,yh||(yh=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,r2)))}function ta(t){function e(i){return go(i,t)}if(0<ll.length){go(ll[0],t);for(var n=1;n<ll.length;n++){var r=ll[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cr!==null&&go(Cr,t),Rr!==null&&go(Rr,t),Or!==null&&go(Or,t),Zo.forEach(e),ea.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)q1(n),n.blockedOn===null&&br.shift()}var ps=fr.ReactCurrentBatchConfig,eu=!0;function i2(t,e,n,r){var i=Me,s=ps.transition;ps.transition=null;try{Me=1,Bf(t,e,n,r)}finally{Me=i,ps.transition=s}}function s2(t,e,n,r){var i=Me,s=ps.transition;ps.transition=null;try{Me=4,Bf(t,e,n,r)}finally{Me=i,ps.transition=s}}function Bf(t,e,n,r){if(eu){var i=vh(t,e,n,r);if(i===null)bd(t,e,r,tu,n),Mg(t,r);else if(n2(i,t,e,n,r))r.stopPropagation();else if(Mg(t,r),e&4&&-1<t2.indexOf(t)){for(;i!==null;){var s=ka(i);if(s!==null&&M1(s),s=vh(t,e,n,r),s===null&&bd(t,e,r,tu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bd(t,e,r,null,n)}}var tu=null;function vh(t,e,n,r){if(tu=null,t=Vf(r),t=mi(t),t!==null)if(e=Di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=N1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tu=t,null}function B1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KT()){case Ff:return 1;case O1:return 4;case Jl:case WT:return 16;case j1:return 536870912;default:return 16}default:return 16}}var kr=null,zf=null,Pl=null;function z1(){if(Pl)return Pl;var t,e=zf,n=e.length,r,i="value"in kr?kr.value:kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pl=i.slice(t,1<r?1-r:void 0)}function Cl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ul(){return!0}function Fg(){return!1}function on(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ul:Fg,this.isPropagationStopped=Fg,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),e}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=on(Vs),Sa=Je({},Vs,{view:0,detail:0}),o2=on(Sa),fd,pd,yo,Qu=Je({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yo&&(yo&&t.type==="mousemove"?(fd=t.screenX-yo.screenX,pd=t.screenY-yo.screenY):pd=fd=0,yo=t),fd)},movementY:function(t){return"movementY"in t?t.movementY:pd}}),Ug=on(Qu),a2=Je({},Qu,{dataTransfer:0}),l2=on(a2),u2=Je({},Sa,{relatedTarget:0}),md=on(u2),c2=Je({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=on(c2),h2=Je({},Vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),f2=on(h2),p2=Je({},Vs,{data:0}),qg=on(p2),m2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y2[t])?!!e[t]:!1}function Hf(){return v2}var _2=Je({},Sa,{key:function(t){if(t.key){var e=m2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?g2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(t){return t.type==="keypress"?Cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x2=on(_2),w2=Je({},Qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bg=on(w2),b2=Je({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),E2=on(b2),T2=Je({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A2=on(T2),I2=Je({},Qu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S2=on(I2),k2=[9,13,27,32],Kf=ir&&"CompositionEvent"in window,Lo=null;ir&&"documentMode"in document&&(Lo=document.documentMode);var N2=ir&&"TextEvent"in window&&!Lo,$1=ir&&(!Kf||Lo&&8<Lo&&11>=Lo),zg=" ",$g=!1;function H1(t,e){switch(t){case"keyup":return k2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function P2(t,e){switch(t){case"compositionend":return K1(e);case"keypress":return e.which!==32?null:($g=!0,zg);case"textInput":return t=e.data,t===zg&&$g?null:t;default:return null}}function C2(t,e){if(es)return t==="compositionend"||!Kf&&H1(t,e)?(t=z1(),Pl=zf=kr=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $1&&e.locale!=="ko"?null:e.data;default:return null}}var R2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R2[t.type]:e==="textarea"}function W1(t,e,n,r){T1(r),e=nu(e,"onChange"),0<e.length&&(n=new $f("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mo=null,na=null;function O2(t){i_(t,0)}function Yu(t){var e=rs(t);if(y1(e))return t}function j2(t,e){if(t==="change")return e}var G1=!1;if(ir){var gd;if(ir){var yd="oninput"in document;if(!yd){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),yd=typeof Kg.oninput=="function"}gd=yd}else gd=!1;G1=gd&&(!document.documentMode||9<document.documentMode)}function Wg(){Mo&&(Mo.detachEvent("onpropertychange",Q1),na=Mo=null)}function Q1(t){if(t.propertyName==="value"&&Yu(na)){var e=[];W1(e,na,t,Vf(t)),k1(O2,e)}}function D2(t,e,n){t==="focusin"?(Wg(),Mo=e,na=n,Mo.attachEvent("onpropertychange",Q1)):t==="focusout"&&Wg()}function L2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(na)}function M2(t,e){if(t==="click")return Yu(e)}function V2(t,e){if(t==="input"||t==="change")return Yu(e)}function F2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sn=typeof Object.is=="function"?Object.is:F2;function ra(t,e){if(Sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eh.call(e,i)||!Sn(t[i],e[i]))return!1}return!0}function Gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qg(t,e){var n=Gg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gg(n)}}function Y1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function X1(){for(var t=window,e=Ql();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ql(t.document)}return e}function Wf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function U2(t){var e=X1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Y1(n.ownerDocument.documentElement,n)){if(r!==null&&Wf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Qg(n,s);var o=Qg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q2=ir&&"documentMode"in document&&11>=document.documentMode,ts=null,_h=null,Vo=null,xh=!1;function Yg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xh||ts==null||ts!==Ql(r)||(r=ts,"selectionStart"in r&&Wf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vo&&ra(Vo,r)||(Vo=r,r=nu(_h,"onSelect"),0<r.length&&(e=new $f("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ts)))}function cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ns={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},vd={},J1={};ir&&(J1=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Xu(t){if(vd[t])return vd[t];if(!ns[t])return t;var e=ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in J1)return vd[t]=e[n];return t}var Z1=Xu("animationend"),e_=Xu("animationiteration"),t_=Xu("animationstart"),n_=Xu("transitionend"),r_=new Map,Xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(t,e){r_.set(t,e),ji(e,[t])}for(var _d=0;_d<Xg.length;_d++){var xd=Xg[_d],B2=xd.toLowerCase(),z2=xd[0].toUpperCase()+xd.slice(1);ei(B2,"on"+z2)}ei(Z1,"onAnimationEnd");ei(e_,"onAnimationIteration");ei(t_,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(n_,"onTransitionEnd");bs("onMouseEnter",["mouseout","mouseover"]);bs("onMouseLeave",["mouseout","mouseover"]);bs("onPointerEnter",["pointerout","pointerover"]);bs("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Jg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BT(r,e,void 0,t),t.currentTarget=null}function i_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Jg(i,a,d),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Jg(i,a,d),s=l}}}if(Xl)throw t=mh,Xl=!1,mh=null,t}function ze(t,e){var n=e[Ah];n===void 0&&(n=e[Ah]=new Set);var r=t+"__bubble";n.has(r)||(s_(e,t,2,!1),n.add(r))}function wd(t,e,n){var r=0;e&&(r|=4),s_(n,t,r,e)}var dl="_reactListening"+Math.random().toString(36).slice(2);function ia(t){if(!t[dl]){t[dl]=!0,h1.forEach(function(n){n!=="selectionchange"&&($2.has(n)||wd(n,!1,t),wd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dl]||(e[dl]=!0,wd("selectionchange",!1,e))}}function s_(t,e,n,r){switch(B1(e)){case 1:var i=i2;break;case 4:i=s2;break;default:i=Bf}n=i.bind(null,e,n,t),i=void 0,!ph||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}k1(function(){var d=s,f=Vf(n),h=[];e:{var c=r_.get(t);if(c!==void 0){var p=$f,w=t;switch(t){case"keypress":if(Cl(n)===0)break e;case"keydown":case"keyup":p=x2;break;case"focusin":w="focus",p=md;break;case"focusout":w="blur",p=md;break;case"beforeblur":case"afterblur":p=md;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=l2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=E2;break;case Z1:case e_:case t_:p=d2;break;case n_:p=A2;break;case"scroll":p=o2;break;case"wheel":p=S2;break;case"copy":case"cut":case"paste":p=f2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bg}var _=(e&4)!==0,b=!_&&t==="scroll",g=_?c!==null?c+"Capture":null:c;_=[];for(var m=d,x;m!==null;){x=m;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,g!==null&&(v=Jo(m,g),v!=null&&_.push(sa(m,v,x)))),b)break;m=m.return}0<_.length&&(c=new p(c,w,null,n,f),h.push({event:c,listeners:_}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",c&&n!==hh&&(w=n.relatedTarget||n.fromElement)&&(mi(w)||w[sr]))break e;if((p||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=d,w=w?mi(w):null,w!==null&&(b=Di(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(_=Ug,v="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Bg,v="onPointerLeave",g="onPointerEnter",m="pointer"),b=p==null?c:rs(p),x=w==null?c:rs(w),c=new _(v,m+"leave",p,n,f),c.target=b,c.relatedTarget=x,v=null,mi(f)===d&&(_=new _(g,m+"enter",w,n,f),_.target=x,_.relatedTarget=b,v=_),b=v,p&&w)t:{for(_=p,g=w,m=0,x=_;x;x=Ki(x))m++;for(x=0,v=g;v;v=Ki(v))x++;for(;0<m-x;)_=Ki(_),m--;for(;0<x-m;)g=Ki(g),x--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=Ki(_),g=Ki(g)}_=null}else _=null;p!==null&&Zg(h,c,p,_,!1),w!==null&&b!==null&&Zg(h,b,w,_,!0)}}e:{if(c=d?rs(d):window,p=c.nodeName&&c.nodeName.toLowerCase(),p==="select"||p==="input"&&c.type==="file")var k=j2;else if(Hg(c))if(G1)k=V2;else{k=L2;var O=D2}else(p=c.nodeName)&&p.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(k=M2);if(k&&(k=k(t,d))){W1(h,k,n,f);break e}O&&O(t,c,d),t==="focusout"&&(O=c._wrapperState)&&O.controlled&&c.type==="number"&&ah(c,"number",c.value)}switch(O=d?rs(d):window,t){case"focusin":(Hg(O)||O.contentEditable==="true")&&(ts=O,_h=d,Vo=null);break;case"focusout":Vo=_h=ts=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Yg(h,n,f);break;case"selectionchange":if(q2)break;case"keydown":case"keyup":Yg(h,n,f)}var S;if(Kf)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else es?H1(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&($1&&n.locale!=="ko"&&(es||E!=="onCompositionStart"?E==="onCompositionEnd"&&es&&(S=z1()):(kr=f,zf="value"in kr?kr.value:kr.textContent,es=!0)),O=nu(d,E),0<O.length&&(E=new qg(E,t,null,n,f),h.push({event:E,listeners:O}),S?E.data=S:(S=K1(n),S!==null&&(E.data=S)))),(S=N2?P2(t,n):C2(t,n))&&(d=nu(d,"onBeforeInput"),0<d.length&&(f=new qg("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=S))}i_(h,e)})}function sa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jo(t,n),s!=null&&r.unshift(sa(t,s,i)),s=Jo(t,e),s!=null&&r.push(sa(t,s,i))),t=t.return}return r}function Ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,i?(l=Jo(n,s),l!=null&&o.unshift(sa(n,l,a))):i||(l=Jo(n,s),l!=null&&o.push(sa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var H2=/\r\n?/g,K2=/\u0000|\uFFFD/g;function ey(t){return(typeof t=="string"?t:""+t).replace(H2,`
`).replace(K2,"")}function hl(t,e,n){if(e=ey(e),ey(t)!==e&&n)throw Error(se(425))}function ru(){}var wh=null,bh=null;function Eh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Th=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,G2=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(Q2)}:Th;function Q2(t){setTimeout(function(){throw t})}function Ed(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ta(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ta(e)}function jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ny(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Fs,oa="__reactProps$"+Fs,sr="__reactContainer$"+Fs,Ah="__reactEvents$"+Fs,Y2="__reactListeners$"+Fs,X2="__reactHandles$"+Fs;function mi(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ny(t);t!==null;){if(n=t[Dn])return n;t=ny(t)}return e}t=n,n=t.parentNode}return null}function ka(t){return t=t[Dn]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Ju(t){return t[oa]||null}var Ih=[],is=-1;function ti(t){return{current:t}}function We(t){0>is||(t.current=Ih[is],Ih[is]=null,is--)}function Ue(t,e){is++,Ih[is]=t.current,t.current=e}var Kr={},Ot=ti(Kr),Ht=ti(!1),Ei=Kr;function Es(t,e){var n=t.type.contextTypes;if(!n)return Kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function iu(){We(Ht),We(Ot)}function ry(t,e,n){if(Ot.current!==Kr)throw Error(se(168));Ue(Ot,e),Ue(Ht,n)}function o_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,DT(t)||"Unknown",i));return Je({},n,r)}function su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,Ei=Ot.current,Ue(Ot,t),Ue(Ht,Ht.current),!0}function iy(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=o_(t,e,Ei),r.__reactInternalMemoizedMergedChildContext=t,We(Ht),We(Ot),Ue(Ot,t)):We(Ht),Ue(Ht,n)}var Xn=null,Zu=!1,Td=!1;function a_(t){Xn===null?Xn=[t]:Xn.push(t)}function J2(t){Zu=!0,a_(t)}function ni(){if(!Td&&Xn!==null){Td=!0;var t=0,e=Me;try{var n=Xn;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,Zu=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(t+1)),R1(Ff,ni),i}finally{Me=e,Td=!1}}return null}var ss=[],os=0,ou=null,au=0,an=[],ln=0,Ti=null,Jn=1,Zn="";function di(t,e){ss[os++]=au,ss[os++]=ou,ou=t,au=e}function l_(t,e,n){an[ln++]=Jn,an[ln++]=Zn,an[ln++]=Ti,Ti=t;var r=Jn;t=Zn;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var s=32-Tn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jn=1<<32-Tn(e)+i|n<<i|r,Zn=s+t}else Jn=1<<s|n<<i|r,Zn=t}function Gf(t){t.return!==null&&(di(t,1),l_(t,1,0))}function Qf(t){for(;t===ou;)ou=ss[--os],ss[os]=null,au=ss[--os],ss[os]=null;for(;t===Ti;)Ti=an[--ln],an[ln]=null,Zn=an[--ln],an[ln]=null,Jn=an[--ln],an[ln]=null}var tn=null,Zt=null,Ge=!1,wn=null;function u_(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Zt=jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ti!==null?{id:Jn,overflow:Zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,Zt=null,!0):!1;default:return!1}}function Sh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kh(t){if(Ge){var e=Zt;if(e){var n=e;if(!sy(t,e)){if(Sh(t))throw Error(se(418));e=jr(n.nextSibling);var r=tn;e&&sy(t,e)?u_(r,n):(t.flags=t.flags&-4097|2,Ge=!1,tn=t)}}else{if(Sh(t))throw Error(se(418));t.flags=t.flags&-4097|2,Ge=!1,tn=t}}}function oy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function fl(t){if(t!==tn)return!1;if(!Ge)return oy(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Eh(t.type,t.memoizedProps)),e&&(e=Zt)){if(Sh(t))throw c_(),Error(se(418));for(;e;)u_(t,e),e=jr(e.nextSibling)}if(oy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=jr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=tn?jr(t.stateNode.nextSibling):null;return!0}function c_(){for(var t=Zt;t;)t=jr(t.nextSibling)}function Ts(){Zt=tn=null,Ge=!1}function Yf(t){wn===null?wn=[t]:wn.push(t)}var Z2=fr.ReactCurrentBatchConfig;function vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function pl(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ay(t){var e=t._init;return e(t._payload)}function d_(t){function e(g,m){if(t){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Vr(g,m),g.index=0,g.sibling=null,g}function s(g,m,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,x,v){return m===null||m.tag!==6?(m=Cd(x,g.mode,v),m.return=g,m):(m=i(m,x),m.return=g,m)}function l(g,m,x,v){var k=x.type;return k===Zi?f(g,m,x.props.children,v,x.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xr&&ay(k)===m.type)?(v=i(m,x.props),v.ref=vo(g,m,x),v.return=g,v):(v=Vl(x.type,x.key,x.props,null,g.mode,v),v.ref=vo(g,m,x),v.return=g,v)}function d(g,m,x,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Rd(x,g.mode,v),m.return=g,m):(m=i(m,x.children||[]),m.return=g,m)}function f(g,m,x,v,k){return m===null||m.tag!==7?(m=wi(x,g.mode,v,k),m.return=g,m):(m=i(m,x),m.return=g,m)}function h(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Cd(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case rl:return x=Vl(m.type,m.key,m.props,null,g.mode,x),x.ref=vo(g,null,m),x.return=g,x;case Ji:return m=Rd(m,g.mode,x),m.return=g,m;case xr:var v=m._init;return h(g,v(m._payload),x)}if(To(m)||fo(m))return m=wi(m,g.mode,x,null),m.return=g,m;pl(g,m)}return null}function c(g,m,x,v){var k=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(g,m,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rl:return x.key===k?l(g,m,x,v):null;case Ji:return x.key===k?d(g,m,x,v):null;case xr:return k=x._init,c(g,m,k(x._payload),v)}if(To(x)||fo(x))return k!==null?null:f(g,m,x,v,null);pl(g,x)}return null}function p(g,m,x,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(x)||null,a(m,g,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rl:return g=g.get(v.key===null?x:v.key)||null,l(m,g,v,k);case Ji:return g=g.get(v.key===null?x:v.key)||null,d(m,g,v,k);case xr:var O=v._init;return p(g,m,x,O(v._payload),k)}if(To(v)||fo(v))return g=g.get(x)||null,f(m,g,v,k,null);pl(m,v)}return null}function w(g,m,x,v){for(var k=null,O=null,S=m,E=m=0,N=null;S!==null&&E<x.length;E++){S.index>E?(N=S,S=null):N=S.sibling;var T=c(g,S,x[E],v);if(T===null){S===null&&(S=N);break}t&&S&&T.alternate===null&&e(g,S),m=s(T,m,E),O===null?k=T:O.sibling=T,O=T,S=N}if(E===x.length)return n(g,S),Ge&&di(g,E),k;if(S===null){for(;E<x.length;E++)S=h(g,x[E],v),S!==null&&(m=s(S,m,E),O===null?k=S:O.sibling=S,O=S);return Ge&&di(g,E),k}for(S=r(g,S);E<x.length;E++)N=p(S,g,E,x[E],v),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?E:N.key),m=s(N,m,E),O===null?k=N:O.sibling=N,O=N);return t&&S.forEach(function(A){return e(g,A)}),Ge&&di(g,E),k}function _(g,m,x,v){var k=fo(x);if(typeof k!="function")throw Error(se(150));if(x=k.call(x),x==null)throw Error(se(151));for(var O=k=null,S=m,E=m=0,N=null,T=x.next();S!==null&&!T.done;E++,T=x.next()){S.index>E?(N=S,S=null):N=S.sibling;var A=c(g,S,T.value,v);if(A===null){S===null&&(S=N);break}t&&S&&A.alternate===null&&e(g,S),m=s(A,m,E),O===null?k=A:O.sibling=A,O=A,S=N}if(T.done)return n(g,S),Ge&&di(g,E),k;if(S===null){for(;!T.done;E++,T=x.next())T=h(g,T.value,v),T!==null&&(m=s(T,m,E),O===null?k=T:O.sibling=T,O=T);return Ge&&di(g,E),k}for(S=r(g,S);!T.done;E++,T=x.next())T=p(S,g,E,T.value,v),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),m=s(T,m,E),O===null?k=T:O.sibling=T,O=T);return t&&S.forEach(function(P){return e(g,P)}),Ge&&di(g,E),k}function b(g,m,x,v){if(typeof x=="object"&&x!==null&&x.type===Zi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case rl:e:{for(var k=x.key,O=m;O!==null;){if(O.key===k){if(k=x.type,k===Zi){if(O.tag===7){n(g,O.sibling),m=i(O,x.props.children),m.return=g,g=m;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xr&&ay(k)===O.type){n(g,O.sibling),m=i(O,x.props),m.ref=vo(g,O,x),m.return=g,g=m;break e}n(g,O);break}else e(g,O);O=O.sibling}x.type===Zi?(m=wi(x.props.children,g.mode,v,x.key),m.return=g,g=m):(v=Vl(x.type,x.key,x.props,null,g.mode,v),v.ref=vo(g,m,x),v.return=g,g=v)}return o(g);case Ji:e:{for(O=x.key;m!==null;){if(m.key===O)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(g,m.sibling),m=i(m,x.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Rd(x,g.mode,v),m.return=g,g=m}return o(g);case xr:return O=x._init,b(g,m,O(x._payload),v)}if(To(x))return w(g,m,x,v);if(fo(x))return _(g,m,x,v);pl(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,x),m.return=g,g=m):(n(g,m),m=Cd(x,g.mode,v),m.return=g,g=m),o(g)):n(g,m)}return b}var As=d_(!0),h_=d_(!1),lu=ti(null),uu=null,as=null,Xf=null;function Jf(){Xf=as=uu=null}function Zf(t){var e=lu.current;We(lu),t._currentValue=e}function Nh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ms(t,e){uu=t,Xf=as=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(Xf!==t)if(t={context:t,memoizedValue:e,next:null},as===null){if(uu===null)throw Error(se(308));as=t,uu.dependencies={lanes:0,firstContext:t}}else as=as.next=t;return e}var gi=null;function ep(t){gi===null?gi=[t]:gi.push(t)}function f_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ep(e)):(n.next=i.next,i.next=n),e.interleaved=n,or(t,r)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function tp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,or(t,n)}return i=r.interleaved,i===null?(e.next=e,ep(r)):(e.next=i.next,i.next=e),r.interleaved=e,or(t,n)}function Rl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uf(t,n)}}function ly(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cu(t,e,n,r){var i=t.updateQueue;wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=d=l=null,a=s;do{var c=a.lane,p=a.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,_=a;switch(c=e,p=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(p,h,c);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,c=typeof w=="function"?w.call(p,h,c):w,c==null)break e;h=Je({},h,c);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else p={eventTime:p,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=p,l=h):f=f.next=p,o|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ii|=o,t.lanes=o,t.memoizedState=h}}function uy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var Na={},Mn=ti(Na),aa=ti(Na),la=ti(Na);function yi(t){if(t===Na)throw Error(se(174));return t}function np(t,e){switch(Ue(la,e),Ue(aa,t),Ue(Mn,Na),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uh(e,t)}We(Mn),Ue(Mn,e)}function Is(){We(Mn),We(aa),We(la)}function m_(t){yi(la.current);var e=yi(Mn.current),n=uh(e,t.type);e!==n&&(Ue(aa,t),Ue(Mn,n))}function rp(t){aa.current===t&&(We(Mn),We(aa))}var Ye=ti(0);function du(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ad=[];function ip(){for(var t=0;t<Ad.length;t++)Ad[t]._workInProgressVersionPrimary=null;Ad.length=0}var Ol=fr.ReactCurrentDispatcher,Id=fr.ReactCurrentBatchConfig,Ai=0,Xe=null,ut=null,mt=null,hu=!1,Fo=!1,ua=0,eA=0;function St(){throw Error(se(321))}function sp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sn(t[n],e[n]))return!1;return!0}function op(t,e,n,r,i,s){if(Ai=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ol.current=t===null||t.memoizedState===null?iA:sA,t=n(r,i),Fo){s=0;do{if(Fo=!1,ua=0,25<=s)throw Error(se(301));s+=1,mt=ut=null,e.updateQueue=null,Ol.current=oA,t=n(r,i)}while(Fo)}if(Ol.current=fu,e=ut!==null&&ut.next!==null,Ai=0,mt=ut=Xe=null,hu=!1,e)throw Error(se(300));return t}function ap(){var t=ua!==0;return ua=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Xe.memoizedState=mt=t:mt=mt.next=t,mt}function pn(){if(ut===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=mt===null?Xe.memoizedState:mt.next;if(e!==null)mt=e,ut=t;else{if(t===null)throw Error(se(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?Xe.memoizedState=mt=t:mt=mt.next=t}return mt}function ca(t,e){return typeof e=="function"?e(t):e}function Sd(t){var e=pn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,d=s;do{var f=d.lane;if((Ai&f)===f)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xe.lanes|=f,Ii|=f}d=d.next}while(d!==null&&d!==s);l===null?o=r:l.next=a,Sn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,Ii|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kd(t){var e=pn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Sn(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function g_(){}function y_(t,e){var n=Xe,r=pn(),i=e(),s=!Sn(r.memoizedState,i);if(s&&(r.memoizedState=i,$t=!0),r=r.queue,lp(x_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,da(9,__.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(se(349));Ai&30||v_(n,e,i)}return i}function v_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function __(t,e,n,r){e.value=n,e.getSnapshot=r,w_(e)&&b_(t)}function x_(t,e,n){return n(function(){w_(e)&&b_(t)})}function w_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sn(t,n)}catch{return!0}}function b_(t){var e=or(t,1);e!==null&&An(e,t,1,-1)}function cy(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t},e.queue=t,t=t.dispatch=rA.bind(null,Xe,t),[e.memoizedState,t]}function da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E_(){return pn().memoizedState}function jl(t,e,n,r){var i=On();Xe.flags|=t,i.memoizedState=da(1|e,n,void 0,r===void 0?null:r)}function ec(t,e,n,r){var i=pn();r=r===void 0?null:r;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,r!==null&&sp(r,o.deps)){i.memoizedState=da(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=da(1|e,n,s,r)}function dy(t,e){return jl(8390656,8,t,e)}function lp(t,e){return ec(2048,8,t,e)}function T_(t,e){return ec(4,2,t,e)}function A_(t,e){return ec(4,4,t,e)}function I_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S_(t,e,n){return n=n!=null?n.concat([t]):null,ec(4,4,I_.bind(null,e,t),n)}function up(){}function k_(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function N_(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function P_(t,e,n){return Ai&21?(Sn(n,e)||(n=D1(),Xe.lanes|=n,Ii|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function tA(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Id.transition;Id.transition={};try{t(!1),e()}finally{Me=n,Id.transition=r}}function C_(){return pn().memoizedState}function nA(t,e,n){var r=Mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},R_(t))O_(e,n);else if(n=f_(t,e,n,r),n!==null){var i=Vt();An(n,t,r,i),j_(n,e,r)}}function rA(t,e,n){var r=Mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(R_(t))O_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Sn(a,o)){var l=e.interleaved;l===null?(i.next=i,ep(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=f_(t,e,i,r),n!==null&&(i=Vt(),An(n,t,r,i),j_(n,e,r))}}function R_(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function O_(t,e){Fo=hu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uf(t,n)}}var fu={readContext:fn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},iA={readContext:fn,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:dy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jl(4194308,4,I_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return jl(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nA.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:cy,useDebugValue:up,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=cy(!1),e=t[0];return t=tA.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=On();if(Ge){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),gt===null)throw Error(se(349));Ai&30||v_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,dy(x_.bind(null,r,s,t),[t]),r.flags|=2048,da(9,__.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=On(),e=gt.identifierPrefix;if(Ge){var n=Zn,r=Jn;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ua++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sA={readContext:fn,useCallback:k_,useContext:fn,useEffect:lp,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:A_,useMemo:N_,useReducer:Sd,useRef:E_,useState:function(){return Sd(ca)},useDebugValue:up,useDeferredValue:function(t){var e=pn();return P_(e,ut.memoizedState,t)},useTransition:function(){var t=Sd(ca)[0],e=pn().memoizedState;return[t,e]},useMutableSource:g_,useSyncExternalStore:y_,useId:C_,unstable_isNewReconciler:!1},oA={readContext:fn,useCallback:k_,useContext:fn,useEffect:lp,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:A_,useMemo:N_,useReducer:kd,useRef:E_,useState:function(){return kd(ca)},useDebugValue:up,useDeferredValue:function(t){var e=pn();return ut===null?e.memoizedState=t:P_(e,ut.memoizedState,t)},useTransition:function(){var t=kd(ca)[0],e=pn().memoizedState;return[t,e]},useMutableSource:g_,useSyncExternalStore:y_,useId:C_,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ph(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tc={isMounted:function(t){return(t=t._reactInternals)?Di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=Mr(t),s=nr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Dr(t,s,i),e!==null&&(An(e,t,i,r),Rl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=Mr(t),s=nr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Dr(t,s,i),e!==null&&(An(e,t,i,r),Rl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=Mr(t),i=nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Dr(t,i,r),e!==null&&(An(e,t,r,n),Rl(e,t,r))}};function hy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ra(n,r)||!ra(i,s):!0}function D_(t,e,n){var r=!1,i=Kr,s=e.contextType;return typeof s=="object"&&s!==null?s=fn(s):(i=Kt(e)?Ei:Ot.current,r=e.contextTypes,s=(r=r!=null)?Es(t,i):Kr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tc.enqueueReplaceState(e,e.state,null)}function Ch(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},tp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fn(s):(s=Kt(e)?Ei:Ot.current,i.context=Es(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ph(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tc.enqueueReplaceState(i,i.state,null),cu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ss(t,e){try{var n="",r=e;do n+=jT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aA=typeof WeakMap=="function"?WeakMap:Map;function L_(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mu||(mu=!0,Bh=r),Rh(t,e)},n}function M_(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rh(t,e),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function py(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wA.bind(null,t,e,n),e.then(t,t))}function my(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,Dr(n,e,1))),n.lanes|=1),t)}var lA=fr.ReactCurrentOwner,$t=!1;function Mt(t,e,n,r){e.child=t===null?h_(e,null,n,r):As(e,t.child,n,r)}function yy(t,e,n,r,i){n=n.render;var s=e.ref;return ms(e,i),r=op(t,e,n,r,s,i),n=ap(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Ge&&n&&Gf(e),e.flags|=1,Mt(t,e,r,i),e.child)}function vy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!yp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,V_(t,e,s,r,i)):(t=Vl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ra,n(o,r)&&t.ref===e.ref)return ar(t,e,i)}return e.flags|=1,t=Vr(s,r),t.ref=e.ref,t.return=e,e.child=t}function V_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ra(s,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,ar(t,e,i)}return Oh(t,e,n,r,i)}function F_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(us,Xt),Xt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(us,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(us,Xt),Xt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(us,Xt),Xt|=r;return Mt(t,e,i,n),e.child}function U_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Oh(t,e,n,r,i){var s=Kt(n)?Ei:Ot.current;return s=Es(e,s),ms(e,i),n=op(t,e,n,r,s,i),r=ap(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Ge&&r&&Gf(e),e.flags|=1,Mt(t,e,n,i),e.child)}function _y(t,e,n,r,i){if(Kt(n)){var s=!0;su(e)}else s=!1;if(ms(e,i),e.stateNode===null)Dl(t,e),D_(e,n,r),Ch(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=fn(d):(d=Kt(n)?Ei:Ot.current,d=Es(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&fy(e,o,r,d),wr=!1;var c=e.memoizedState;o.state=c,cu(e,r,o,i),l=e.memoizedState,a!==r||c!==l||Ht.current||wr?(typeof f=="function"&&(Ph(e,n,f,r),l=e.memoizedState),(a=wr||hy(e,n,a,r,c,l,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,p_(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:_n(e.type,a),o.props=d,h=e.pendingProps,c=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=Kt(n)?Ei:Ot.current,l=Es(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||c!==l)&&fy(e,o,r,l),wr=!1,c=e.memoizedState,o.state=c,cu(e,r,o,i);var w=e.memoizedState;a!==h||c!==w||Ht.current||wr?(typeof p=="function"&&(Ph(e,n,p,r),w=e.memoizedState),(d=wr||hy(e,n,d,r,c,w,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return jh(t,e,n,r,s,i)}function jh(t,e,n,r,i,s){U_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&iy(e,n,!1),ar(t,e,s);r=e.stateNode,lA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=As(e,t.child,null,s),e.child=As(e,null,a,s)):Mt(t,e,a,s),e.memoizedState=r.state,i&&iy(e,n,!0),e.child}function q_(t){var e=t.stateNode;e.pendingContext?ry(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ry(t,e.context,!1),np(t,e.containerInfo)}function xy(t,e,n,r,i){return Ts(),Yf(i),e.flags|=256,Mt(t,e,n,r),e.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Lh(t){return{baseLanes:t,cachePool:null,transitions:null}}function B_(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ye,i&1),t===null)return kh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ic(o,r,0,null),t=wi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Lh(n),e.memoizedState=Dh,t):cp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return uA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vr(a,s):(s=wi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Lh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Dh,r}return s=t.child,t=s.sibling,r=Vr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cp(t,e){return e=ic({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ml(t,e,n,r){return r!==null&&Yf(r),As(e,t.child,null,n),t=cp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nd(Error(se(422))),ml(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ic({mode:"visible",children:r.children},i,0,null),s=wi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&As(e,t.child,null,o),e.child.memoizedState=Lh(o),e.memoizedState=Dh,s);if(!(e.mode&1))return ml(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(se(419)),r=Nd(s,r,void 0),ml(t,e,o,r)}if(a=(o&t.childLanes)!==0,$t||a){if(r=gt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,or(t,i),An(r,t,i,-1))}return gp(),r=Nd(Error(se(421))),ml(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zt=jr(i.nextSibling),tn=e,Ge=!0,wn=null,t!==null&&(an[ln++]=Jn,an[ln++]=Zn,an[ln++]=Ti,Jn=t.id,Zn=t.overflow,Ti=e),e=cp(e,r.children),e.flags|=4096,e)}function wy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nh(t.return,e,n)}function Pd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function z_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,n,e);else if(t.tag===19)wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&du(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&du(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pd(e,!0,n,null,s);break;case"together":Pd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ii|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=Vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cA(t,e,n){switch(e.tag){case 3:q_(e),Ts();break;case 5:m_(e);break;case 1:Kt(e.type)&&su(e);break;case 4:np(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(lu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?B_(t,e,n):(Ue(Ye,Ye.current&1),t=ar(t,e,n),t!==null?t.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return z_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,F_(t,e,n)}return ar(t,e,n)}var $_,Mh,H_,K_;$_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mh=function(){};H_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yi(Mn.current);var s=null;switch(n){case"input":i=sh(t,i),r=sh(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=lh(t,i),r=lh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ru)}ch(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Yo.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Yo.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};K_=function(t,e,n,r){n!==r&&(e.flags|=4)};function _o(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dA(t,e,n){var r=e.pendingProps;switch(Qf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Kt(e.type)&&iu(),kt(e),null;case 3:return r=e.stateNode,Is(),We(Ht),We(Ot),ip(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(Hh(wn),wn=null))),Mh(t,e),kt(e),null;case 5:rp(e);var i=yi(la.current);if(n=e.type,t!==null&&e.stateNode!=null)H_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return kt(e),null}if(t=yi(Mn.current),fl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Dn]=e,r[oa]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Io.length;i++)ze(Io[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Pg(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":Rg(r,s),ze("invalid",r)}ch(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hl(r.textContent,a,t),i=["children",""+a]):Yo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":il(r),Cg(r,s,!0);break;case"textarea":il(r),Og(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ru)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dn]=e,t[oa]=r,$_(t,e,!1,!1),e.stateNode=t;e:{switch(o=dh(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Io.length;i++)ze(Io[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":Pg(t,r),i=sh(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),ze("invalid",t);break;case"textarea":Rg(t,r),i=lh(t,r),ze("invalid",t);break;default:i=r}ch(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?E1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&w1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xo(t,l):typeof l=="number"&&Xo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&jf(t,s,l,o))}switch(n){case"input":il(t),Cg(t,r,!1);break;case"textarea":il(t),Og(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ds(t,!!r.multiple,s,!1):r.defaultValue!=null&&ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ru)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)K_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=yi(la.current),yi(Mn.current),fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(s=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:hl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return kt(e),null;case 13:if(We(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Zt!==null&&e.mode&1&&!(e.flags&128))c_(),Ts(),e.flags|=98560,s=!1;else if(s=fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[Dn]=e}else Ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else wn!==null&&(Hh(wn),wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?dt===0&&(dt=3):gp())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return Is(),Mh(t,e),t===null&&ia(e.stateNode.containerInfo),kt(e),null;case 10:return Zf(e.type._context),kt(e),null;case 17:return Kt(e.type)&&iu(),kt(e),null;case 19:if(We(Ye),s=e.memoizedState,s===null)return kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_o(s,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=du(t),o!==null){for(e.flags|=128,_o(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>ks&&(e.flags|=128,r=!0,_o(s,!1),e.lanes=4194304)}else{if(!r)if(t=du(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_o(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return kt(e),null}else 2*it()-s.renderingStartTime>ks&&n!==1073741824&&(e.flags|=128,r=!0,_o(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=Ye.current,Ue(Ye,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return mp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function hA(t,e){switch(Qf(e),e.tag){case 1:return Kt(e.type)&&iu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Is(),We(Ht),We(Ot),ip(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rp(e),null;case 13:if(We(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));Ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ye),null;case 4:return Is(),null;case 10:return Zf(e.type._context),null;case 22:case 23:return mp(),null;case 24:return null;default:return null}}var gl=!1,Ct=!1,fA=typeof WeakSet=="function"?WeakSet:Set,de=null;function ls(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function Vh(t,e,n){try{n()}catch(r){tt(t,e,r)}}var by=!1;function pA(t,e){if(wh=eu,t=X1(),Wf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,f=0,h=t,c=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)c=h,h=p;for(;;){if(h===t)break t;if(c===n&&++d===i&&(a=o),c===s&&++f===r&&(l=o),(p=h.nextSibling)!==null)break;h=c,c=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bh={focusedElem:t,selectionRange:n},eu=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,b=w.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:_n(e.type,_),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(v){tt(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return w=by,by=!1,w}function Uo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vh(e,n,s)}i=i.next}while(i!==r)}}function nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function W_(t){var e=t.alternate;e!==null&&(t.alternate=null,W_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[oa],delete e[Ah],delete e[Y2],delete e[X2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function G_(t){return t.tag===5||t.tag===3||t.tag===4}function Ey(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ru));else if(r!==4&&(t=t.child,t!==null))for(Uh(t,e,n),t=t.sibling;t!==null;)Uh(t,e,n),t=t.sibling}function qh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qh(t,e,n),t=t.sibling;t!==null;)qh(t,e,n),t=t.sibling}var _t=null,xn=!1;function vr(t,e,n){for(n=n.child;n!==null;)Q_(t,e,n),n=n.sibling}function Q_(t,e,n){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Gu,n)}catch{}switch(n.tag){case 5:Ct||ls(n,e);case 6:var r=_t,i=xn;_t=null,vr(t,e,n),_t=r,xn=i,_t!==null&&(xn?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(xn?(t=_t,n=n.stateNode,t.nodeType===8?Ed(t.parentNode,n):t.nodeType===1&&Ed(t,n),ta(t)):Ed(_t,n.stateNode));break;case 4:r=_t,i=xn,_t=n.stateNode.containerInfo,xn=!0,vr(t,e,n),_t=r,xn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vh(n,e,o),i=i.next}while(i!==r)}vr(t,e,n);break;case 1:if(!Ct&&(ls(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,vr(t,e,n),Ct=r):vr(t,e,n);break;default:vr(t,e,n)}}function Ty(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fA),e.forEach(function(r){var i=EA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,xn=!1;break e;case 3:_t=a.stateNode.containerInfo,xn=!0;break e;case 4:_t=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(_t===null)throw Error(se(160));Q_(s,o,i),_t=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){tt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Y_(e,t),e=e.sibling}function Y_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),Cn(t),r&4){try{Uo(3,t,t.return),nc(3,t)}catch(_){tt(t,t.return,_)}try{Uo(5,t,t.return)}catch(_){tt(t,t.return,_)}}break;case 1:vn(e,t),Cn(t),r&512&&n!==null&&ls(n,n.return);break;case 5:if(vn(e,t),Cn(t),r&512&&n!==null&&ls(n,n.return),t.flags&32){var i=t.stateNode;try{Xo(i,"")}catch(_){tt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&v1(i,s),dh(a,o);var d=dh(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?E1(i,h):f==="dangerouslySetInnerHTML"?w1(i,h):f==="children"?Xo(i,h):jf(i,f,h,d)}switch(a){case"input":oh(i,s);break;case"textarea":_1(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ds(i,!!s.multiple,p,!1):c!==!!s.multiple&&(s.defaultValue!=null?ds(i,!!s.multiple,s.defaultValue,!0):ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[oa]=s}catch(_){tt(t,t.return,_)}}break;case 6:if(vn(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){tt(t,t.return,_)}}break;case 3:if(vn(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ta(e.containerInfo)}catch(_){tt(t,t.return,_)}break;case 4:vn(e,t),Cn(t);break;case 13:vn(e,t),Cn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fp=it())),r&4&&Ty(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(d=Ct)||f,vn(e,t),Ct=d):vn(e,t),Cn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(de=t,f=t.child;f!==null;){for(h=de=f;de!==null;){switch(c=de,p=c.child,c.tag){case 0:case 11:case 14:case 15:Uo(4,c,c.return);break;case 1:ls(c,c.return);var w=c.stateNode;if(typeof w.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){tt(r,n,_)}}break;case 5:ls(c,c.return);break;case 22:if(c.memoizedState!==null){Iy(h);continue}}p!==null?(p.return=c,de=p):Iy(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=b1("display",o))}catch(_){tt(t,t.return,_)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(_){tt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vn(e,t),Cn(t),r&4&&Ty(t);break;case 21:break;default:vn(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(G_(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xo(i,""),r.flags&=-33);var s=Ey(t);qh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ey(t);Uh(t,a,o);break;default:throw Error(se(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mA(t,e,n){de=t,X_(t)}function X_(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=gl;var d=Ct;if(gl=o,(Ct=l)&&!d)for(de=i;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?Sy(i):l!==null?(l.return=o,de=l):Sy(i);for(;s!==null;)de=s,X_(s),s=s.sibling;de=i,gl=a,Ct=d}Ay(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):Ay(t)}}function Ay(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&ta(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Ct||e.flags&512&&Fh(e)}catch(c){tt(e,e.return,c)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function Iy(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function Sy(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nc(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{Fh(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{Fh(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var gA=Math.ceil,pu=fr.ReactCurrentDispatcher,dp=fr.ReactCurrentOwner,hn=fr.ReactCurrentBatchConfig,Oe=0,gt=null,ot=null,bt=0,Xt=0,us=ti(0),dt=0,ha=null,Ii=0,rc=0,hp=0,qo=null,Bt=null,fp=0,ks=1/0,Yn=null,mu=!1,Bh=null,Lr=null,yl=!1,Nr=null,gu=0,Bo=0,zh=null,Ll=-1,Ml=0;function Vt(){return Oe&6?it():Ll!==-1?Ll:Ll=it()}function Mr(t){return t.mode&1?Oe&2&&bt!==0?bt&-bt:Z2.transition!==null?(Ml===0&&(Ml=D1()),Ml):(t=Me,t!==0||(t=window.event,t=t===void 0?16:B1(t.type)),t):1}function An(t,e,n,r){if(50<Bo)throw Bo=0,zh=null,Error(se(185));Ia(t,n,r),(!(Oe&2)||t!==gt)&&(t===gt&&(!(Oe&2)&&(rc|=n),dt===4&&Er(t,bt)),Wt(t,r),n===1&&Oe===0&&!(e.mode&1)&&(ks=it()+500,Zu&&ni()))}function Wt(t,e){var n=t.callbackNode;ZT(t,e);var r=Zl(t,t===gt?bt:0);if(r===0)n!==null&&Lg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lg(n),e===1)t.tag===0?J2(ky.bind(null,t)):a_(ky.bind(null,t)),G2(function(){!(Oe&6)&&ni()}),n=null;else{switch(L1(r)){case 1:n=Ff;break;case 4:n=O1;break;case 16:n=Jl;break;case 536870912:n=j1;break;default:n=Jl}n=sx(n,J_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function J_(t,e){if(Ll=-1,Ml=0,Oe&6)throw Error(se(327));var n=t.callbackNode;if(gs()&&t.callbackNode!==n)return null;var r=Zl(t,t===gt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yu(t,r);else{e=r;var i=Oe;Oe|=2;var s=ex();(gt!==t||bt!==e)&&(Yn=null,ks=it()+500,xi(t,e));do try{_A();break}catch(a){Z_(t,a)}while(!0);Jf(),pu.current=s,Oe=i,ot!==null?e=0:(gt=null,bt=0,e=dt)}if(e!==0){if(e===2&&(i=gh(t),i!==0&&(r=i,e=$h(t,i))),e===1)throw n=ha,xi(t,0),Er(t,r),Wt(t,it()),n;if(e===6)Er(t,r);else{if(i=t.current.alternate,!(r&30)&&!yA(i)&&(e=yu(t,r),e===2&&(s=gh(t),s!==0&&(r=s,e=$h(t,s))),e===1))throw n=ha,xi(t,0),Er(t,r),Wt(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:hi(t,Bt,Yn);break;case 3:if(Er(t,r),(r&130023424)===r&&(e=fp+500-it(),10<e)){if(Zl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Th(hi.bind(null,t,Bt,Yn),e);break}hi(t,Bt,Yn);break;case 4:if(Er(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Tn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gA(r/1960))-r,10<r){t.timeoutHandle=Th(hi.bind(null,t,Bt,Yn),r);break}hi(t,Bt,Yn);break;case 5:hi(t,Bt,Yn);break;default:throw Error(se(329))}}}return Wt(t,it()),t.callbackNode===n?J_.bind(null,t):null}function $h(t,e){var n=qo;return t.current.memoizedState.isDehydrated&&(xi(t,e).flags|=256),t=yu(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&Hh(e)),t}function Hh(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function yA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Er(t,e){for(e&=~hp,e&=~rc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),r=1<<n;t[n]=-1,e&=~r}}function ky(t){if(Oe&6)throw Error(se(327));gs();var e=Zl(t,0);if(!(e&1))return Wt(t,it()),null;var n=yu(t,e);if(t.tag!==0&&n===2){var r=gh(t);r!==0&&(e=r,n=$h(t,r))}if(n===1)throw n=ha,xi(t,0),Er(t,e),Wt(t,it()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hi(t,Bt,Yn),Wt(t,it()),null}function pp(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(ks=it()+500,Zu&&ni())}}function Si(t){Nr!==null&&Nr.tag===0&&!(Oe&6)&&gs();var e=Oe;Oe|=1;var n=hn.transition,r=Me;try{if(hn.transition=null,Me=1,t)return t()}finally{Me=r,hn.transition=n,Oe=e,!(Oe&6)&&ni()}}function mp(){Xt=us.current,We(us)}function xi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,W2(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(Qf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&iu();break;case 3:Is(),We(Ht),We(Ot),ip();break;case 5:rp(r);break;case 4:Is();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Zf(r.type._context);break;case 22:case 23:mp()}n=n.return}if(gt=t,ot=t=Vr(t.current,null),bt=Xt=e,dt=0,ha=null,hp=rc=Ii=0,Bt=qo=null,gi!==null){for(e=0;e<gi.length;e++)if(n=gi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gi=null}return t}function Z_(t,e){do{var n=ot;try{if(Jf(),Ol.current=fu,hu){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hu=!1}if(Ai=0,mt=ut=Xe=null,Fo=!1,ua=0,dp.current=null,n===null||n.return===null){dt=1,ha=e,ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=my(o);if(p!==null){p.flags&=-257,gy(p,o,a,s,e),p.mode&1&&py(s,d,e),e=p,l=d;var w=e.updateQueue;if(w===null){var _=new Set;_.add(l),e.updateQueue=_}else w.add(l);break e}else{if(!(e&1)){py(s,d,e),gp();break e}l=Error(se(426))}}else if(Ge&&a.mode&1){var b=my(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),gy(b,o,a,s,e),Yf(Ss(l,a));break e}}s=l=Ss(l,a),dt!==4&&(dt=2),qo===null?qo=[s]:qo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=L_(s,l,e);ly(s,g);break e;case 1:a=l;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Lr===null||!Lr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var v=M_(s,a,e);ly(s,v);break e}}s=s.return}while(s!==null)}nx(n)}catch(k){e=k,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function ex(){var t=pu.current;return pu.current=fu,t===null?fu:t}function gp(){(dt===0||dt===3||dt===2)&&(dt=4),gt===null||!(Ii&268435455)&&!(rc&268435455)||Er(gt,bt)}function yu(t,e){var n=Oe;Oe|=2;var r=ex();(gt!==t||bt!==e)&&(Yn=null,xi(t,e));do try{vA();break}catch(i){Z_(t,i)}while(!0);if(Jf(),Oe=n,pu.current=r,ot!==null)throw Error(se(261));return gt=null,bt=0,dt}function vA(){for(;ot!==null;)tx(ot)}function _A(){for(;ot!==null&&!$T();)tx(ot)}function tx(t){var e=ix(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?nx(t):ot=e,dp.current=null}function nx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hA(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(n=dA(n,e,Xt),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);dt===0&&(dt=5)}function hi(t,e,n){var r=Me,i=hn.transition;try{hn.transition=null,Me=1,xA(t,e,n,r)}finally{hn.transition=i,Me=r}return null}function xA(t,e,n,r){do gs();while(Nr!==null);if(Oe&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(e2(t,s),t===gt&&(ot=gt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yl||(yl=!0,sx(Jl,function(){return gs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hn.transition,hn.transition=null;var o=Me;Me=1;var a=Oe;Oe|=4,dp.current=null,pA(t,n),Y_(n,t),U2(bh),eu=!!wh,bh=wh=null,t.current=n,mA(n),HT(),Oe=a,Me=o,hn.transition=s}else t.current=n;if(yl&&(yl=!1,Nr=t,gu=i),s=t.pendingLanes,s===0&&(Lr=null),GT(n.stateNode),Wt(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mu)throw mu=!1,t=Bh,Bh=null,t;return gu&1&&t.tag!==0&&gs(),s=t.pendingLanes,s&1?t===zh?Bo++:(Bo=0,zh=t):Bo=0,ni(),null}function gs(){if(Nr!==null){var t=L1(gu),e=hn.transition,n=Me;try{if(hn.transition=null,Me=16>t?16:t,Nr===null)var r=!1;else{if(t=Nr,Nr=null,gu=0,Oe&6)throw Error(se(331));var i=Oe;for(Oe|=4,de=t.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(de=d;de!==null;){var f=de;switch(f.tag){case 0:case 11:case 15:Uo(8,f,s)}var h=f.child;if(h!==null)h.return=f,de=h;else for(;de!==null;){f=de;var c=f.sibling,p=f.return;if(W_(f),f===d){de=null;break}if(c!==null){c.return=p,de=c;break}de=p}}}var w=s.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,de=g;break e}de=s.return}}var m=t.current;for(de=m;de!==null;){o=de;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,de=x;else e:for(o=m;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nc(9,a)}}catch(k){tt(a,a.return,k)}if(a===o){de=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,de=v;break e}de=a.return}}if(Oe=i,ni(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Gu,t)}catch{}r=!0}return r}finally{Me=n,hn.transition=e}}return!1}function Ny(t,e,n){e=Ss(n,e),e=L_(t,e,1),t=Dr(t,e,1),e=Vt(),t!==null&&(Ia(t,1,e),Wt(t,e))}function tt(t,e,n){if(t.tag===3)Ny(t,t,n);else for(;e!==null;){if(e.tag===3){Ny(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){t=Ss(n,t),t=M_(e,t,1),e=Dr(e,t,1),t=Vt(),e!==null&&(Ia(e,1,t),Wt(e,t));break}}e=e.return}}function wA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(bt&n)===n&&(dt===4||dt===3&&(bt&130023424)===bt&&500>it()-fp?xi(t,0):hp|=n),Wt(t,e)}function rx(t,e){e===0&&(t.mode&1?(e=al,al<<=1,!(al&130023424)&&(al=4194304)):e=1);var n=Vt();t=or(t,e),t!==null&&(Ia(t,e,n),Wt(t,n))}function bA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rx(t,n)}function EA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),rx(t,n)}var ix;ix=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,cA(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Ge&&e.flags&1048576&&l_(e,au,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dl(t,e),t=e.pendingProps;var i=Es(e,Ot.current);ms(e,n),i=op(null,e,r,t,i,n);var s=ap();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(s=!0,su(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tp(e),i.updater=tc,e.stateNode=i,i._reactInternals=e,Ch(e,r,t,n),e=jh(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&Gf(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AA(r),t=_n(r,t),i){case 0:e=Oh(null,e,r,t,n);break e;case 1:e=_y(null,e,r,t,n);break e;case 11:e=yy(null,e,r,t,n);break e;case 14:e=vy(null,e,r,_n(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Oh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),_y(t,e,r,i,n);case 3:e:{if(q_(e),t===null)throw Error(se(387));r=e.pendingProps,s=e.memoizedState,i=s.element,p_(t,e),cu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ss(Error(se(423)),e),e=xy(t,e,r,n,i);break e}else if(r!==i){i=Ss(Error(se(424)),e),e=xy(t,e,r,n,i);break e}else for(Zt=jr(e.stateNode.containerInfo.firstChild),tn=e,Ge=!0,wn=null,n=h_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ts(),r===i){e=ar(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return m_(e),t===null&&kh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Eh(r,i)?o=null:s!==null&&Eh(r,s)&&(e.flags|=32),U_(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&kh(e),null;case 13:return B_(t,e,n);case 4:return np(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),yy(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(lu,r._currentValue),r._currentValue=o,s!==null)if(Sn(s.value,o)){if(s.children===i.children&&!Ht.current){e=ar(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=nr(-1,n&-n),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?l.next=l:(l.next=f.next,f.next=l),d.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Nh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ms(e,n),i=fn(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),vy(t,e,r,i,n);case 15:return V_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Dl(t,e),e.tag=1,Kt(r)?(t=!0,su(e)):t=!1,ms(e,n),D_(e,r,i),Ch(e,r,i,n),jh(null,e,r,!0,t,n);case 19:return z_(t,e,n);case 22:return F_(t,e,n)}throw Error(se(156,e.tag))};function sx(t,e){return R1(t,e)}function TA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new TA(t,e,n,r)}function yp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AA(t){if(typeof t=="function")return yp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lf)return 11;if(t===Mf)return 14}return 2}function Vr(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")yp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zi:return wi(n.children,i,s,e);case Df:o=8,i|=8;break;case th:return t=dn(12,n,e,i|2),t.elementType=th,t.lanes=s,t;case nh:return t=dn(13,n,e,i),t.elementType=nh,t.lanes=s,t;case rh:return t=dn(19,n,e,i),t.elementType=rh,t.lanes=s,t;case m1:return ic(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case f1:o=10;break e;case p1:o=9;break e;case Lf:o=11;break e;case Mf:o=14;break e;case xr:o=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wi(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function ic(t,e,n,r){return t=dn(22,t,r,e),t.elementType=m1,t.lanes=n,t.stateNode={isHidden:!1},t}function Cd(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Rd(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hd(0),this.expirationTimes=hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vp(t,e,n,r,i,s,o,a,l){return t=new IA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tp(s),t}function SA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ox(t){if(!t)return Kr;t=t._reactInternals;e:{if(Di(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(Kt(n))return o_(t,n,e)}return e}function ax(t,e,n,r,i,s,o,a,l){return t=vp(n,r,!0,t,i,s,o,a,l),t.context=ox(null),n=t.current,r=Vt(),i=Mr(n),s=nr(r,i),s.callback=e??null,Dr(n,s,i),t.current.lanes=i,Ia(t,i,r),Wt(t,r),t}function sc(t,e,n,r){var i=e.current,s=Vt(),o=Mr(i);return n=ox(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dr(i,e,o),t!==null&&(An(t,i,o,s),Rl(t,i,o)),o}function vu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Py(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _p(t,e){Py(t,e),(t=t.alternate)&&Py(t,e)}function kA(){return null}var lx=typeof reportError=="function"?reportError:function(t){console.error(t)};function xp(t){this._internalRoot=t}oc.prototype.render=xp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));sc(t,e,null,null)};oc.prototype.unmount=xp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Si(function(){sc(null,t,null,null)}),e[sr]=null}};function oc(t){this._internalRoot=t}oc.prototype.unstable_scheduleHydration=function(t){if(t){var e=F1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&q1(t)}};function wp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ac(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cy(){}function NA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=vu(o);s.call(d)}}var o=ax(e,r,t,0,null,!1,!1,"",Cy);return t._reactRootContainer=o,t[sr]=o.current,ia(t.nodeType===8?t.parentNode:t),Si(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=vu(l);a.call(d)}}var l=vp(t,0,!1,null,null,!1,!1,"",Cy);return t._reactRootContainer=l,t[sr]=l.current,ia(t.nodeType===8?t.parentNode:t),Si(function(){sc(e,l,n,r)}),l}function lc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vu(o);a.call(l)}}sc(e,o,t,i)}else o=NA(n,e,t,i,r);return vu(o)}M1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ao(e.pendingLanes);n!==0&&(Uf(e,n|1),Wt(e,it()),!(Oe&6)&&(ks=it()+500,ni()))}break;case 13:Si(function(){var r=or(t,1);if(r!==null){var i=Vt();An(r,t,1,i)}}),_p(t,1)}};qf=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=Vt();An(e,t,134217728,n)}_p(t,134217728)}};V1=function(t){if(t.tag===13){var e=Mr(t),n=or(t,e);if(n!==null){var r=Vt();An(n,t,e,r)}_p(t,e)}};F1=function(){return Me};U1=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};fh=function(t,e,n){switch(e){case"input":if(oh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ju(r);if(!i)throw Error(se(90));y1(r),oh(r,i)}}}break;case"textarea":_1(t,n);break;case"select":e=n.value,e!=null&&ds(t,!!n.multiple,e,!1)}};I1=pp;S1=Si;var PA={usingClientEntryPoint:!1,Events:[ka,rs,Ju,T1,A1,pp]},xo={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CA={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P1(t),t===null?null:t.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||kA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Gu=vl.inject(CA),Ln=vl}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PA;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wp(e))throw Error(se(200));return SA(t,e,null,n)};sn.createRoot=function(t,e){if(!wp(t))throw Error(se(299));var n=!1,r="",i=lx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vp(t,1,!1,null,null,n,!1,r,i),t[sr]=e.current,ia(t.nodeType===8?t.parentNode:t),new xp(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=P1(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return Si(t)};sn.hydrate=function(t,e,n){if(!ac(e))throw Error(se(200));return lc(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!wp(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ax(e,null,t,1,n??null,i,!1,s,o),t[sr]=e.current,ia(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new oc(e)};sn.render=function(t,e,n){if(!ac(e))throw Error(se(200));return lc(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!ac(t))throw Error(se(40));return t._reactRootContainer?(Si(function(){lc(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};sn.unstable_batchedUpdates=pp;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ac(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return lc(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function ux(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ux)}catch(t){console.error(t)}}ux(),u1.exports=sn;var cx=u1.exports,dx,Ry=cx;dx=Ry.createRoot,Ry.hydrateRoot;const hx=[{code:"fr",name:"Franais",direction:"ltr"},{code:"ar",name:"",direction:"rtl"}],RA={fr:{"nav.home":"Accueil","nav.identification":" propos de nous","nav.members":"Membres","nav.activities":"Activits","nav.membership":"Adhsion","nav.program":"Programme annuel","nav.contact":"Contact","nav.shop":"Boutique","nav.articles":"Articles","home.hero.title":"Association El Bouchra pour le dveloppement durable -HAY ADIL-","home.hero.subtitle":"Vous Souhaite Le Bienvenue","home.mission.title":"Notre Mission","home.mission.text":"Promouvoir le dveloppement durable et protger notre environnement pour les gnrations futures.","home.activities.title":"Nos Activits","home.activities.env.title":"Protection Environnementale","home.activities.env.text":"Actions concrtes pour prserver la nature et sensibiliser aux enjeux cologiques.","home.activities.education.title":"ducation Environnementale","home.activities.education.text":"Programmes ducatifs pour sensibiliser toutes les gnrations.","home.activities.community.title":"Actions Communautaires","home.activities.community.text":"Projets locaux impliquant les citoyens dans le dveloppement durable.","tshirt.title":"Boutique - T-shirts","tshirt.subtitle":"Soutenez notre association avec nos t-shirts co-responsables","tshirt.eco.name":"T-shirt co Bleu","tshirt.eco.description":"T-shirt en coton bio avec logo de l'association","tshirt.classic.name":"T-shirt Classique","tshirt.classic.description":"T-shirt premium avec design exclusif","tshirt.price":" MAD","tshirt.buy":"Acheter via WhatsApp","membership.title":"Adhsion","membership.subtitle":"Rejoignez notre mission pour le dveloppement durable","membership.intro":"Devenez membre de l'association EL BOUCHRA et participez activement  nos actions pour un avenir plus vert.","membership.benefits.title":"Avantages de l'adhsion","membership.benefit1":"Participation aux activits et vnements","membership.benefit2":"Accs aux formations environnementales","membership.benefit3":"Newsletter mensuelle","membership.benefit4":"Rductions sur nos produits","membership.download":"Tlcharger le formulaire d'adhsion","membership.requirements.title":"Conditions d'adhsion","membership.requirements.intro.fr":"Afin de dvelopper et de promouvoir les activits de l'association et conformment aux recommandations du bureau national, l'Association EL BOUCHRA pour le Dveloppement Durable -HAY ADIL- a t dcid d'ouvrir l'adhsion et le renouvellement de l'adhsion aux publics.","membership.requirements.subtitle":"Les personnes souhaitant adhrer doivent :","membership.fee.amount":"200 dirhams","program.title":"Programme Annuel","program.subtitle":"Nos vnements et activits prvus pour l'anne","contact.title":"Nous Contacter","contact.subtitle":"Restons en contact pour un avenir plus vert","contact.form.name":"Nom complet","contact.form.email":"Email","contact.form.message":"Message","contact.form.send":"Envoyer le message","contact.info.title":"Informations de Contact","contact.info.address":"Adresse","contact.info.email":"Email","contact.info.whatsapp":"WhatsApp","common.learn-more":"En savoir plus","common.read-more":"Lire la suite","common.read-less":"Lire moins","footer.quick-links":"Liens rapides","footer.contact":"Contact","footer.privacy":"Politique de confidentialit","footer.legal":"Mentions lgales","footer.rights":"Tous droits rservs","identification.title":" propos de nous","identification.subtitle":"Dcouvrez qui nous sommes et nos valeurs","identification.vision.title":"Notre Vision","identification.vision.text":"Lassociation EL BOUCHRA pour le dveloppement durable uvre activement  la promotion dune socit plus quitable et respectueuse de lenvironnement, en plaant les jeunes et les femmes au cur de ses actions. Elle sintresse particulirement aux problmatiques lies  lgalit des chances,  laccs  la formation et au renforcement des comptences, afin de permettre aux jeunes et les femmes de devenir des actreurs du changement dans leurs communauts.  travers des ateliers, des programmes ducatifs et des initiatives de sensibilisation, lassociation accompagne ces futures leaders  dvelopper leurs savoirs, leurs capacits entrepreneuriales et leur conscience cologique, contribuant ainsi  un avenir plus durableetinclusif.","identification.mission.title":"Notre Mission","identification.mission.text":`1. ducation, formation et inclusion des enfants et des femmes

    L'association se concentre sur la situation des enfants, des jeunes et des femmes, afin de protger leurs familles et les institutions concernes.
    
    Contribuer aux programmes d'ducation de la petite enfance, de lutte contre l'analphabtisme, d'ducation informelle et de dcrochage scolaire.
    
    Accompagner et soutenir les projets par des activits de formation, d'orientation et de financement pour la cration d'entreprise.
    
    Crer et soutenir les projets d'entrepreneurs pour leurs enfants et  l'international.
    
    Contribuer  la formation et au dveloppement du personnel de l'association,  l'adaptation  d'autres spcialistes et autres, au changement d'exprience et au dveloppement des pratiques ducatives.

    
    2. Culture, art et crativit
    
    Activits culturelles, artistiques et sportives.
    
    Valoriser et valoriser les talents crs par les enfants, les adolescents et les jeunes adultes dans divers domaines.
    
    Organisateur de confrences et de formations.
    
    Collections, spectacles et festivals artistiques, culturels et sportifs.
    
    Organisateur d'activits ducatives, culturelles, artistiques et sociales.

    
    3. Personnel sportif et de dveloppement
    
    Mentions lgales : Lassociation sengage  promouvoir la pratique de tous les sports et arts martiaux, dans le respect de la culture, des rgles et des techniques du jeu.
    
    Dvelopper les qualits physiques et morales de ses membres.
    
    Participer aux comptitions officielles et aux organisations acadmiques sur les marchs locaux, rgionaux, nationaux et internationaux.

    
    4. Vie de lassociation, partenaires et communication
    
    Crer un espace de communication entre les associations et les institutions partageant des objectifs communs.
    
    Elle sassocie  tous les secteurs publics et privs, institutions et associations, au niveau local, concernant les diffrentes activits de lassociation.
    
    Contact : Abonnements automatiss pour les propositions, recherches et tudes relatives aux activits prsentes par lassociation.
    
    Publier des bulletins dinformation, des magazines, des revues et des archives pour diverses activits.

    
    5. Voyages et voyages internationaux
    
    Organisateur de camps pour enfants, adolescents et jeunes adultes au Maroc et ailleurs.
    
    Superviseur de lorganisation de voyages dexploration et de tourisme au Maroc et dans le pays.

    
    6. Dveloppement territorial et social
    
    Contribuer au dveloppement des zones rurales.
    
    L'association n'a aucun objet politique ou religieux.`,"identification.values.title":"Nos Valeurs","identification.values.environment.title":"Respect de l'environnement","identification.values.environment.text":"Protection et prservation de notre cosystme","identification.values.solidarity.title":"Solidarit","identification.values.solidarity.text":"Entraide et coopration communautaire","identification.values.innovation.title":"Innovation","identification.values.innovation.text":"Solutions cratives pour un avenir durable","identification.values.transparency.title":"Transparence","identification.values.transparency.text":"Communication ouverte et responsable","members.title":"Nos Membres","members.subtitle":"L'quipe dvoue qui rend tout possible","members.executive.title":"Bureau Excutif","members.join.title":"Rejoignez-nous !","members.join.text":"Vous partagez nos valeurs ? Vous souhaitez contribuer au dveloppement durable ? Rejoignez notre communaut de bnvoles passionns.","members.join.button":"Devenir bnvole","activities.title":"Nos Activits","activities.subtitle":"Dcouvrez nos actions pour le dveloppement durable","activities.filter.status":"Filtrer par statut","activities.filter.tags":"Filtrer par tags","activities.filter.all":"Toutes","activities.filter.active":"Actives","activities.filter.archived":"Archives","activities.filter.clear":"Effacer les filtres","activities.filter.showing":"Affichage de","activities.filter.results":"rsultats","activities.filter.no-results":"Aucune activit trouve","activities.filter.try-different":"Essayez un autre filtre","activities.status.active":"Active","activities.status.archived":"Archive","activities.impact.title":"Notre Impact","activities.impact.trees":"Arbres plants","activities.impact.people":"Personnes sensibilises","activities.impact.projects":"Projets communautaires","home.team.title":"Notre quipe","home.team.button":"Voir tous les membres","home.events.title":"vnements  Venir","home.events.button":"Voir le programme complet","home.impact.title":"Notre Impact","home.impact.subtitle":"Des chiffres qui tmoignent de notre engagement","home.president.title":"Mot du Prsident","home.president.message":`
Au nom de Dieu, le Tout Misricordieux, le Trs Misricordieux

Que la paix et les bndictions soient sur le plus honorable des prophtes et des messagers, ainsi que sur sa famille et ses compagnons.

Monsieur le Directeur du Centre de Jeunesse, Hay Adel
Monsieur le Prsident du Bureau National de l'Association El Bouchra pour le Dveloppement Durable
Mesdames et Messieurs,

L'Association El Bouchra pour le Dveloppement Durable - HAY ADIL -, est heureuse de vous accueillir en cette soire du Ramadan. Je vous souhaite la bienvenue en mon nom personnel et au nom de tous mes collgues du Bureau Excutif, de tous les membres et des bnvoles.
 cette occasion, je tiens  exprimer mes plus sincres remerciements et ma gratitude  tous ceux qui ont contribu au succs des activits et des projets de l'Association et  la ralisation de ses nobles objectifs. Je tiens tout particulirement  remercier les membres du Bureau Excutif et les membres. Je voudrais galement profiter de cette occasion pour remercier M. Abdellatif Marjani, directeur de l'Institut spcialis de technologie applique de Polo, et M. Marzak, directeur du Complexe de formation professionnelle, pour leur aide et leur contribution au succs de cette soire.

Comme chacun le sait, HAY MOHAMMADI, avec ses spcificits culturelles, ses particularits gographiques et son patrimoine civilisationnel, a un besoin urgent d'une action communautaire solide et efficace visant  promouvoir son dveloppement,  prserver ses atouts,  remdier  toutes les formes de fragilit sociale et d'appauvrissement environnemental, et  protger le patrimoine cologique de la rgion, tout en s'efforant d'tudier, de promouvoir et de mettre en valeur son authenticit, suscitant ainsi soutien et fiert.

L'Association El Bouchra pour le Dveloppement Durable - HAY ADIL -, fait partie des associations qui se sont engages  acclrer le processus de dveloppement, avec tous leurs efforts continus, leur profonde rflexion et leur grand enthousiasme, dans cette rgion imprgne d'histoire et d'authenticit, mais ouverte aux valeurs de la modernit et de la contemporanit.

Ainsi, l'association met tout en uvre pour mettre en uvre ses programmes de dveloppement, ses projets sociaux et environnementaux, ainsi que ses activits culturelles. Nous esprons bnficier du soutien solide de nos partenaires financiers et d'un engagement actif auprs de la communaut afin que l'association puisse pleinement remplir sa mission.

En conclusion, nous demandons  Dieu de nous aider  rpondre aux attentes de chacun au service de la communaut.
Que la paix, la misricorde et les bndictions de Dieu soient sur vous.`,"home.president.name":"El FOUNDY Zakaria","home.president.position":"Prsident de l'Association","footer.description":"Association pour le Dveloppement Durable","admin.dashboard.title":"Tableau de bord","admin.dashboard.statistics":"Statistiques","admin.dashboard.management":"Gestion","admin.dashboard.total-activities":"Total Activits","admin.dashboard.total-articles":"Total Articles","admin.dashboard.total-members":"Total Membres","admin.dashboard.pdf-downloads":"PDF Tlchargs","admin.dashboard.site-visitors":"Visiteurs du Site","admin.dashboard.new-article":"Nouvel Article","admin.dashboard.create-article":"Crer un article","admin.dashboard.user-management":"Gestion des Utilisateurs","admin.dashboard.member-management":"Gestion des Membres","admin.dashboard.activity-management":"Gestion des Activits","admin.dashboard.program-management":"Programmes Annuels","admin.dashboard.tshirt-management":"Gestion des T-shirts","admin.dashboard.coming-soon":"Bientt disponible","admin.header.administration":"Administration","admin.header.connected-as":"Connect en tant que","admin.header.logout":"Dconnexion","admin.nav.dashboard":"Tableau de bord","admin.nav.articles":"Articles","admin.articles.title":"Articles","admin.articles.new-article":"Nouvel Article","admin.articles.count":"article","admin.articles.count-plural":"articles","admin.articles.page-of":"Page {current} sur {total}","admin.articles.no-articles":"Aucun article trouv","admin.articles.create-first":"Commencez par crer votre premier article.","admin.articles.edit":"Modifier","admin.articles.delete":"Supprimer","admin.articles.no-image":"Pas d'image","admin.articles.undefined-title":"Titre non dfini","admin.articles.created-by":"Association EL BOUCHRA HAY ADIL","admin.articles.confirm-delete":"tes-vous sr de vouloir supprimer cet article ?","admin.articles.delete-error":"Erreur lors de la suppression de l'article.","admin.articles.showing":"Affichage de {start}-{end} sur {total} articles","admin.articles.previous":"Prcdent","admin.articles.next":"Suivant","admin.editor.edit-article":"Modifier l'article","admin.editor.new-article":"Crer un nouvel article","admin.editor.preview":"Aperu","admin.editor.cancel":"Annuler","admin.editor.publish":"Publier","admin.editor.saving":"Sauvegarde...","admin.editor.close-preview":"Fermer l'aperu","admin.editor.article-preview":"Aperu de l'article","admin.editor.title-label":"Titre de l'article *","admin.editor.title-placeholder":"Saisissez un titre accrocheur...","admin.editor.title-chars":"{count}/100 caractres recommands","admin.editor.excerpt-label":"Rsum de l'article","admin.editor.excerpt-placeholder":"Rsum qui apparatra dans la liste des articles (optionnel - gnr automatiquement si vide)","admin.editor.excerpt-chars":"{count}/200 caractres recommands","admin.editor.content-label":"Contenu de l'article *","admin.editor.content-placeholder":"Rdigez le contenu de votre article... Utilisez la barre d'outils pour formater le texte, ajouter des liens, des images, etc.","admin.editor.content-help":"Utilisez la barre d'outils pour formater votre texte","admin.editor.featured-image":"Image  la une","admin.editor.add-image":"Ajoutez une image  la une pour votre article","admin.editor.disabled":"Dsactiv","admin.editor.remove-image":"Supprimer l'image","admin.editor.image-url":"Ou ajoutez une URL d'image :","admin.editor.image-url-placeholder":"https://exemple.com/image.jpg","admin.editor.information":"Informations","admin.editor.status":"Statut","admin.editor.draft":"Brouillon","admin.editor.author":"Auteur","admin.editor.date":"Date","admin.editor.writing-tips":" Conseils de rdaction","admin.editor.tip1":" Utilisez un titre accrocheur et descriptif","admin.editor.tip2":" Ajoutez une image  la une attractive","admin.editor.tip3":" Structurez votre contenu avec des sous-titres","admin.editor.tip4":" Utilisez des listes  puces pour la lisibilit","admin.editor.tip5":" Relisez avant de publier","admin.editor.title-required":"Veuillez saisir un titre pour l'article.","admin.editor.content-required":"Veuillez saisir le contenu de l'article.","admin.editor.save-error":"Erreur lors de la sauvegarde de l'article: {error}","admin.login.title":"Administration","admin.login.subtitle":"Connectez-vous pour accder au panneau d'administration","admin.login.email":"Email","admin.login.password":"Mot de passe","admin.login.show-password":"Afficher le mot de passe","admin.login.hide-password":"Masquer le mot de passe","admin.login.login":"Se connecter","admin.login.logging-in":"Connexion...","admin.login.error":"chec de la connexion. Vrifiez vos identifiants.","admin.login.restricted":"Accs rserv aux administrateurs de l'association","admin.login.email-placeholder":"admin@elbouchra.org","admin.login.password-placeholder":""},ar:{"nav.home":"","nav.identification":" ","nav.members":"","nav.activities":"","nav.membership":"","nav.program":" ","nav.contact":" ","nav.shop":"","nav.articles":"","home.hero.title":"    -  -","home.hero.subtitle":" ","home.mission.title":"","home.mission.text":"      .","home.activities.title":"","home.activities.env.title":" ","home.activities.env.text":"       .","home.activities.education.title":" ","home.activities.education.text":"    .","home.activities.community.title":" ","home.activities.community.text":"      .","tshirt.title":" - ","tshirt.subtitle":"    ","tshirt.eco.name":"  ","tshirt.eco.description":"      ","tshirt.classic.name":" ","tshirt.classic.description":"   ","tshirt.price":" ","tshirt.buy":"  ","membership.title":"","membership.subtitle":"    ","membership.intro":"             .","membership.benefits.title":" ","membership.benefit1":"   ","membership.benefit2":"   ","membership.benefit3":"  ","membership.benefit4":"  ","membership.download":"  ","membership.requirements.title":" ","membership.requirements.intro.ar":"                   ","membership.requirements.subtitle":"  :","membership.fee.amount":"200 ","program.title":" ","program.subtitle":"    ","contact.title":" ","contact.subtitle":"       ","contact.form.name":" ","contact.form.email":" ","contact.form.message":"","contact.form.send":" ","contact.info.title":" ","contact.info.address":"","contact.info.email":" ","contact.info.whatsapp":"","common.learn-more":" ","common.read-more":" ","common.read-less":" ","footer.quick-links":" ","footer.contact":" ","footer.privacy":" ","footer.legal":" ","footer.rights":"  ","identification.title":" ","identification.subtitle":"   ","identification.vision.title":"","identification.vision.text":"                  .                       .                            .","identification.mission.title":"","identification.mission.text":`.     

               .
    
                .
    
             .
    
            .
    
                   .
    
    .   
    
       .
    
            .
    
       .
    
             .
    
         .
    
    .   
    
     :               .
    
        .
    
               .
    
    .    
    
            .
    
                   .
    
    :        .
    
           .
    
    .   
    
           .
    
            .
    
    .   
    
        .
    
          .`,"identification.values.title":"","identification.values.environment.title":" ","identification.values.environment.text":"    ","identification.values.solidarity.title":"","identification.values.solidarity.text":"  ","identification.values.innovation.title":"","identification.values.innovation.text":"   ","identification.values.transparency.title":"","identification.values.transparency.text":"  ","members.title":"","members.subtitle":"      ","members.executive.title":" ","members.join.title":" !","members.join.text":"              .","members.join.button":" ","activities.title":"","activities.subtitle":"   ","activities.filter.status":"  ","activities.filter.tags":"  ","activities.filter.all":"","activities.filter.active":"","activities.filter.archived":"","activities.filter.clear":" ","activities.filter.showing":"","activities.filter.results":"","activities.filter.no-results":"    ","activities.filter.try-different":"  ","activities.status.active":"","activities.status.archived":"","activities.impact.title":"","activities.impact.trees":" ","activities.impact.people":"  ","activities.impact.projects":" ","home.team.title":"","home.team.button":"  ","home.events.title":" ","home.events.button":"  ","home.impact.title":"","home.impact.subtitle":"   ","home.president.title":" ","home.president.message":`
   

          .
     
       
   

      -    -      .             .
                                .
                              .

                                                         .

   -    -                                    .

                                      .

           .
    .`,"home.president.name":" ","home.president.position":"","footer.description":"  ","admin.dashboard.title":" ","admin.dashboard.statistics":"","admin.dashboard.management":"","admin.dashboard.total-activities":" ","admin.dashboard.total-articles":" ","admin.dashboard.total-members":" ","admin.dashboard.pdf-downloads":" PDF","admin.dashboard.site-visitors":" ","admin.dashboard.new-article":" ","admin.dashboard.create-article":" ","admin.dashboard.user-management":" ","admin.dashboard.member-management":" ","admin.dashboard.activity-management":" ","admin.dashboard.program-management":" ","admin.dashboard.tshirt-management":" ","admin.dashboard.coming-soon":"","admin.header.administration":"","admin.header.connected-as":" ","admin.header.logout":" ","admin.nav.dashboard":" ","admin.nav.articles":"","admin.articles.title":"","admin.articles.new-article":" ","admin.articles.count":"","admin.articles.count-plural":"","admin.articles.page-of":" {current}  {total}","admin.articles.no-articles":"    ","admin.articles.create-first":"   .","admin.articles.edit":"","admin.articles.delete":"","admin.articles.no-image":"  ","admin.articles.undefined-title":"  ","admin.articles.created-by":"   ","admin.articles.confirm-delete":"      ","admin.articles.delete-error":"   .","admin.articles.showing":" {start}-{end}  {total} ","admin.articles.previous":"","admin.articles.next":"","admin.editor.edit-article":" ","admin.editor.new-article":"  ","admin.editor.preview":"","admin.editor.cancel":"","admin.editor.publish":"","admin.editor.saving":" ...","admin.editor.close-preview":" ","admin.editor.article-preview":" ","admin.editor.title-label":"  *","admin.editor.title-placeholder":"  ...","admin.editor.title-chars":"{count}/100   ","admin.editor.excerpt-label":" ","admin.editor.excerpt-placeholder":"     ( -      )","admin.editor.excerpt-chars":"{count}/200   ","admin.editor.content-label":"  *","admin.editor.content-placeholder":"  ...         .","admin.editor.content-help":"    ","admin.editor.featured-image":" ","admin.editor.add-image":"   ","admin.editor.disabled":"","admin.editor.remove-image":" ","admin.editor.image-url":"   :","admin.editor.image-url-placeholder":"https://exemple.com/image.jpg","admin.editor.information":"","admin.editor.status":"","admin.editor.draft":"","admin.editor.author":"","admin.editor.date":"","admin.editor.writing-tips":"  ","admin.editor.tip1":"    ","admin.editor.tip2":"    ","admin.editor.tip3":"    ","admin.editor.tip4":"    ","admin.editor.tip5":"   ","admin.editor.title-required":"   .","admin.editor.content-required":"   .","admin.editor.save-error":"   : {error}","admin.login.title":"","admin.login.subtitle":"     ","admin.login.email":" ","admin.login.password":" ","admin.login.show-password":"  ","admin.login.hide-password":"  ","admin.login.login":" ","admin.login.logging-in":"  ...","admin.login.error":"   .   .","admin.login.restricted":"    ","admin.login.email-placeholder":"admin@elbouchra.org","admin.login.password-placeholder":""}},fx=fe.createContext(void 0);function OA({children:t}){const[e,n]=fe.useState(hx[0]),r=s=>{n(s),document.documentElement.dir=s.direction,document.documentElement.lang=s.code},i=s=>RA[e.code][s]||s;return fe.useEffect(()=>{document.documentElement.dir=e.direction,document.documentElement.lang=e.code},[e]),y.jsx(fx.Provider,{value:{currentLanguage:e,setLanguage:r,t:i},children:t})}function Dt(){const t=fe.useContext(fx);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}const jA=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let c=(a&15)<<2|d>>6,p=d&63;l||(p=64,o||(c=64)),r.push(n[f],n[h],n[c],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(px(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||h==null)throw new LA;const c=s<<2|a>>4;if(r.push(c),d!==64){const p=a<<4&240|d>>2;if(r.push(p),h!==64){const w=d<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MA=function(t){const e=px(t);return mx.encodeByteArray(e,!0)},_u=function(t){return MA(t).replace(/\./g,"")},gx=function(t){try{return mx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=()=>VA().__FIREBASE_DEFAULTS__,UA=()=>{if(typeof process>"u"||typeof Oy>"u")return;const t=Oy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gx(t[1]);return e&&JSON.parse(e)},uc=()=>{try{return jA()||FA()||UA()||qA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yx=t=>{var e,n;return(n=(e=uc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vx=t=>{const e=yx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_x=()=>{var t;return(t=uc())==null?void 0:t.config},xx=t=>{var e;return(e=uc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_u(JSON.stringify(n)),_u(JSON.stringify(o)),""].join(".")}const zo={};function zA(){const t={prod:[],emulator:[]};for(const e of Object.keys(zo))zo[e]?t.emulator.push(e):t.prod.push(e);return t}function $A(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jy=!1;function Ep(t,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||zo[t]===e||zo[t]||jy)return;zo[t]=e;function n(c){return`__firebase__banner__${c}`}const r="__firebase__banner",s=zA().prod.length>0;function o(){const c=document.getElementById(r);c&&c.remove()}function a(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function l(c,p){c.setAttribute("width","24"),c.setAttribute("id",p),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function d(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{jy=!0,o()},c}function f(c,p){c.setAttribute("id",p),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function h(){const c=$A(r),p=n("text"),w=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),b=document.getElementById(_)||document.createElement("a"),g=n("preprendIcon"),m=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const x=c.element;a(x),f(b,_);const v=d();l(m,g),x.append(m,w,b,v),document.body.appendChild(x)}s?(w.innerText="Preview backend disconnected.",m.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(m.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function KA(){var e;const t=(e=uc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tp(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QA(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YA(){return!KA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ap(){try{return typeof indexedDB=="object"}catch{return!1}}function Ip(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function bx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="FirebaseError";class gn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XA,Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mi.prototype.create)}}class Mi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new gn(i,a,r)}}function JA(t,e){return t.replace(ZA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZA=/\{\$([^}]+)}/g;function eI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Dy(s)&&Dy(o)){if(!Wr(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function So(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tI(t,e){const n=new nI(t,e);return n.subscribe.bind(n)}class nI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rI(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Od),i.error===void 0&&(i.error=Od),i.complete===void 0&&(i.complete=Od);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Od(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1e3,sI=2,oI=4*60*60*1e3,aI=.5;function Ly(t,e=iI,n=sI){const r=e*Math.pow(n,t),i=Math.round(aI*r*(Math.random()-.5)*2);return Math.min(oI,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class mn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cI(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(t){return t===fi?void 0:t}function cI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const hI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},fI=ke.INFO,pI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},mI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cc{constructor(e){this.name=e,this._logLevel=fI,this._logHandler=mI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const gI=(t,e)=>e.some(n=>t instanceof n);let My,Vy;function yI(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vI(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ex=new WeakMap,Kh=new WeakMap,Tx=new WeakMap,jd=new WeakMap,Sp=new WeakMap;function _I(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ex.set(n,t)}).catch(()=>{}),Sp.set(e,t),e}function xI(t){if(Kh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kh.set(t,e)}let Wh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Tx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wI(t){Wh=t(Wh)}function bI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dd(this),e,...n);return Tx.set(r,e.sort?e.sort():[e]),Fr(r)}:vI().includes(t)?function(...e){return t.apply(Dd(this),e),Fr(Ex.get(this))}:function(...e){return Fr(t.apply(Dd(this),e))}}function EI(t){return typeof t=="function"?bI(t):(t instanceof IDBTransaction&&xI(t),gI(t,yI())?new Proxy(t,Wh):t)}function Fr(t){if(t instanceof IDBRequest)return _I(t);if(jd.has(t))return jd.get(t);const e=EI(t);return e!==t&&(jd.set(t,e),Sp.set(e,t)),e}const Dd=t=>Sp.get(t);function Ax(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fr(o.result),l.oldVersion,l.newVersion,Fr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const TI=["get","getKey","getAll","getAllKeys","count"],AI=["put","add","delete","clear"],Ld=new Map;function Fy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TI.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),i&&l.done]))[0]};return Ld.set(e,s),s}wI(t=>({...t,get:(e,n,r)=>Fy(e,n)||t.get(e,n,r),has:(e,n)=>!!Fy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gh="@firebase/app",Uy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new cc("@firebase/app"),kI="@firebase/app-compat",NI="@firebase/analytics-compat",PI="@firebase/analytics",CI="@firebase/app-check-compat",RI="@firebase/app-check",OI="@firebase/auth",jI="@firebase/auth-compat",DI="@firebase/database",LI="@firebase/data-connect",MI="@firebase/database-compat",VI="@firebase/functions",FI="@firebase/functions-compat",UI="@firebase/installations",qI="@firebase/installations-compat",BI="@firebase/messaging",zI="@firebase/messaging-compat",$I="@firebase/performance",HI="@firebase/performance-compat",KI="@firebase/remote-config",WI="@firebase/remote-config-compat",GI="@firebase/storage",QI="@firebase/storage-compat",YI="@firebase/firestore",XI="@firebase/ai",JI="@firebase/firestore-compat",ZI="firebase",eS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="[DEFAULT]",tS={[Gh]:"fire-core",[kI]:"fire-core-compat",[PI]:"fire-analytics",[NI]:"fire-analytics-compat",[RI]:"fire-app-check",[CI]:"fire-app-check-compat",[OI]:"fire-auth",[jI]:"fire-auth-compat",[DI]:"fire-rtdb",[LI]:"fire-data-connect",[MI]:"fire-rtdb-compat",[VI]:"fire-fn",[FI]:"fire-fn-compat",[UI]:"fire-iid",[qI]:"fire-iid-compat",[BI]:"fire-fcm",[zI]:"fire-fcm-compat",[$I]:"fire-perf",[HI]:"fire-perf-compat",[KI]:"fire-rc",[WI]:"fire-rc-compat",[GI]:"fire-gcs",[QI]:"fire-gcs-compat",[YI]:"fire-fst",[JI]:"fire-fst-compat",[XI]:"fire-vertex","fire-js":"fire-js",[ZI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new Map,nS=new Map,Yh=new Map;function qy(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kn(t){const e=t.name;if(Yh.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Yh.set(e,t);for(const n of xu.values())qy(n,t);for(const n of nS.values())qy(n,t);return!0}function ri(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Mi("app","Firebase",rS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=eS;function Ix(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Qh,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ur.create("bad-app-name",{appName:String(i)});if(n||(n=_x()),!n)throw Ur.create("no-options");const s=xu.get(i);if(s){if(Wr(n,s.options)&&Wr(r,s.config))return s;throw Ur.create("duplicate-app",{appName:i})}const o=new dI(i);for(const l of Yh.values())o.addComponent(l);const a=new iS(n,r,o);return xu.set(i,a),a}function dc(t=Qh){const e=xu.get(t);if(!e&&t===Qh&&_x())return Ix();if(!e)throw Ur.create("no-app",{appName:t});return e}function Gt(t,e,n){let r=tS[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(o.join(" "));return}kn(new mn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firebase-heartbeat-database",oS=1,fa="firebase-heartbeat-store";let Md=null;function Sx(){return Md||(Md=Ax(sS,oS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),Md}async function aS(t){try{const n=(await Sx()).transaction(fa),r=await n.objectStore(fa).get(kx(t));return await n.done,r}catch(e){if(e instanceof gn)lr.warn(e.message);else{const n=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function By(t,e){try{const r=(await Sx()).transaction(fa,"readwrite");await r.objectStore(fa).put(e,kx(t)),await r.done}catch(n){if(n instanceof gn)lr.warn(n.message);else{const r=Ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(r.message)}}}function kx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=1024,uS=30;class cS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>uS){const o=fS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){lr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zy(),{heartbeatsToSend:r,unsentEntries:i}=dS(this._heartbeatsCache.heartbeats),s=_u(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return lr.warn(n),""}}}function zy(){return new Date().toISOString().substring(0,10)}function dS(t,e=lS){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$y(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$y(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ap()?Ip().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $y(t){return _u(JSON.stringify({version:2,heartbeats:t})).length}function fS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t){kn(new mn("platform-logger",e=>new II(e),"PRIVATE")),kn(new mn("heartbeat",e=>new cS(e),"PRIVATE")),Gt(Gh,Uy,t),Gt(Gh,Uy,"esm2020"),Gt("fire-js","")}pS("");function Nx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mS=Nx,Px=new Mi("auth","Firebase",Nx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new cc("@firebase/auth");function gS(t,...e){wu.logLevel<=ke.WARN&&wu.warn(`Auth (${Vi}): ${t}`,...e)}function Fl(t,...e){wu.logLevel<=ke.ERROR&&wu.error(`Auth (${Vi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw kp(t,...e)}function Vn(t,...e){return kp(t,...e)}function Cx(t,e,n){const r={...mS(),[e]:n};return new Mi("auth","Firebase",r).create(e,{appName:t.name})}function qr(t){return Cx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Px.create(t,...e)}function ve(t,e,...n){if(!t)throw kp(e,...n)}function er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fl(e),new Error(e)}function ur(t,e){t||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function yS(){return Hy()==="http:"||Hy()==="https:"}function Hy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yS()||Tp()||"connection"in navigator)?navigator.onLine:!0}function _S(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=HA()||GA()}get(){return vS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e){ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bS=new Ca(3e4,6e4);function Fi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ii(t,e,n,r,i={}){return Ox(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Pa({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...s};return WA()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Li(t.emulatorConfig.host)&&(d.credentials="include"),Rx.fetch()(await jx(t,t.config.apiHost,n,a),d)})}async function Ox(t,e,n){t._canInitEmulator=!1;const r={...xS,...e};try{const i=new TS(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _l(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _l(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _l(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Cx(t,f,d);Nn(t,f)}}catch(i){if(i instanceof gn)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function hc(t,e,n,r,i={}){const s=await ii(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function jx(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Np(t.config,i):`${t.config.apiScheme}://${i}`;return wS.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function ES(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vn(this.auth,"network-request-failed")),bS.get())})}}function _l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vn(t,e,r);return i.customData._tokenResponse=n,i}function Ky(t){return t!==void 0&&t.enterprise!==void 0}class AS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ES(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IS(t,e){return ii(t,"GET","/v2/recaptchaConfig",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(t,e){return ii(t,"POST","/v1/accounts:delete",e)}async function bu(t,e){return ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kS(t,e=!1){const n=lt(t),r=await n.getIdToken(e),i=Pp(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$o(Vd(i.auth_time)),issuedAtTime:$o(Vd(i.iat)),expirationTime:$o(Vd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vd(t){return Number(t)*1e3}function Pp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fl("JWT malformed, contained fewer than 3 sections"),null;try{const i=gx(n);return i?JSON.parse(i):(Fl("Failed to decode base64 JWT payload"),null)}catch(i){return Fl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Wy(t){const e=Pp(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gn&&NS(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function NS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){var h;const e=t.auth,n=await t.getIdToken(),r=await pa(t,bu(e,{idToken:n}));ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?Dx(i.providerUserInfo):[],o=RS(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jh(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function CS(t){const e=lt(t);await Eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RS(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(t,e){const n=await Ox(t,{},async()=>{const r=Pa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await jx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Li(t.emulatorConfig.host)&&(l.credentials="include"),Rx.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jS(t,e){return ii(t,"POST","/v2/accounts:revokeToken",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Wy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await OS(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ys;return r&&(ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ve(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ys,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new PS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await pa(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kS(this,e)}reload(){return CS(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await pa(this,SS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:c,isAnonymous:p,providerData:w,stsTokenManager:_}=n;ve(h&&_,e,"internal-error");const b=ys.fromJSON(this.name,_);ve(typeof h=="string",e,"internal-error"),_r(r,e.name),_r(i,e.name),ve(typeof c=="boolean",e,"internal-error"),ve(typeof p=="boolean",e,"internal-error"),_r(s,e.name),_r(o,e.name),_r(a,e.name),_r(l,e.name),_r(d,e.name),_r(f,e.name);const g=new bn({uid:h,auth:e,email:i,emailVerified:c,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:b,createdAt:d,lastLoginAt:f});return w&&Array.isArray(w)&&(g.providerData=w.map(m=>({...m}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,r=!1){const i=new ys;i.updateFromServerResponse(n);const s=new bn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Eu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ve(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Dx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ys;a.updateFromIdToken(r);const l=new bn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Jh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map;function tr(t){ur(t instanceof Function,"Expected a class definition");let e=Gy.get(t);return e?(ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Lx.type="NONE";const Qy=Lx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t,e,n){return`firebase:${t}:${e}:${n}`}class vs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ul(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ul("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bu(this.auth,{idToken:e}).catch(()=>{});return n?bn._fromGetAccountInfoResponse(this.auth,n,e):null}return bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vs(tr(Qy),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||tr(Qy);const o=Ul(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const f=await d._get(o);if(f){let h;if(typeof f=="string"){const c=await bu(e,{idToken:f}).catch(()=>{});if(!c)break;h=await bn._fromGetAccountInfoResponse(e,c,f)}else h=bn._fromJSON(e,f);d!==s&&(a=h),s=d;break}}catch{}const l=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new vs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new vs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ux(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bx(e))return"Blackberry";if(zx(e))return"Webos";if(Vx(e))return"Safari";if((e.includes("chrome/")||Fx(e))&&!e.includes("edge/"))return"Chrome";if(qx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Mx(t=jt()){return/firefox\//i.test(t)}function Vx(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fx(t=jt()){return/crios\//i.test(t)}function Ux(t=jt()){return/iemobile/i.test(t)}function qx(t=jt()){return/android/i.test(t)}function Bx(t=jt()){return/blackberry/i.test(t)}function zx(t=jt()){return/webos/i.test(t)}function Cp(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DS(t=jt()){var e;return Cp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function LS(){return QA()&&document.documentMode===10}function $x(t=jt()){return Cp(t)||qx(t)||zx(t)||Bx(t)||/windows phone/i.test(t)||Ux(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e=[]){let n;switch(t){case"Browser":n=Yy(jt());break;case"Worker":n=`${Yy(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(t,e={}){return ii(t,"GET","/v2/passwordPolicy",Fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=6;class US{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xy(this),this.idTokenSubscription=new Xy(this),this.beforeStateQueue=new MS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await vs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bu(this,{idToken:e}),r=await bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_S()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(qr(this));const n=e?lt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VS(this),n=new US(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jS(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await vs.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&gS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Us(t){return lt(t)}class Xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=tI(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BS(t){fc=t}function Kx(t){return fc.loadJS(t)}function zS(){return fc.recaptchaEnterpriseScript}function $S(){return fc.gapiScript}function HS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class KS{constructor(){this.enterprise=new WS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GS="recaptcha-enterprise",Wx="NO_RECAPTCHA";class QS{constructor(e){this.type=GS,this.auth=Us(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{IS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new AS(l);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Ky(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(Wx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KS().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Ky(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zS();l.length!==0&&(l+=a),Kx(l).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function Jy(t,e,n,r=!1,i=!1){const s=new QS(t);let o;if(i)o=Wx;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Zy(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Jy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Jy(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e){const n=ri(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wr(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function XS(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JS(t,e,n){const r=Us(t);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Gx(e),{host:o,port:a}=ZS(e),l=a===null?"":`:${a}`,d={url:`${s}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Wr(d,r.config.emulator)&&Wr(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Li(o)?(bp(`${s}//${o}${l}`),Ep("Auth",!0)):ek()}function Gx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZS(t){const e=Gx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ev(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ev(o)}}}function ev(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ek(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function tk(t,e){return ii(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e){return hc(t,"POST","/v1/accounts:signInWithPassword",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(t,e){return hc(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}async function ik(t,e){return hc(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Rp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ma(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ma(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zy(e,n,"signInWithPassword",nk);case"emailLink":return rk(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zy(e,r,"signUpPassword",tk);case"emailLink":return ik(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t,e){return hc(t,"POST","/v1/accounts:signInWithIdp",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="http://localhost";class ki extends Rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new ki(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _s(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_s(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_s(e,n)}buildRequest(){const e={requestUri:sk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ak(t){const e=So(ko(t)).link,n=e?So(ko(e)).deep_link_id:null,r=So(ko(t)).deep_link_id;return(r?So(ko(r)).link:null)||r||n||e||t}class Op{constructor(e){const n=So(ko(e)),r=n.apiKey??null,i=n.oobCode??null,s=ok(n.mode??null);ve(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ak(e);try{return new Op(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.providerId=qs.PROVIDER_ID}static credential(e,n){return ma._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Op.parseLink(n);return ve(r,"argument-error"),ma._fromEmailAndCode(e,r.code,r.tenantId)}}qs.PROVIDER_ID="password";qs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Qx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Ra{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Ra{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ki._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Ra{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ra{constructor(){super("twitter.com")}static credential(e,n){return ki._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bn._fromIdTokenResponse(e,r,i),o=tv(r);return new Ns({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tv(r);return new Ns({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends gn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tu(e,n,r,i)}}function Yx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tu._fromErrorAndOperation(t,s,e,r):s})}async function lk(t,e,n=!1){const r=await pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ns._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(t,e,n=!1){const{auth:r}=t;if(un(r.app))return Promise.reject(qr(r));const i="reauthenticate";try{const s=await pa(t,Yx(r,i,e,t),n);ve(s.idToken,r,"internal-error");const o=Pp(s.idToken);ve(o,r,"internal-error");const{sub:a}=o;return ve(t.uid===a,r,"user-mismatch"),Ns._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e,n=!1){if(un(t.app))return Promise.reject(qr(t));const r="signIn",i=await Yx(t,r,e),s=await Ns._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ck(t,e){return Xx(Us(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t){const e=Us(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function hk(t,e,n){return un(t.app)?Promise.reject(qr(t)):ck(lt(t),qs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dk(t),r})}function fk(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function pk(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function mk(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function gk(t){return lt(t).signOut()}const Au="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Au,"1"),this.storage.removeItem(Au),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=1e3,vk=10;class Zx extends Jx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$x(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);LS()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zx.type="LOCAL";const _k=Zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends Jx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ew.type="SESSION";const tw=ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async d=>d(n.origin,s)),l=await xk(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const d=jp("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const c=h;if(c.data.eventId===d)switch(c.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(c.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function bk(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function Ek(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Ak(){return nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firebaseLocalStorageDb",Ik=1,Iu="firebaseLocalStorage",iw="fbase_key";class Oa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mc(t,e){return t.transaction([Iu],e?"readwrite":"readonly").objectStore(Iu)}function Sk(){const t=indexedDB.deleteDatabase(rw);return new Oa(t).toPromise()}function Zh(){const t=indexedDB.open(rw,Ik);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Iu,{keyPath:iw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Iu)?e(r):(r.close(),await Sk(),e(await Zh()))})})}async function nv(t,e,n){const r=mc(t,!0).put({[iw]:e,value:n});return new Oa(r).toPromise()}async function kk(t,e){const n=mc(t,!1).get(e),r=await new Oa(n).toPromise();return r===void 0?null:r.value}function rv(t,e){const n=mc(t,!0).delete(e);return new Oa(n).toPromise()}const Nk=800,Pk=3;class sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Pk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pc._getInstance(Ak()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ek(),!this.activeServiceWorker)return;this.sender=new wk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zh();return await nv(e,Au,"1"),await rv(e,Au),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mc(i,!1).getAll();return new Oa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sw.type="LOCAL";const Ck=sw;new Ca(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e){return e?tr(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _s(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _s(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _s(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ok(t){return Xx(t.auth,new Dp(t),t.bypassAuthState)}function jk(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),uk(n,new Dp(t),t.bypassAuthState)}async function Dk(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),lk(n,new Dp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ok;case"linkViaPopup":case"linkViaRedirect":return Dk;case"reauthViaPopup":case"reauthViaRedirect":return jk;default:Nn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Ca(2e3,1e4);class cs extends ow{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Lk.get())};e()}}cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="pendingRedirect",ql=new Map;class Vk extends ow{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ql.get(this.auth._key());if(!e){try{const r=await Fk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ql.set(this.auth._key(),e)}return this.bypassAuthState||ql.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fk(t,e){const n=Bk(e),r=qk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Uk(t,e){ql.set(t._key(),e)}function qk(t){return tr(t._redirectPersistence)}function Bk(t){return Ul(Mk,t.config.apiKey,t.name)}async function zk(t,e,n=!1){if(un(t.app))return Promise.reject(qr(t));const r=Us(t),i=Rk(r,e),o=await new Vk(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=10*60*1e3;class Hk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aw(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$k&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t,e={}){return ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qk=/^https?/;async function Yk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Wk(t);for(const n of e)try{if(Xk(n))return}catch{}Nn(t,"unauthorized-domain")}function Xk(t){const e=Xh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Qk.test(n))return!1;if(Gk.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new Ca(3e4,6e4);function sv(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Zk(t){return new Promise((e,n)=>{var i,s,o;function r(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),n(Vn(t,"network-request-failed"))},timeout:Jk.get()})}if((s=(i=Fn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Fn().gapi)!=null&&o.load)r();else{const a=HS("iframefcb");return Fn()[a]=()=>{gapi.load?r():n(Vn(t,"network-request-failed"))},Kx(`${$S()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bl=null,e})}let Bl=null;function eN(t){return Bl=Bl||Zk(t),Bl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Ca(5e3,15e3),nN="__/auth/iframe",rN="emulator/auth/iframe",iN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oN(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Np(e,rN):`https://${t.config.authDomain}/${nN}`,r={apiKey:e.apiKey,appName:t.name,v:Vi},i=sN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pa(r).slice(1)}`}async function aN(t){const e=await eN(t),n=Fn().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:oN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vn(t,"network-request-failed"),a=Fn().setTimeout(()=>{s(o)},tN.get());function l(){Fn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,cN=600,dN="_blank",hN="http://localhost";class ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fN(t,e,n,r=uN,i=cN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...lN,width:r.toString(),height:i.toString(),top:s,left:o},d=jt().toLowerCase();n&&(a=Fx(d)?dN:n),Mx(d)&&(e=e||hN,l.scrollbars="yes");const f=Object.entries(l).reduce((c,[p,w])=>`${c}${p}=${w},`,"");if(DS(d)&&a!=="_self")return pN(e||"",a),new ov(null);const h=window.open(e||"",a,f);ve(h,t,"popup-blocked");try{h.focus()}catch{}return new ov(h)}function pN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="__/auth/handler",gN="emulator/auth/handler",yN=encodeURIComponent("fac");async function av(t,e,n,r,i,s){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vi,eventId:i};if(e instanceof Qx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",eI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Ra){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),d=l?`#${yN}=${encodeURIComponent(l)}`:"";return`${vN(t)}?${Pa(a).slice(1)}${d}`}function vN({config:t}){return t.emulator?Np(t,gN):`https://${t.authDomain}/${mN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class _N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tw,this._completeRedirectFn=zk,this._overrideRedirectResult=Uk}async _openPopup(e,n,r,i){var o;ur((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await av(e,n,r,Xh(),i);return fN(e,s,jp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await av(e,n,r,Xh(),i);return bk(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ur(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aN(e),r=new Hk(e);return n.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fd,{type:Fd},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Fd];s!==void 0&&n(!!s),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $x()||Vx()||Cp()}}const xN=_N;var lv="@firebase/auth",uv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EN(t){kn(new mn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hx(t)},d=new qS(r,i,s,l);return XS(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kn(new mn("auth-internal",e=>{const n=Us(e.getProvider("auth").getImmediate());return(r=>new wN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gt(lv,uv,bN(t)),Gt(lv,uv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=5*60,AN=xx("authIdTokenMaxAge")||TN;let cv=null;const IN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AN)return;const i=n==null?void 0:n.token;cv!==i&&(cv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SN(t=dc()){const e=ri(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YS(t,{popupRedirectResolver:xN,persistence:[Ck,_k,tw]}),r=xx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=IN(s.toString());pk(n,o,()=>o(n.currentUser)),fk(n,a=>o(a))}}const i=yx("auth");return i&&JS(n,`http://${i}`),n}function kN(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}BS({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EN("Browser");var NN="firebase",PN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt(NN,PN,"app");const lw="@firebase/installations",Lp="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=1e4,cw=`w:${Lp}`,dw="FIS_v2",CN="https://firebaseinstallations.googleapis.com/v1",RN=60*60*1e3,ON="installations",jN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ni=new Mi(ON,jN,DN);function hw(t){return t instanceof gn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw({projectId:t}){return`${CN}/projects/${t}/installations`}function pw(t){return{token:t.token,requestStatus:2,expiresIn:MN(t.expiresIn),creationTime:Date.now()}}async function mw(t,e){const r=(await e.json()).error;return Ni.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function LN(t,{refreshToken:e}){const n=gw(t);return n.append("Authorization",VN(e)),n}async function yw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function MN(t){return Number(t.replace("s","000"))}function VN(t){return`${dw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=fw(t),i=gw(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={fid:n,authVersion:dw,appId:t.appId,sdkVersion:cw},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await yw(()=>fetch(r,a));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:pw(d.authToken)}}else throw await mw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=/^[cdef][\w-]{21}$/,ef="";function BN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=zN(t);return qN.test(n)?n:ef}catch{return ef}}function zN(t){return UN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Map;function xw(t,e){const n=gc(t);ww(n,e),$N(n,e)}function ww(t,e){const n=_w.get(t);if(n)for(const r of n)r(e)}function $N(t,e){const n=HN();n&&n.postMessage({key:t,fid:e}),KN()}let vi=null;function HN(){return!vi&&"BroadcastChannel"in self&&(vi=new BroadcastChannel("[Firebase] FID Change"),vi.onmessage=t=>{ww(t.data.key,t.data.fid)}),vi}function KN(){_w.size===0&&vi&&(vi.close(),vi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebase-installations-database",GN=1,Pi="firebase-installations-store";let Ud=null;function Mp(){return Ud||(Ud=Ax(WN,GN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pi)}}})),Ud}async function Su(t,e){const n=gc(t),i=(await Mp()).transaction(Pi,"readwrite"),s=i.objectStore(Pi),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&xw(t,e.fid),e}async function bw(t){const e=gc(t),r=(await Mp()).transaction(Pi,"readwrite");await r.objectStore(Pi).delete(e),await r.done}async function yc(t,e){const n=gc(t),i=(await Mp()).transaction(Pi,"readwrite"),s=i.objectStore(Pi),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&xw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(t){let e;const n=await yc(t.appConfig,r=>{const i=QN(r),s=YN(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ef?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function QN(t){const e=t||{fid:BN(),registrationStatus:0};return Ew(e)}function YN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ni.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=XN(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JN(t)}:{installationEntry:e}}async function XN(t,e){try{const n=await FN(t,e);return Su(t.appConfig,n)}catch(n){throw hw(n)&&n.customData.serverCode===409?await bw(t.appConfig):await Su(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function JN(t){let e=await dv(t.appConfig);for(;e.registrationStatus===1;)await vw(100),e=await dv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Vp(t);return r||n}return e}function dv(t){return yc(t,e=>{if(!e)throw Ni.create("installation-not-found");return Ew(e)})}function Ew(t){return ZN(t)?{fid:t.fid,registrationStatus:0}:t}function ZN(t){return t.registrationStatus===1&&t.registrationTime+uw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP({appConfig:t,heartbeatServiceProvider:e},n){const r=tP(t,n),i=LN(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={installation:{sdkVersion:cw,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await yw(()=>fetch(r,a));if(l.ok){const d=await l.json();return pw(d)}else throw await mw("Generate Auth Token",l)}function tP(t,{fid:e}){return`${fw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(t,e=!1){let n;const r=await yc(t.appConfig,s=>{if(!Tw(s))throw Ni.create("not-registered");const o=s.authToken;if(!e&&iP(o))return s;if(o.requestStatus===1)return n=nP(t,e),s;{if(!navigator.onLine)throw Ni.create("app-offline");const a=oP(s);return n=rP(t,a),a}});return n?await n:r.authToken}async function nP(t,e){let n=await hv(t.appConfig);for(;n.authToken.requestStatus===1;)await vw(100),n=await hv(t.appConfig);const r=n.authToken;return r.requestStatus===0?Fp(t,e):r}function hv(t){return yc(t,e=>{if(!Tw(e))throw Ni.create("not-registered");const n=e.authToken;return aP(n)?{...e,authToken:{requestStatus:0}}:e})}async function rP(t,e){try{const n=await eP(t,e),r={...e,authToken:n};return await Su(t.appConfig,r),n}catch(n){if(hw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await bw(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Su(t.appConfig,r)}throw n}}function Tw(t){return t!==void 0&&t.registrationStatus===2}function iP(t){return t.requestStatus===2&&!sP(t)}function sP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RN}function oP(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function aP(t){return t.requestStatus===1&&t.requestTime+uw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t){const e=t,{installationEntry:n,registrationPromise:r}=await Vp(e);return r?r.catch(console.error):Fp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(t,e=!1){const n=t;return await cP(n),(await Fp(n,e)).token}async function cP(t){const{registrationPromise:e}=await Vp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){if(!t||!t.options)throw qd("App Configuration");if(!t.name)throw qd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qd(t){return Ni.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="installations",hP="installations-internal",fP=t=>{const e=t.getProvider("app").getImmediate(),n=dP(e),r=ri(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},pP=t=>{const e=t.getProvider("app").getImmediate(),n=ri(e,Aw).getImmediate();return{getId:()=>lP(n),getToken:i=>uP(n,i)}};function mP(){kn(new mn(Aw,fP,"PUBLIC")),kn(new mn(hP,pP,"PRIVATE"))}mP();Gt(lw,Lp);Gt(lw,Lp,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="analytics",gP="firebase_id",yP="origin",vP=60*1e3,_P="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Up="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=new cc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nn=new Mi("analytics","Analytics",xP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t){if(!t.startsWith(Up)){const e=nn.create("invalid-gtag-resource",{gtagURL:t});return Qt.warn(e.message),""}return t}function Iw(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function bP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function EP(t,e){const n=bP("firebase-js-sdk-policy",{createScriptURL:wP}),r=document.createElement("script"),i=`${Up}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function TP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function AP(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Iw(n)).find(d=>d.measurementId===i);l&&await e[l.appId]}}catch(a){Qt.error(a)}t("config",i,s)}async function IP(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Iw(n);for(const l of o){const d=a.find(h=>h.measurementId===l),f=d&&e[d.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Qt.error(s)}}function SP(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await IP(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await AP(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Qt.error(a)}}return i}function kP(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=SP(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function NP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Up)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=30,CP=1e3;class RP{constructor(e={},n=CP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Sw=new RP;function OP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function jP(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:OP(n)},i=_P.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function DP(t,e=Sw,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new VP;return setTimeout(async()=>{a.abort()},vP),kw({appId:r,apiKey:i,measurementId:s},o,a,e)}async function kw(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Sw){var a;const{appId:s,measurementId:o}=t;try{await LP(r,e)}catch(l){if(o)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw l}try{const l=await jP(t);return i.deleteThrottleMetadata(s),l}catch(l){const d=l;if(!MP(d)){if(i.deleteThrottleMetadata(s),o)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:s,measurementId:o};throw l}const f=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?Ly(n,i.intervalMillis,PP):Ly(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(s,h),Qt.debug(`Calling attemptFetch again in ${f} millis`),kw(t,h,r,i)}}function LP(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MP(t){if(!(t instanceof gn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class VP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function FP(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(){if(Ap())try{await Ip()}catch(t){return Qt.warn(nn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Qt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qP(t,e,n,r,i,s,o){const a=DP(t);a.then(c=>{n[c.measurementId]=c.appId,t.options.measurementId&&c.measurementId!==t.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${c.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(c=>Qt.error(c)),e.push(a);const l=UP().then(c=>{if(c)return r.getId()}),[d,f]=await Promise.all([a,l]);NP(s)||EP(s,d.measurementId),i("js",new Date);const h=(o==null?void 0:o.config)??{};return h[yP]="firebase",h.update=!0,f!=null&&(h[gP]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.app=e}_delete(){return delete Ho[this.app.options.appId],Promise.resolve()}}let Ho={},fv=[];const pv={};let Bd="dataLayer",zP="gtag",mv,Nw,gv=!1;function $P(){const t=[];if(Tp()&&t.push("This is a browser extension environment."),bx()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});Qt.warn(n.message)}}function HP(t,e,n){$P();const r=t.options.appId;if(!r)throw nn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nn.create("no-api-key");if(Ho[r]!=null)throw nn.create("already-exists",{id:r});if(!gv){TP(Bd);const{wrappedGtag:s,gtagCore:o}=kP(Ho,fv,pv,Bd,zP);Nw=s,mv=o,gv=!0}return Ho[r]=qP(t,fv,pv,e,mv,Bd,n),new BP(t)}function KP(t=dc()){t=lt(t);const e=ri(t,ku);return e.isInitialized()?e.getImmediate():WP(t)}function WP(t,e={}){const n=ri(t,ku);if(n.isInitialized()){const i=n.getImmediate();if(Wr(e,n.getOptions()))return i;throw nn.create("already-initialized")}return n.initialize({options:e})}async function GP(){if(Tp()||!bx()||!Ap())return!1;try{return await Ip()}catch{return!1}}function QP(t,e,n,r){t=lt(t),FP(Nw,Ho[t.app.options.appId],e,n,r).catch(i=>Qt.error(i))}const yv="@firebase/analytics",vv="0.10.18";function YP(){kn(new mn(ku,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return HP(r,i,n)},"PUBLIC")),kn(new mn("analytics-internal",t,"PRIVATE")),Gt(yv,vv),Gt(yv,vv,"esm2020");function t(e){try{const n=e.getProvider(ku).getImmediate();return{logEvent:(r,i,s)=>QP(n,r,i,s)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}}}YP();var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,Pw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function N(){}N.prototype=E.prototype,S.D=E.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(T,A,P){for(var C=Array(arguments.length-2),L=2;L<arguments.length;L++)C[L-2]=arguments[L];return E.prototype[A].apply(T,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,N){N||(N=0);var T=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)T[A]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(A=0;16>A;++A)T[A]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=S.g[0],N=S.g[1],A=S.g[2];var P=S.g[3],C=E+(P^N&(A^P))+T[0]+3614090360&4294967295;E=N+(C<<7&4294967295|C>>>25),C=P+(A^E&(N^A))+T[1]+3905402710&4294967295,P=E+(C<<12&4294967295|C>>>20),C=A+(N^P&(E^N))+T[2]+606105819&4294967295,A=P+(C<<17&4294967295|C>>>15),C=N+(E^A&(P^E))+T[3]+3250441966&4294967295,N=A+(C<<22&4294967295|C>>>10),C=E+(P^N&(A^P))+T[4]+4118548399&4294967295,E=N+(C<<7&4294967295|C>>>25),C=P+(A^E&(N^A))+T[5]+1200080426&4294967295,P=E+(C<<12&4294967295|C>>>20),C=A+(N^P&(E^N))+T[6]+2821735955&4294967295,A=P+(C<<17&4294967295|C>>>15),C=N+(E^A&(P^E))+T[7]+4249261313&4294967295,N=A+(C<<22&4294967295|C>>>10),C=E+(P^N&(A^P))+T[8]+1770035416&4294967295,E=N+(C<<7&4294967295|C>>>25),C=P+(A^E&(N^A))+T[9]+2336552879&4294967295,P=E+(C<<12&4294967295|C>>>20),C=A+(N^P&(E^N))+T[10]+4294925233&4294967295,A=P+(C<<17&4294967295|C>>>15),C=N+(E^A&(P^E))+T[11]+2304563134&4294967295,N=A+(C<<22&4294967295|C>>>10),C=E+(P^N&(A^P))+T[12]+1804603682&4294967295,E=N+(C<<7&4294967295|C>>>25),C=P+(A^E&(N^A))+T[13]+4254626195&4294967295,P=E+(C<<12&4294967295|C>>>20),C=A+(N^P&(E^N))+T[14]+2792965006&4294967295,A=P+(C<<17&4294967295|C>>>15),C=N+(E^A&(P^E))+T[15]+1236535329&4294967295,N=A+(C<<22&4294967295|C>>>10),C=E+(A^P&(N^A))+T[1]+4129170786&4294967295,E=N+(C<<5&4294967295|C>>>27),C=P+(N^A&(E^N))+T[6]+3225465664&4294967295,P=E+(C<<9&4294967295|C>>>23),C=A+(E^N&(P^E))+T[11]+643717713&4294967295,A=P+(C<<14&4294967295|C>>>18),C=N+(P^E&(A^P))+T[0]+3921069994&4294967295,N=A+(C<<20&4294967295|C>>>12),C=E+(A^P&(N^A))+T[5]+3593408605&4294967295,E=N+(C<<5&4294967295|C>>>27),C=P+(N^A&(E^N))+T[10]+38016083&4294967295,P=E+(C<<9&4294967295|C>>>23),C=A+(E^N&(P^E))+T[15]+3634488961&4294967295,A=P+(C<<14&4294967295|C>>>18),C=N+(P^E&(A^P))+T[4]+3889429448&4294967295,N=A+(C<<20&4294967295|C>>>12),C=E+(A^P&(N^A))+T[9]+568446438&4294967295,E=N+(C<<5&4294967295|C>>>27),C=P+(N^A&(E^N))+T[14]+3275163606&4294967295,P=E+(C<<9&4294967295|C>>>23),C=A+(E^N&(P^E))+T[3]+4107603335&4294967295,A=P+(C<<14&4294967295|C>>>18),C=N+(P^E&(A^P))+T[8]+1163531501&4294967295,N=A+(C<<20&4294967295|C>>>12),C=E+(A^P&(N^A))+T[13]+2850285829&4294967295,E=N+(C<<5&4294967295|C>>>27),C=P+(N^A&(E^N))+T[2]+4243563512&4294967295,P=E+(C<<9&4294967295|C>>>23),C=A+(E^N&(P^E))+T[7]+1735328473&4294967295,A=P+(C<<14&4294967295|C>>>18),C=N+(P^E&(A^P))+T[12]+2368359562&4294967295,N=A+(C<<20&4294967295|C>>>12),C=E+(N^A^P)+T[5]+4294588738&4294967295,E=N+(C<<4&4294967295|C>>>28),C=P+(E^N^A)+T[8]+2272392833&4294967295,P=E+(C<<11&4294967295|C>>>21),C=A+(P^E^N)+T[11]+1839030562&4294967295,A=P+(C<<16&4294967295|C>>>16),C=N+(A^P^E)+T[14]+4259657740&4294967295,N=A+(C<<23&4294967295|C>>>9),C=E+(N^A^P)+T[1]+2763975236&4294967295,E=N+(C<<4&4294967295|C>>>28),C=P+(E^N^A)+T[4]+1272893353&4294967295,P=E+(C<<11&4294967295|C>>>21),C=A+(P^E^N)+T[7]+4139469664&4294967295,A=P+(C<<16&4294967295|C>>>16),C=N+(A^P^E)+T[10]+3200236656&4294967295,N=A+(C<<23&4294967295|C>>>9),C=E+(N^A^P)+T[13]+681279174&4294967295,E=N+(C<<4&4294967295|C>>>28),C=P+(E^N^A)+T[0]+3936430074&4294967295,P=E+(C<<11&4294967295|C>>>21),C=A+(P^E^N)+T[3]+3572445317&4294967295,A=P+(C<<16&4294967295|C>>>16),C=N+(A^P^E)+T[6]+76029189&4294967295,N=A+(C<<23&4294967295|C>>>9),C=E+(N^A^P)+T[9]+3654602809&4294967295,E=N+(C<<4&4294967295|C>>>28),C=P+(E^N^A)+T[12]+3873151461&4294967295,P=E+(C<<11&4294967295|C>>>21),C=A+(P^E^N)+T[15]+530742520&4294967295,A=P+(C<<16&4294967295|C>>>16),C=N+(A^P^E)+T[2]+3299628645&4294967295,N=A+(C<<23&4294967295|C>>>9),C=E+(A^(N|~P))+T[0]+4096336452&4294967295,E=N+(C<<6&4294967295|C>>>26),C=P+(N^(E|~A))+T[7]+1126891415&4294967295,P=E+(C<<10&4294967295|C>>>22),C=A+(E^(P|~N))+T[14]+2878612391&4294967295,A=P+(C<<15&4294967295|C>>>17),C=N+(P^(A|~E))+T[5]+4237533241&4294967295,N=A+(C<<21&4294967295|C>>>11),C=E+(A^(N|~P))+T[12]+1700485571&4294967295,E=N+(C<<6&4294967295|C>>>26),C=P+(N^(E|~A))+T[3]+2399980690&4294967295,P=E+(C<<10&4294967295|C>>>22),C=A+(E^(P|~N))+T[10]+4293915773&4294967295,A=P+(C<<15&4294967295|C>>>17),C=N+(P^(A|~E))+T[1]+2240044497&4294967295,N=A+(C<<21&4294967295|C>>>11),C=E+(A^(N|~P))+T[8]+1873313359&4294967295,E=N+(C<<6&4294967295|C>>>26),C=P+(N^(E|~A))+T[15]+4264355552&4294967295,P=E+(C<<10&4294967295|C>>>22),C=A+(E^(P|~N))+T[6]+2734768916&4294967295,A=P+(C<<15&4294967295|C>>>17),C=N+(P^(A|~E))+T[13]+1309151649&4294967295,N=A+(C<<21&4294967295|C>>>11),C=E+(A^(N|~P))+T[4]+4149444226&4294967295,E=N+(C<<6&4294967295|C>>>26),C=P+(N^(E|~A))+T[11]+3174756917&4294967295,P=E+(C<<10&4294967295|C>>>22),C=A+(E^(P|~N))+T[2]+718787259&4294967295,A=P+(C<<15&4294967295|C>>>17),C=N+(P^(A|~E))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var N=E-this.blockSize,T=this.B,A=this.h,P=0;P<E;){if(A==0)for(;P<=N;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<E;)if(T[A++]=S.charCodeAt(P++),A==this.blockSize){i(this,T),A=0;break}}else for(;P<E;)if(T[A++]=S[P++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var N=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=N&255,N/=256;for(this.u(S),S=Array(16),E=N=0;4>E;++E)for(var T=0;32>T;T+=8)S[N++]=this.g[E]>>>T&255;return S};function s(S,E){var N=a;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=E(S)}function o(S,E){this.h=E;for(var N=[],T=!0,A=S.length-1;0<=A;A--){var P=S[A]|0;T&&P==E||(N[A]=P,T=!1)}this.g=N}var a={};function l(S){return-128<=S&&128>S?s(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return b(d(-S));for(var E=[],N=1,T=0;S>=N;T++)E[T]=S/N|0,N*=4294967296;return new o(E,0)}function f(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(f(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(E,8)),T=h,A=0;A<S.length;A+=8){var P=Math.min(8,S.length-A),C=parseInt(S.substring(A,A+P),E);8>P?(P=d(Math.pow(E,P)),T=T.j(P).add(d(C))):(T=T.j(N),T=T.add(d(C)))}return T}var h=l(0),c=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-b(this).m();for(var S=0,E=1,N=0;N<this.g.length;N++){var T=this.i(N);S+=(0<=T?T:4294967296+T)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(_(this))return"-"+b(this).toString(S);for(var E=d(Math.pow(S,6)),N=this,T="";;){var A=v(N,E).g;N=g(N,A.j(E));var P=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=A,w(N))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=g(this,S),_(S)?-1:w(S)?0:1};function b(S){for(var E=S.g.length,N=[],T=0;T<E;T++)N[T]=~S.g[T];return new o(N,~S.h).add(c)}t.abs=function(){return _(this)?b(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),N=[],T=0,A=0;A<=E;A++){var P=T+(this.i(A)&65535)+(S.i(A)&65535),C=(P>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);T=C>>>16,P&=65535,C&=65535,N[A]=C<<16|P}return new o(N,N[N.length-1]&-2147483648?-1:0)};function g(S,E){return S.add(b(E))}t.j=function(S){if(w(this)||w(S))return h;if(_(this))return _(S)?b(this).j(b(S)):b(b(this).j(S));if(_(S))return b(this.j(b(S)));if(0>this.l(p)&&0>S.l(p))return d(this.m()*S.m());for(var E=this.g.length+S.g.length,N=[],T=0;T<2*E;T++)N[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<S.g.length;A++){var P=this.i(T)>>>16,C=this.i(T)&65535,L=S.i(A)>>>16,q=S.i(A)&65535;N[2*T+2*A]+=C*q,m(N,2*T+2*A),N[2*T+2*A+1]+=P*q,m(N,2*T+2*A+1),N[2*T+2*A+1]+=C*L,m(N,2*T+2*A+1),N[2*T+2*A+2]+=P*L,m(N,2*T+2*A+2)}for(T=0;T<E;T++)N[T]=N[2*T+1]<<16|N[2*T];for(T=E;T<2*E;T++)N[T]=0;return new o(N,0)};function m(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function x(S,E){this.g=S,this.h=E}function v(S,E){if(w(E))throw Error("division by zero");if(w(S))return new x(h,h);if(_(S))return E=v(b(S),E),new x(b(E.g),b(E.h));if(_(E))return E=v(S,b(E)),new x(b(E.g),E.h);if(30<S.g.length){if(_(S)||_(E))throw Error("slowDivide_ only works with positive integers.");for(var N=c,T=E;0>=T.l(S);)N=k(N),T=k(T);var A=O(N,1),P=O(T,1);for(T=O(T,2),N=O(N,2);!w(T);){var C=P.add(T);0>=C.l(S)&&(A=A.add(N),P=C),T=O(T,1),N=O(N,1)}return E=g(S,A.j(E)),new x(A,E)}for(A=h;0<=S.l(E);){for(N=Math.max(1,Math.floor(S.m()/E.m())),T=Math.ceil(Math.log(N)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=d(N),C=P.j(E);_(C)||0<C.l(S);)N-=T,P=d(N),C=P.j(E);w(P)&&(P=c),A=A.add(P),S=g(S,C)}return new x(A,S)}t.A=function(S){return v(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),N=[],T=0;T<E;T++)N[T]=this.i(T)&S.i(T);return new o(N,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),N=[],T=0;T<E;T++)N[T]=this.i(T)|S.i(T);return new o(N,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),N=[],T=0;T<E;T++)N[T]=this.i(T)^S.i(T);return new o(N,this.h^S.h)};function k(S){for(var E=S.g.length+1,N=[],T=0;T<E;T++)N[T]=S.i(T)<<1|S.i(T-1)>>>31;return new o(N,S.h)}function O(S,E){var N=E>>5;E%=32;for(var T=S.g.length-N,A=[],P=0;P<T;P++)A[P]=0<E?S.i(P+N)>>>E|S.i(P+N+1)<<32-E:S.i(P+N);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Br=o}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cw,No,Rw,zl,tf,Ow,jw,Dw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,I,R){return u==Array.prototype||u==Object.prototype||(u[I]=R.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xl=="object"&&xl];for(var I=0;I<u.length;++I){var R=u[I];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(u,I){if(I)e:{var R=r;u=u.split(".");for(var D=0;D<u.length-1;D++){var Q=u[D];if(!(Q in R))break e;R=R[Q]}u=u[u.length-1],D=R[u],I=I(D),I!=D&&I!=null&&e(R,u,{configurable:!0,writable:!0,value:I})}}function s(u,I){u instanceof String&&(u+="");var R=0,D=!1,Q={next:function(){if(!D&&R<u.length){var J=R++;return{value:I(J,u[J]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(u){return u||function(){return s(this,function(I,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var I=typeof u;return I=I!="object"?I:u?Array.isArray(u)?"array":I:"null",I=="array"||I=="object"&&typeof u.length=="number"}function d(u){var I=typeof u;return I=="object"&&u!=null||I=="function"}function f(u,I,R){return u.call.apply(u.bind,arguments)}function h(u,I,R){if(!u)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),u.apply(I,Q)}}return function(){return u.apply(I,arguments)}}function c(u,I,R){return c=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,c.apply(null,arguments)}function p(u,I){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function w(u,I){function R(){}R.prototype=I.prototype,u.aa=I.prototype,u.prototype=new R,u.prototype.constructor=u,u.Qb=function(D,Q,J){for(var oe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)oe[Fe-2]=arguments[Fe];return I.prototype[Q].apply(D,oe)}}function _(u){const I=u.length;if(0<I){const R=Array(I);for(let D=0;D<I;D++)R[D]=u[D];return R}return[]}function b(u,I){for(let R=1;R<arguments.length;R++){const D=arguments[R];if(l(D)){const Q=u.length||0,J=D.length||0;u.length=Q+J;for(let oe=0;oe<J;oe++)u[Q+oe]=D[oe]}else u.push(D)}}class g{constructor(I,R){this.i=I,this.j=R,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function m(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function v(u){return v[" "](u),u}v[" "]=function(){};var k=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function O(u,I,R){for(const D in u)I.call(R,u[D],D,u)}function S(u,I){for(const R in u)I.call(void 0,u[R],R,u)}function E(u){const I={};for(const R in u)I[R]=u[R];return I}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,I){let R,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(R in D)u[R]=D[R];for(let J=0;J<N.length;J++)R=N[J],Object.prototype.hasOwnProperty.call(D,R)&&(u[R]=D[R])}}function A(u){var I=1;u=u.split(":");const R=[];for(;0<I&&u.length;)R.push(u.shift()),I--;return u.length&&R.push(u.join(":")),R}function P(u){a.setTimeout(()=>{throw u},0)}function C(){var u=B;let I=null;return u.g&&(I=u.g,u.g=u.g.next,u.g||(u.h=null),I.next=null),I}class L{constructor(){this.h=this.g=null}add(I,R){const D=q.get();D.set(I,R),this.h?this.h.next=D:this.g=D,this.h=D}}var q=new g(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(I,R){this.h=I,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let K,G=!1,B=new L,F=()=>{const u=a.Promise.resolve(void 0);K=()=>{u.then(j)}};var j=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(R){P(R)}var I=q;I.j(u),100>I.h&&(I.h++,u.next=I.g,I.g=u)}G=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(u,I){this.type=u,this.g=this.target=I,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,I=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const R=()=>{};a.addEventListener("test",R,I),a.removeEventListener("test",R,I)}catch{}return u}();function $(u,I){if(U.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var R=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=I,I=u.relatedTarget){if(k){e:{try{v(I.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(I=null)}}else R=="mouseover"?I=u.fromElement:R=="mouseout"&&(I=u.toElement);this.relatedTarget=I,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:V[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&$.aa.h.call(this)}}w($,U);var V={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(u,I,R,D,Q){this.listener=u,this.proxy=null,this.src=I,this.type=R,this.capture=!!D,this.ha=Q,this.key=++Y,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,I,R,D,Q){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var oe=xe(u,I,D,Q);return-1<oe?(I=u[oe],R||(I.fa=!1)):(I=new X(I,this.src,J,!!D,Q),I.fa=R,u.push(I)),I};function ye(u,I){var R=I.type;if(R in u.g){var D=u.g[R],Q=Array.prototype.indexOf.call(D,I,void 0),J;(J=0<=Q)&&Array.prototype.splice.call(D,Q,1),J&&(ne(I),u.g[R].length==0&&(delete u.g[R],u.h--))}}function xe(u,I,R,D){for(var Q=0;Q<u.length;++Q){var J=u[Q];if(!J.da&&J.listener==I&&J.capture==!!R&&J.ha==D)return Q}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),Re={};function yt(u,I,R,D,Q){if(Array.isArray(I)){for(var J=0;J<I.length;J++)yt(u,I[J],R,D,Q);return null}return R=Ae(R),u&&u[z]?u.K(I,R,d(D)?!!D.capture:!!D,Q):nt(u,I,R,!1,D,Q)}function nt(u,I,R,D,Q,J){if(!I)throw Error("Invalid event type");var oe=d(Q)?!!Q.capture:!!Q,Fe=Ee(u);if(Fe||(u[Ie]=Fe=new ue(u)),R=Fe.add(I,R,D,oe,J),R.proxy)return R;if(D=Z(),R.proxy=D,D.src=u,D.listener=R,u.addEventListener)W||(Q=oe),Q===void 0&&(Q=!1),u.addEventListener(I.toString(),D,Q);else if(u.attachEvent)u.attachEvent(le(I.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Z(){function u(R){return I.call(u.src,u.listener,R)}const I=ie;return u}function ee(u,I,R,D,Q){if(Array.isArray(I))for(var J=0;J<I.length;J++)ee(u,I[J],R,D,Q);else D=d(D)?!!D.capture:!!D,R=Ae(R),u&&u[z]?(u=u.i,I=String(I).toString(),I in u.g&&(J=u.g[I],R=xe(J,R,D,Q),-1<R&&(ne(J[R]),Array.prototype.splice.call(J,R,1),J.length==0&&(delete u.g[I],u.h--)))):u&&(u=Ee(u))&&(I=u.g[I.toString()],u=-1,I&&(u=xe(I,R,D,Q)),(R=-1<u?I[u]:null)&&ae(R))}function ae(u){if(typeof u!="number"&&u&&!u.da){var I=u.src;if(I&&I[z])ye(I.i,u);else{var R=u.type,D=u.proxy;I.removeEventListener?I.removeEventListener(R,D,u.capture):I.detachEvent?I.detachEvent(le(R),D):I.addListener&&I.removeListener&&I.removeListener(D),(R=Ee(I))?(ye(R,u),R.h==0&&(R.src=null,I[Ie]=null)):ne(u)}}}function le(u){return u in Re?Re[u]:Re[u]="on"+u}function ie(u,I){if(u.da)u=!0;else{I=new $(I,this);var R=u.listener,D=u.ha||u.src;u.fa&&ae(u),u=R.call(D,I)}return u}function Ee(u){return u=u[Ie],u instanceof ue?u:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(u){return typeof u=="function"?u:(u[Te]||(u[Te]=function(I){return u.handleEvent(I)}),u[Te])}function Le(){M.call(this),this.i=new ue(this),this.M=this,this.F=null}w(Le,M),Le.prototype[z]=!0,Le.prototype.removeEventListener=function(u,I,R,D){ee(this,u,I,R,D)};function qe(u,I){var R,D=u.F;if(D)for(R=[];D;D=D.F)R.push(D);if(u=u.M,D=I.type||I,typeof I=="string")I=new U(I,u);else if(I instanceof U)I.target=I.target||u;else{var Q=I;I=new U(D,u),T(I,Q)}if(Q=!0,R)for(var J=R.length-1;0<=J;J--){var oe=I.g=R[J];Q=Ve(oe,D,!0,I)&&Q}if(oe=I.g=u,Q=Ve(oe,D,!0,I)&&Q,Q=Ve(oe,D,!1,I)&&Q,R)for(J=0;J<R.length;J++)oe=I.g=R[J],Q=Ve(oe,D,!1,I)&&Q}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var u=this.i,I;for(I in u.g){for(var R=u.g[I],D=0;D<R.length;D++)ne(R[D]);delete u.g[I],u.h--}}this.F=null},Le.prototype.K=function(u,I,R,D){return this.i.add(String(u),I,!1,R,D)},Le.prototype.L=function(u,I,R,D){return this.i.add(String(u),I,!0,R,D)};function Ve(u,I,R,D){if(I=u.i.g[String(I)],!I)return!0;I=I.concat();for(var Q=!0,J=0;J<I.length;++J){var oe=I[J];if(oe&&!oe.da&&oe.capture==R){var Fe=oe.listener,vt=oe.ha||oe.src;oe.fa&&ye(u.i,oe),Q=Fe.call(vt,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Ua(u,I,R){if(typeof u=="function")R&&(u=c(u,R));else if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:a.setTimeout(u,I||0)}function Qe(u){u.g=Ua(()=>{u.g=null,u.i&&(u.i=!1,Qe(u))},u.l);const I=u.h;u.h=null,u.m.apply(null,I)}class Pn extends M{constructor(I,R){super(),this.m=I,this.l=R,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Qe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(u){M.call(this),this.h=u,this.g={}}w(Zs,M);var Cm=[];function Rm(u){O(u.g,function(I,R){this.g.hasOwnProperty(R)&&ae(I)},u),u.g={}}Zs.prototype.N=function(){Zs.aa.N.call(this),Rm(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hc=a.JSON.stringify,DE=a.JSON.parse,LE=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Kc(){}Kc.prototype.h=null;function Om(u){return u.h||(u.h=u.i())}function jm(){}var eo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wc(){U.call(this,"d")}w(Wc,U);function Gc(){U.call(this,"c")}w(Gc,U);var ai={},Dm=null;function qa(){return Dm=Dm||new Le}ai.La="serverreachability";function Lm(u){U.call(this,ai.La,u)}w(Lm,U);function to(u){const I=qa();qe(I,new Lm(I))}ai.STAT_EVENT="statevent";function Mm(u,I){U.call(this,ai.STAT_EVENT,u),this.stat=I}w(Mm,U);function Lt(u){const I=qa();qe(I,new Mm(I,u))}ai.Ma="timingevent";function Vm(u,I){U.call(this,ai.Ma,u),this.size=I}w(Vm,U);function no(u,I){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},I)}function ro(){this.g=!0}ro.prototype.xa=function(){this.g=!1};function ME(u,I,R,D,Q,J){u.info(function(){if(u.g)if(J)for(var oe="",Fe=J.split("&"),vt=0;vt<Fe.length;vt++){var je=Fe[vt].split("=");if(1<je.length){var At=je[0];je=je[1];var It=At.split("_");oe=2<=It.length&&It[1]=="type"?oe+(At+"="+je+"&"):oe+(At+"=redacted&")}}else oe=null;else oe=J;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+I+`
`+R+`
`+oe})}function VE(u,I,R,D,Q,J,oe){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+I+`
`+R+`
`+J+" "+oe})}function Bi(u,I,R,D){u.info(function(){return"XMLHTTP TEXT ("+I+"): "+UE(u,R)+(D?" "+D:"")})}function FE(u,I){u.info(function(){return"TIMEOUT: "+I})}ro.prototype.info=function(){};function UE(u,I){if(!u.g)return I;if(!I)return null;try{var R=JSON.parse(I);if(R){for(u=0;u<R.length;u++)if(Array.isArray(R[u])){var D=R[u];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var J=Q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var oe=1;oe<Q.length;oe++)Q[oe]=""}}}}return Hc(R)}catch{return I}}var Ba={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qc;function za(){}w(za,Kc),za.prototype.g=function(){return new XMLHttpRequest},za.prototype.i=function(){return{}},Qc=new za;function mr(u,I,R,D){this.j=u,this.i=I,this.l=R,this.R=D||1,this.U=new Zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Um}function Um(){this.i=null,this.g="",this.h=!1}var qm={},Yc={};function Xc(u,I,R){u.L=1,u.v=Wa(Gn(I)),u.m=R,u.P=!0,Bm(u,null)}function Bm(u,I){u.F=Date.now(),$a(u),u.A=Gn(u.v);var R=u.A,D=u.R;Array.isArray(D)||(D=[String(D)]),ng(R.i,"t",D),u.C=0,R=u.j.J,u.h=new Um,u.g=xg(u.j,R?I:null,!u.m),0<u.O&&(u.M=new Pn(c(u.Y,u,u.g),u.O)),I=u.U,R=u.g,D=u.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Cm[0]=Q.toString()),Q=Cm);for(var J=0;J<Q.length;J++){var oe=yt(R,Q[J],D||I.handleEvent,!1,I.h||I);if(!oe)break;I.g[oe.key]=oe}I=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,I)):(u.u="GET",u.g.ea(u.A,u.u,null,I)),to(),ME(u.i,u.u,u.A,u.l,u.R,u.m)}mr.prototype.ca=function(u){u=u.target;const I=this.M;I&&Qn(u)==3?I.j():this.Y(u)},mr.prototype.Y=function(u){try{if(u==this.g)e:{const It=Qn(this.g);var I=this.g.Ba();const Hi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||ug(this.g)))){this.J||It!=4||I==7||(I==8||0>=Hi?to(3):to(2)),Jc(this);var R=this.g.Z();this.X=R;t:if(zm(this)){var D=ug(this.g);u="";var Q=D.length,J=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){li(this),io(this);var oe="";break t}this.h.i=new a.TextDecoder}for(I=0;I<Q;I++)this.h.h=!0,u+=this.h.i.decode(D[I],{stream:!(J&&I==Q-1)});D.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=R==200,VE(this.i,this.u,this.A,this.l,this.R,It,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,vt=this.g;if((Fe=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(Fe)){var je=Fe;break t}}je=null}if(R=je)Bi(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zc(this,R);else{this.o=!1,this.s=3,Lt(12),li(this),io(this);break e}}if(this.P){R=!0;let yn;for(;!this.J&&this.C<oe.length;)if(yn=qE(this,oe),yn==Yc){It==4&&(this.s=4,Lt(14),R=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==qm){this.s=4,Lt(15),Bi(this.i,this.l,oe,"[Invalid Chunk]"),R=!1;break}else Bi(this.i,this.l,yn,null),Zc(this,yn);if(zm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||oe.length!=0||this.h.h||(this.s=1,Lt(16),R=!1),this.o=this.o&&R,!R)Bi(this.i,this.l,oe,"[Invalid Chunked Response]"),li(this),io(this);else if(0<oe.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),sd(At),At.M=!0,Lt(11))}}else Bi(this.i,this.l,oe,null),Zc(this,oe);It==4&&li(this),this.o&&!this.J&&(It==4?gg(this.j,this):(this.o=!1,$a(this)))}else iT(this.g),R==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),li(this),io(this)}}}catch{}finally{}};function zm(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function qE(u,I){var R=u.C,D=I.indexOf(`
`,R);return D==-1?Yc:(R=Number(I.substring(R,D)),isNaN(R)?qm:(D+=1,D+R>I.length?Yc:(I=I.slice(D,D+R),u.C=D+R,I)))}mr.prototype.cancel=function(){this.J=!0,li(this)};function $a(u){u.S=Date.now()+u.I,$m(u,u.I)}function $m(u,I){if(u.B!=null)throw Error("WatchDog timer not null");u.B=no(c(u.ba,u),I)}function Jc(u){u.B&&(a.clearTimeout(u.B),u.B=null)}mr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(FE(this.i,this.A),this.L!=2&&(to(),Lt(17)),li(this),this.s=2,io(this)):$m(this,this.S-u)};function io(u){u.j.G==0||u.J||gg(u.j,u)}function li(u){Jc(u);var I=u.M;I&&typeof I.ma=="function"&&I.ma(),u.M=null,Rm(u.U),u.g&&(I=u.g,u.g=null,I.abort(),I.ma())}function Zc(u,I){try{var R=u.j;if(R.G!=0&&(R.g==u||ed(R.h,u))){if(!u.K&&ed(R.h,u)&&R.G==3){try{var D=R.Da.g.parse(I)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<u.F)Za(R),Xa(R);else break e;id(R),Lt(18)}}else R.za=Q[1],0<R.za-R.T&&37500>Q[2]&&R.F&&R.v==0&&!R.C&&(R.C=no(c(R.Za,R),6e3));if(1>=Wm(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ci(R,11)}else if((u.K||R.g==u)&&Za(R),!m(I))for(Q=R.Da.g.parse(I),I=0;I<Q.length;I++){let je=Q[I];if(R.T=je[0],je=je[1],R.G==2)if(je[0]=="c"){R.K=je[1],R.ia=je[2];const At=je[3];At!=null&&(R.la=At,R.j.info("VER="+R.la));const It=je[4];It!=null&&(R.Aa=It,R.j.info("SVER="+R.Aa));const Hi=je[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(D=1.5*Hi,R.L=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const yn=u.g;if(yn){const tl=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tl){var J=D.h;J.g||tl.indexOf("spdy")==-1&&tl.indexOf("quic")==-1&&tl.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(td(J,J.h),J.h=null))}if(D.D){const od=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;od&&(D.ya=od,Be(D.I,D.D,od))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-u.F,R.j.info("Handshake RTT: "+R.R+"ms")),D=R;var oe=u;if(D.qa=_g(D,D.J?D.ia:null,D.W),oe.K){Gm(D.h,oe);var Fe=oe,vt=D.L;vt&&(Fe.I=vt),Fe.B&&(Jc(Fe),$a(Fe)),D.g=oe}else pg(D);0<R.i.length&&Ja(R)}else je[0]!="stop"&&je[0]!="close"||ci(R,7);else R.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?ci(R,7):rd(R):je[0]!="noop"&&R.l&&R.l.ta(je),R.v=0)}}to(4)}catch{}}var BE=class{constructor(u,I){this.g=u,this.map=I}};function Hm(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Km(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wm(u){return u.h?1:u.g?u.g.size:0}function ed(u,I){return u.h?u.h==I:u.g?u.g.has(I):!1}function td(u,I){u.g?u.g.add(I):u.h=I}function Gm(u,I){u.h&&u.h==I?u.h=null:u.g&&u.g.has(I)&&u.g.delete(I)}Hm.prototype.cancel=function(){if(this.i=Qm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qm(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let I=u.i;for(const R of u.g.values())I=I.concat(R.D);return I}return _(u.i)}function zE(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var I=[],R=u.length,D=0;D<R;D++)I.push(u[D]);return I}I=[],R=0;for(D in u)I[R++]=u[D];return I}function $E(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var I=[];u=u.length;for(var R=0;R<u;R++)I.push(R);return I}I=[],R=0;for(const D in u)I[R++]=D;return I}}}function Ym(u,I){if(u.forEach&&typeof u.forEach=="function")u.forEach(I,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,I,void 0);else for(var R=$E(u),D=zE(u),Q=D.length,J=0;J<Q;J++)I.call(void 0,D[J],R&&R[J],u)}var Xm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HE(u,I){if(u){u=u.split("&");for(var R=0;R<u.length;R++){var D=u[R].indexOf("="),Q=null;if(0<=D){var J=u[R].substring(0,D);Q=u[R].substring(D+1)}else J=u[R];I(J,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ui(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ui){this.h=u.h,Ha(this,u.j),this.o=u.o,this.g=u.g,Ka(this,u.s),this.l=u.l;var I=u.i,R=new ao;R.i=I.i,I.g&&(R.g=new Map(I.g),R.h=I.h),Jm(this,R),this.m=u.m}else u&&(I=String(u).match(Xm))?(this.h=!1,Ha(this,I[1]||"",!0),this.o=so(I[2]||""),this.g=so(I[3]||"",!0),Ka(this,I[4]),this.l=so(I[5]||"",!0),Jm(this,I[6]||"",!0),this.m=so(I[7]||"")):(this.h=!1,this.i=new ao(null,this.h))}ui.prototype.toString=function(){var u=[],I=this.j;I&&u.push(oo(I,Zm,!0),":");var R=this.g;return(R||I=="file")&&(u.push("//"),(I=this.o)&&u.push(oo(I,Zm,!0),"@"),u.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&u.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&u.push("/"),u.push(oo(R,R.charAt(0)=="/"?GE:WE,!0))),(R=this.i.toString())&&u.push("?",R),(R=this.m)&&u.push("#",oo(R,YE)),u.join("")};function Gn(u){return new ui(u)}function Ha(u,I,R){u.j=R?so(I,!0):I,u.j&&(u.j=u.j.replace(/:$/,""))}function Ka(u,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);u.s=I}else u.s=null}function Jm(u,I,R){I instanceof ao?(u.i=I,XE(u.i,u.h)):(R||(I=oo(I,QE)),u.i=new ao(I,u.h))}function Be(u,I,R){u.i.set(I,R)}function Wa(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function so(u,I){return u?I?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function oo(u,I,R){return typeof u=="string"?(u=encodeURI(u).replace(I,KE),R&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function KE(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zm=/[#\/\?@]/g,WE=/[#\?:]/g,GE=/[#\?]/g,QE=/[#\?@]/g,YE=/#/g;function ao(u,I){this.h=this.g=null,this.i=u||null,this.j=!!I}function gr(u){u.g||(u.g=new Map,u.h=0,u.i&&HE(u.i,function(I,R){u.add(decodeURIComponent(I.replace(/\+/g," ")),R)}))}t=ao.prototype,t.add=function(u,I){gr(this),this.i=null,u=zi(this,u);var R=this.g.get(u);return R||this.g.set(u,R=[]),R.push(I),this.h+=1,this};function eg(u,I){gr(u),I=zi(u,I),u.g.has(I)&&(u.i=null,u.h-=u.g.get(I).length,u.g.delete(I))}function tg(u,I){return gr(u),I=zi(u,I),u.g.has(I)}t.forEach=function(u,I){gr(this),this.g.forEach(function(R,D){R.forEach(function(Q){u.call(I,Q,D,this)},this)},this)},t.na=function(){gr(this);const u=Array.from(this.g.values()),I=Array.from(this.g.keys()),R=[];for(let D=0;D<I.length;D++){const Q=u[D];for(let J=0;J<Q.length;J++)R.push(I[D])}return R},t.V=function(u){gr(this);let I=[];if(typeof u=="string")tg(this,u)&&(I=I.concat(this.g.get(zi(this,u))));else{u=Array.from(this.g.values());for(let R=0;R<u.length;R++)I=I.concat(u[R])}return I},t.set=function(u,I){return gr(this),this.i=null,u=zi(this,u),tg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[I]),this.h+=1,this},t.get=function(u,I){return u?(u=this.V(u),0<u.length?String(u[0]):I):I};function ng(u,I,R){eg(u,I),0<R.length&&(u.i=null,u.g.set(zi(u,I),_(R)),u.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],I=Array.from(this.g.keys());for(var R=0;R<I.length;R++){var D=I[R];const J=encodeURIComponent(String(D)),oe=this.V(D);for(D=0;D<oe.length;D++){var Q=J;oe[D]!==""&&(Q+="="+encodeURIComponent(String(oe[D]))),u.push(Q)}}return this.i=u.join("&")};function zi(u,I){return I=String(I),u.j&&(I=I.toLowerCase()),I}function XE(u,I){I&&!u.j&&(gr(u),u.i=null,u.g.forEach(function(R,D){var Q=D.toLowerCase();D!=Q&&(eg(this,D),ng(this,Q,R))},u)),u.j=I}function JE(u,I){const R=new ro;if(a.Image){const D=new Image;D.onload=p(yr,R,"TestLoadImage: loaded",!0,I,D),D.onerror=p(yr,R,"TestLoadImage: error",!1,I,D),D.onabort=p(yr,R,"TestLoadImage: abort",!1,I,D),D.ontimeout=p(yr,R,"TestLoadImage: timeout",!1,I,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else I(!1)}function ZE(u,I){const R=new ro,D=new AbortController,Q=setTimeout(()=>{D.abort(),yr(R,"TestPingServer: timeout",!1,I)},1e4);fetch(u,{signal:D.signal}).then(J=>{clearTimeout(Q),J.ok?yr(R,"TestPingServer: ok",!0,I):yr(R,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Q),yr(R,"TestPingServer: error",!1,I)})}function yr(u,I,R,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(R)}catch{}}function eT(){this.g=new LE}function tT(u,I,R){const D=R||"";try{Ym(u,function(Q,J){let oe=Q;d(Q)&&(oe=Hc(Q)),I.push(D+J+"="+encodeURIComponent(oe))})}catch(Q){throw I.push(D+"type="+encodeURIComponent("_badmap")),Q}}function Ga(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Ga,Kc),Ga.prototype.g=function(){return new Qa(this.l,this.j)},Ga.prototype.i=function(u){return function(){return u}}({});function Qa(u,I){Le.call(this),this.D=u,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Qa,Le),t=Qa.prototype,t.open=function(u,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=I,this.readyState=1,uo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(I.body=u),(this.D||a).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,uo(this)),this.g&&(this.readyState=3,uo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rg(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function rg(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var I=u.value?u.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!u.done}))&&(this.response=this.responseText+=I)}u.done?lo(this):uo(this),this.readyState==3&&rg(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,lo(this))},t.Qa=function(u){this.g&&(this.response=u,lo(this))},t.ga=function(){this.g&&lo(this)};function lo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,uo(u)}t.setRequestHeader=function(u,I){this.u.append(u,I)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],I=this.h.entries();for(var R=I.next();!R.done;)R=R.value,u.push(R[0]+": "+R[1]),R=I.next();return u.join(`\r
`)};function uo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ig(u){let I="";return O(u,function(R,D){I+=D,I+=":",I+=R,I+=`\r
`}),I}function nd(u,I,R){e:{for(D in R){var D=!1;break e}D=!0}D||(R=ig(R),typeof u=="string"?R!=null&&encodeURIComponent(String(R)):Be(u,I,R))}function et(u){Le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(et,Le);var nT=/^https?$/i,rT=["POST","PUT"];t=et.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,I,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);I=I?I.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qc.g(),this.v=this.o?Om(this.o):Om(Qc),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(I,String(u),!0),this.B=!1}catch(J){sg(this,J);return}if(u=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)R.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())R.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(J=>J.toLowerCase()=="content-type"),Q=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rT,I,void 0))||D||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,oe]of R)this.g.setRequestHeader(J,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lg(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){sg(this,J)}};function sg(u,I){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=I,u.m=5,og(u),Ya(u)}function og(u){u.A||(u.A=!0,qe(u,"complete"),qe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qe(this,"complete"),qe(this,"abort"),Ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ya(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ag(this):this.bb())},t.bb=function(){ag(this)};function ag(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Qn(u)!=4||u.Z()!=2)){if(u.u&&Qn(u)==4)Ua(u.Ea,0,u);else if(qe(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var R;if(!(R=I)){var D;if(D=oe===0){var Q=String(u.D).match(Xm)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),D=!nT.test(Q?Q.toLowerCase():"")}R=D}if(R)qe(u,"complete"),qe(u,"success");else{u.m=6;try{var J=2<Qn(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",og(u)}}finally{Ya(u)}}}}function Ya(u,I){if(u.g){lg(u);const R=u.g,D=u.v[0]?()=>{}:null;u.g=null,u.v=null,I||qe(u,"ready");try{R.onreadystatechange=D}catch{}}}function lg(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var I=this.g.responseText;return u&&I.indexOf(u)==0&&(I=I.substring(u.length)),DE(I)}};function ug(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function iT(u){const I={};u=(u.g&&2<=Qn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(m(u[D]))continue;var R=A(u[D]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const J=I[Q]||[];I[Q]=J,J.push(R)}S(I,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function co(u,I,R){return R&&R.internalChannelParams&&R.internalChannelParams[u]||I}function cg(u){this.Aa=0,this.i=[],this.j=new ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=co("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=co("baseRetryDelayMs",5e3,u),this.cb=co("retryDelaySeedMs",1e4,u),this.Wa=co("forwardChannelMaxRetries",2,u),this.wa=co("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Hm(u&&u.concurrentRequestLimit),this.Da=new eT,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cg.prototype,t.la=8,t.G=1,t.connect=function(u,I,R,D){Lt(0),this.W=u,this.H=I||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.I=_g(this,null,this.W),Ja(this)};function rd(u){if(dg(u),u.G==3){var I=u.U++,R=Gn(u.I);if(Be(R,"SID",u.K),Be(R,"RID",I),Be(R,"TYPE","terminate"),ho(u,R),I=new mr(u,u.j,I),I.L=2,I.v=Wa(Gn(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(I.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=I.v,R=!0),R||(I.g=xg(I.j,null),I.g.ea(I.v)),I.F=Date.now(),$a(I)}vg(u)}function Xa(u){u.g&&(sd(u),u.g.cancel(),u.g=null)}function dg(u){Xa(u),u.u&&(a.clearTimeout(u.u),u.u=null),Za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ja(u){if(!Km(u.h)&&!u.s){u.s=!0;var I=u.Ga;K||F(),G||(K(),G=!0),B.add(I,u),u.B=0}}function sT(u,I){return Wm(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=I.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=no(c(u.Ga,u,I),yg(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Q=new mr(this,this.j,u);let J=this.o;if(this.S&&(J?(J=E(J),T(J,this.S)):J=this.S),this.m!==null||this.O||(Q.H=J,J=null),this.P)e:{for(var I=0,R=0;R<this.i.length;R++){t:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(I+=D,4096<I){I=R;break e}if(I===4096||R===this.i.length-1){I=R+1;break e}}I=1e3}else I=1e3;I=fg(this,Q,I),R=Gn(this.I),Be(R,"RID",u),Be(R,"CVER",22),this.D&&Be(R,"X-HTTP-Session-Id",this.D),ho(this,R),J&&(this.O?I="headers="+encodeURIComponent(String(ig(J)))+"&"+I:this.m&&nd(R,this.m,J)),td(this.h,Q),this.Ua&&Be(R,"TYPE","init"),this.P?(Be(R,"$req",I),Be(R,"SID","null"),Q.T=!0,Xc(Q,R,null)):Xc(Q,R,I),this.G=2}}else this.G==3&&(u?hg(this,u):this.i.length==0||Km(this.h)||hg(this))};function hg(u,I){var R;I?R=I.l:R=u.U++;const D=Gn(u.I);Be(D,"SID",u.K),Be(D,"RID",R),Be(D,"AID",u.T),ho(u,D),u.m&&u.o&&nd(D,u.m,u.o),R=new mr(u,u.j,R,u.B+1),u.m===null&&(R.H=u.o),I&&(u.i=I.D.concat(u.i)),I=fg(u,R,1e3),R.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),td(u.h,R),Xc(R,D,I)}function ho(u,I){u.H&&O(u.H,function(R,D){Be(I,D,R)}),u.l&&Ym({},function(R,D){Be(I,D,R)})}function fg(u,I,R){R=Math.min(u.i.length,R);var D=u.l?c(u.l.Na,u.l,u):null;e:{var Q=u.i;let J=-1;for(;;){const oe=["count="+R];J==-1?0<R?(J=Q[0].g,oe.push("ofs="+J)):J=0:oe.push("ofs="+J);let Fe=!0;for(let vt=0;vt<R;vt++){let je=Q[vt].g;const At=Q[vt].map;if(je-=J,0>je)J=Math.max(0,Q[vt].g-100),Fe=!1;else try{tT(At,oe,"req"+je+"_")}catch{D&&D(At)}}if(Fe){D=oe.join("&");break e}}}return u=u.i.splice(0,R),I.D=u,D}function pg(u){if(!u.g&&!u.u){u.Y=1;var I=u.Fa;K||F(),G||(K(),G=!0),B.add(I,u),u.v=0}}function id(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=no(c(u.Fa,u),yg(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,mg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=no(c(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Xa(this),mg(this))};function sd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function mg(u){u.g=new mr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var I=Gn(u.qa);Be(I,"RID","rpc"),Be(I,"SID",u.K),Be(I,"AID",u.T),Be(I,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(I,"TO",u.ja),Be(I,"TYPE","xmlhttp"),ho(u,I),u.m&&u.o&&nd(I,u.m,u.o),u.L&&(u.g.I=u.L);var R=u.g;u=u.ia,R.L=1,R.v=Wa(Gn(I)),R.m=null,R.P=!0,Bm(R,u)}t.Za=function(){this.C!=null&&(this.C=null,Xa(this),id(this),Lt(19))};function Za(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function gg(u,I){var R=null;if(u.g==I){Za(u),sd(u),u.g=null;var D=2}else if(ed(u.h,I))R=I.D,Gm(u.h,I),D=1;else return;if(u.G!=0){if(I.o)if(D==1){R=I.m?I.m.length:0,I=Date.now()-I.F;var Q=u.B;D=qa(),qe(D,new Vm(D,R)),Ja(u)}else pg(u);else if(Q=I.s,Q==3||Q==0&&0<I.X||!(D==1&&sT(u,I)||D==2&&id(u)))switch(R&&0<R.length&&(I=u.h,I.i=I.i.concat(R)),Q){case 1:ci(u,5);break;case 4:ci(u,10);break;case 3:ci(u,6);break;default:ci(u,2)}}}function yg(u,I){let R=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(R*=2),R*I}function ci(u,I){if(u.j.info("Error code "+I),I==2){var R=c(u.fb,u),D=u.Xa;const Q=!D;D=new ui(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ha(D,"https"),Wa(D),Q?JE(D.toString(),R):ZE(D.toString(),R)}else Lt(2);u.G=0,u.l&&u.l.sa(I),vg(u),dg(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function vg(u){if(u.G=0,u.ka=[],u.l){const I=Qm(u.h);(I.length!=0||u.i.length!=0)&&(b(u.ka,I),b(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function _g(u,I,R){var D=R instanceof ui?Gn(R):new ui(R);if(D.g!="")I&&(D.g=I+"."+D.g),Ka(D,D.s);else{var Q=a.location;D=Q.protocol,I=I?I+"."+Q.hostname:Q.hostname,Q=+Q.port;var J=new ui(null);D&&Ha(J,D),I&&(J.g=I),Q&&Ka(J,Q),R&&(J.l=R),D=J}return R=u.D,I=u.ya,R&&I&&Be(D,R,I),Be(D,"VER",u.la),ho(u,D),D}function xg(u,I,R){if(I&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=u.Ca&&!u.pa?new et(new Ga({eb:R})):new et(u.pa),I.Ha(u.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wg(){}t=wg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function el(){}el.prototype.g=function(u,I){return new Yt(u,I)};function Yt(u,I){Le.call(this),this.g=new cg(I),this.l=u,this.h=I&&I.messageUrlParams||null,u=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(u?u["X-WebChannel-Content-Type"]=I.messageContentType:u={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(u?u["X-WebChannel-Client-Profile"]=I.va:u={"X-WebChannel-Client-Profile":I.va}),this.g.S=u,(u=I&&I.Sb)&&!m(u)&&(this.g.m=u),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!m(I)&&(this.g.D=I,u=this.h,u!==null&&I in u&&(u=this.h,I in u&&delete u[I])),this.j=new $i(this)}w(Yt,Le),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){rd(this.g)},Yt.prototype.o=function(u){var I=this.g;if(typeof u=="string"){var R={};R.__data__=u,u=R}else this.u&&(R={},R.__data__=Hc(u),u=R);I.i.push(new BE(I.Ya++,u)),I.G==3&&Ja(I)},Yt.prototype.N=function(){this.g.l=null,delete this.j,rd(this.g),delete this.g,Yt.aa.N.call(this)};function bg(u){Wc.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var I=u.__sm__;if(I){e:{for(const R in I){u=R;break e}u=void 0}(this.i=u)&&(u=this.i,I=I!==null&&u in I?I[u]:void 0),this.data=I}else this.data=u}w(bg,Wc);function Eg(){Gc.call(this),this.status=1}w(Eg,Gc);function $i(u){this.g=u}w($i,wg),$i.prototype.ua=function(){qe(this.g,"a")},$i.prototype.ta=function(u){qe(this.g,new bg(u))},$i.prototype.sa=function(u){qe(this.g,new Eg)},$i.prototype.ra=function(){qe(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,Dw=function(){return new el},jw=function(){return qa()},Ow=ai,tf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ba.NO_ERROR=0,Ba.TIMEOUT=8,Ba.HTTP_ERROR=6,zl=Ba,Fm.COMPLETE="complete",Rw=Fm,jm.EventType=eo,eo.OPEN="a",eo.CLOSE="b",eo.ERROR="c",eo.MESSAGE="d",Le.prototype.listen=Le.prototype.K,No=jm,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,Cw=et}).apply(typeof xl<"u"?xl:typeof self<"u"?self:typeof window<"u"?window:{});const xv="@firebase/firestore",wv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new cc("@firebase/firestore");function Gi(){return Ci.logLevel}function ce(t,...e){if(Ci.logLevel<=ke.DEBUG){const n=e.map(qp);Ci.debug(`Firestore (${Bs}): ${t}`,...n)}}function cr(t,...e){if(Ci.logLevel<=ke.ERROR){const n=e.map(qp);Ci.error(`Firestore (${Bs}): ${t}`,...n)}}function Ps(t,...e){if(Ci.logLevel<=ke.WARN){const n=e.map(qp);Ci.warn(`Firestore (${Bs}): ${t}`,...n)}}function qp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Lw(t,r,n)}function Lw(t,e,n){let r=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cr(r),new Error(r)}function De(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Lw(e,i,r)}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class JP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZP{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new Mw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class eC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new eC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){De(this.o===void 0,3512);const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rC(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function nf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return zd(i)===zd(s)?Ne(i,s):zd(i)?1:-1}return Ne(t.length,e.length)}const iC=55296,sC=57343;function zd(t){const e=t.charCodeAt(0);return e>=iC&&e<=sC}function Cs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="__name__";class jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=jn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ne(e.length,n.length)}static compareSegments(e,n){const r=jn.isNumericId(e),i=jn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?jn.extractNumericId(e).compare(jn.extractNumericId(n)):nf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class He extends jn{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const oC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends jn{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return oC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new wt([Ev])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new he(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(He.fromString(e))}static fromName(e){return new me(He.fromString(e).popFirst(5))}static empty(){return new me(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t,e,n){if(!n)throw new he(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aC(t,e,n,r){if(e===!0&&r===!0)throw new he(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tv(t){if(!me.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Av(t){if(me.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zp(t);throw new he(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e){const n={typeString:t};return e&&(n.value=e),n}function ja(t,e){if(!Fw(t))throw new he(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new he(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=-62135596800,Sv=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Sv);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Iv)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ja(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:at("string",Ke._jsonSchemaVersion),seconds:at("number"),nanoseconds:at("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ke(0,0))}static max(){return new we(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=-1;function lC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Gr(i,me.empty(),e)}function uC(t){return new Gr(t.readTime,t.key,ga)}class Gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gr(we.min(),me.empty(),ga)}static max(){return new Gr(we.max(),me.empty(),ga)}}function cC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==dC)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const d=l;n(e[d]).next(f=>{o[d]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function fC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $s(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;function _c(t){return t==null}function Nu(t){return t===0&&1/t==-1/0}function pC(t){return typeof t=="number"&&Number.isInteger(t)&&!Nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="";function mC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kv(e)),e=gC(t.get(n),e);return kv(e)}function gC(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Uw:n+="";break;default:n+=s}}return n}function kv(t){return t+Uw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wl(this.root,e,this.comparator,!1)}getReverseIterator(){return new wl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wl(this.root,e,this.comparator,!0)}}class wl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=s??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new en([])}unionWith(e){let n=new ft(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bw("Invalid base64 string: "+s):s}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const yC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(De(!!t,39018),typeof t=="string"){let e=0;const n=yC.exec(t);if(De(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yr(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="server_timestamp",$w="__type__",Hw="__previous_value__",Kw="__local_write_time__";function Hp(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$w])==null?void 0:r.stringValue)===zw}function xc(t){const e=t.mapValue.fields[Hw];return Hp(e)?xc(e):e}function ya(t){const e=Qr(t.mapValue.fields[Kw].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r,i,s,o,a,l,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=f}}const Pu="(default)";class va{constructor(e,n){this.projectId=e,this.database=n||Pu}static empty(){return new va("","")}get isDefaultDatabase(){return this.database===Pu}isEqual(e){return e instanceof va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__type__",Gw="__max__",bl={mapValue:{fields:{__type__:{stringValue:Gw}}}},Qw="__vector__",Cu="value";function Xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hp(t)?4:xC(t)?9007199254740991:_C(t)?10:11:_e(28295,{value:t})}function $n(t,e){if(t===e)return!0;const n=Xr(t);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ya(t).isEqual(ya(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qr(i.timestampValue),a=Qr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Yr(i.bytesValue).isEqual(Yr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rt(i.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rt(i.integerValue)===rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rt(i.doubleValue),a=rt(s.doubleValue);return o===a?Nu(o)===Nu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Cs(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Nv(o)!==Nv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!$n(o[l],a[l])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function _a(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function Rs(t,e){if(t===e)return 0;const n=Xr(t),r=Xr(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=rt(s.integerValue||s.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Cv(t.timestampValue,e.timestampValue);case 4:return Cv(ya(t),ya(e));case 5:return nf(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Yr(s),l=Yr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const f=Ne(a[d],l[d]);if(f!==0)return f}return Ne(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ne(rt(s.latitude),rt(o.latitude));return a!==0?a:Ne(rt(s.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rv(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,p,w,_;const a=s.fields||{},l=o.fields||{},d=(c=a[Cu])==null?void 0:c.arrayValue,f=(p=l[Cu])==null?void 0:p.arrayValue,h=Ne(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((_=f==null?void 0:f.values)==null?void 0:_.length)||0);return h!==0?h:Rv(d,f)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===bl.mapValue&&o===bl.mapValue)return 0;if(s===bl.mapValue)return 1;if(o===bl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),d=o.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const c=nf(l[h],f[h]);if(c!==0)return c;const p=Rs(a[l[h]],d[f[h]]);if(p!==0)return p}return Ne(l.length,f.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function Cv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Qr(t),r=Qr(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function Rv(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Rs(n[i],r[i]);if(s)return s}return Ne(n.length,r.length)}function Os(t){return rf(t)}function rf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rf(n.fields[o])}`;return i+"}"}(t.mapValue):_e(61005,{value:t})}function $l(t){switch(Xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(t);return e?16+$l(e):16;case 5:return 2*t.stringValue.length;case 6:return Yr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+$l(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return si(r.fields,(s,o)=>{i+=s.length+$l(o)}),i}(t.mapValue);default:throw _e(13486,{value:t})}}function sf(t){return!!t&&"integerValue"in t}function Kp(t){return!!t&&"arrayValue"in t}function Ov(t){return!!t&&"nullValue"in t}function jv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hl(t){return!!t&&"mapValue"in t}function _C(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ww])==null?void 0:r.stringValue)===Qw}function Ko(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ko(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(t.arrayValue.values[n]);return e}return{...t}}function xC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Gw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ko(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){si(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(Ko(this.value))}}function Yw(t){const e=[];return si(t.fields,(n,r)=>{const i=new wt([n]);if(Hl(r)){const s=Yw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,we.min(),we.min(),we.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,we.min(),we.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,we.min(),we.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.position=e,this.inclusive=n}}function Dv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=Rs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function wC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xw=class{};class ct extends Xw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EC(e,n,r):n==="array-contains"?new IC(e,r):n==="in"?new SC(e,r):n==="not-in"?new kC(e,r):n==="array-contains-any"?new NC(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TC(e,r):new AC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rs(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Xw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return Jw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jw(t){return t.op==="and"}function Zw(t){return bC(t)&&Jw(t)}function bC(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function of(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Os(t.value);if(Zw(t))return t.filters.map(e=>of(e)).join(",");{const e=t.filters.map(n=>of(n)).join(",");return`${t.op}(${e})`}}function eb(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&eb(o,i.filters[a]),!0):!1}(t,e):void _e(19439)}function tb(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Os(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(tb).join(" ,")+"}"}(t):"Filter"}class EC extends ct{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class TC extends ct{constructor(e,n){super(e,"in",n),this.keys=nb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AC extends ct{constructor(e,n){super(e,"not-in",n),this.keys=nb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class IC extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kp(n)&&_a(n.arrayValue,this.value)}}class SC extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_a(this.value.arrayValue,n)}}class kC extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(_a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_a(this.value.arrayValue,n)}}class NC extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_a(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Mv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new PC(t,e,n,r,i,s,o)}function Wp(t){const e=be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>of(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Os(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Os(r)).join(",")),e.Te=n}return e.Te}function Gp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lv(t.startAt,e.startAt)&&Lv(t.endAt,e.endAt)}function af(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CC(t,e,n,r,i,s,o,a){return new wc(t,e,n,r,i,s,o,a)}function Qp(t){return new wc(t)}function Vv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RC(t){return t.collectionGroup!==null}function Wo(t){const e=be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ou(s,r))}),n.has(wt.keyField().canonicalString())||e.Ie.push(new Ou(wt.keyField(),r))}return e.Ie}function Un(t){const e=be(t);return e.Ee||(e.Ee=OC(e,Wo(t))),e.Ee}function OC(t,e){if(t.limitType==="F")return Mv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ou(i.field,s)});const n=t.endAt?new Ru(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ru(t.startAt.position,t.startAt.inclusive):null;return Mv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lf(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bc(t,e){return Gp(Un(t),Un(e))&&t.limitType===e.limitType}function rb(t){return`${Wp(Un(t))}|lt:${t.limitType}`}function Qi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tb(i)).join(", ")}]`),_c(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Os(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Os(i)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function Ec(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const d=Dv(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Wo(r),i)||r.endAt&&!function(o,a,l){const d=Dv(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Wo(r),i))}(t,e)}function jC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ib(t){return(e,n)=>{let r=!1;for(const i of Wo(t)){const s=DC(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DC(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),d=a.data.field(s);return l!==null&&d!==null?Rs(l,d):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new Ze(me.comparator);function hr(){return LC}const sb=new Ze(me.comparator);function Po(...t){let e=sb;for(const n of t)e=e.insert(n.key,n);return e}function ob(t){let e=sb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return Go()}function ab(){return Go()}function Go(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const MC=new Ze(me.comparator),VC=new ft(me.comparator);function Pe(...t){let e=VC;for(const n of t)e=e.add(n);return e}const FC=new ft(Ne);function UC(){return FC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nu(e)?"-0":e}}function lb(t){return{integerValue:""+t}}function qC(t,e){return pC(e)?lb(e):Yp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function BC(t,e,n){return t instanceof ju?function(i,s){const o={fields:{[$w]:{stringValue:zw},[Kw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hp(s)&&(s=xc(s)),s&&(o.fields[Hw]=s),{mapValue:o}}(n,e):t instanceof xa?cb(t,e):t instanceof wa?db(t,e):function(i,s){const o=ub(i,s),a=Fv(o)+Fv(i.Ae);return sf(o)&&sf(i.Ae)?lb(a):Yp(i.serializer,a)}(t,e)}function zC(t,e,n){return t instanceof xa?cb(t,e):t instanceof wa?db(t,e):n}function ub(t,e){return t instanceof Du?function(r){return sf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ju extends Tc{}class xa extends Tc{constructor(e){super(),this.elements=e}}function cb(t,e){const n=hb(e);for(const r of t.elements)n.some(i=>$n(i,r))||n.push(r);return{arrayValue:{values:n}}}class wa extends Tc{constructor(e){super(),this.elements=e}}function db(t,e){let n=hb(e);for(const r of t.elements)n=n.filter(i=>!$n(i,r));return{arrayValue:{values:n}}}class Du extends Tc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Fv(t){return rt(t.integerValue||t.doubleValue)}function hb(t){return Kp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $C(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xa&&i instanceof xa||r instanceof wa&&i instanceof wa?Cs(r.elements,i.elements,$n):r instanceof Du&&i instanceof Du?$n(r.Ae,i.Ae):r instanceof ju&&i instanceof ju}(t.transform,e.transform)}class HC{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ac{}function fb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xp(t.key,In.none()):new Da(t.key,t.data,In.none());{const n=t.data,r=zt.empty();let i=new ft(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new oi(t.key,r,new en(i.toArray()),In.none())}}function KC(t,e,n){t instanceof Da?function(i,s,o){const a=i.value.clone(),l=qv(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oi?function(i,s,o){if(!Kl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qv(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(pb(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qo(t,e,n,r){return t instanceof Da?function(s,o,a,l){if(!Kl(s.precondition,o))return a;const d=s.value.clone(),f=Bv(s.fieldTransforms,l,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof oi?function(s,o,a,l){if(!Kl(s.precondition,o))return a;const d=Bv(s.fieldTransforms,l,o),f=o.data;return f.setAll(pb(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Kl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function WC(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ub(r.transform,i||null);s!=null&&(n===null&&(n=zt.empty()),n.set(r.field,s))}return n||null}function Uv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cs(r,i,(s,o)=>$C(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Da extends Ac{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oi extends Ac{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qv(t,e,n){const r=new Map;De(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zC(o,a,n[i]))}return r}function Bv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,BC(s,o,e))}return r}class Xp extends Ac{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GC extends Ac{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KC(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ab();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=fb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(n,r)=>Uv(n,r))&&Cs(this.baseMutations,e.baseMutations,(n,r)=>Uv(n,r))}}class Jp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return MC}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Jp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ce;function JC(t){switch(t){case re.OK:return _e(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function mb(t){if(t===void 0)return cr("GRPC error has no .code"),re.UNKNOWN;switch(t){case st.OK:return re.OK;case st.CANCELLED:return re.CANCELLED;case st.UNKNOWN:return re.UNKNOWN;case st.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case st.INTERNAL:return re.INTERNAL;case st.UNAVAILABLE:return re.UNAVAILABLE;case st.UNAUTHENTICATED:return re.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case st.NOT_FOUND:return re.NOT_FOUND;case st.ALREADY_EXISTS:return re.ALREADY_EXISTS;case st.PERMISSION_DENIED:return re.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case st.ABORTED:return re.ABORTED;case st.OUT_OF_RANGE:return re.OUT_OF_RANGE;case st.UNIMPLEMENTED:return re.UNIMPLEMENTED;case st.DATA_LOSS:return re.DATA_LOSS;default:return _e(39323,{code:t})}}(Ce=st||(st={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Br([4294967295,4294967295],0);function zv(t){const e=ZC().encode(t),n=new Pw;return n.update(e),new Uint8Array(n.digest())}function $v(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Br([n,r],0),new Br([i,s],0)]}class Zp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Co(`Invalid padding: ${n}`);if(r<0)throw new Co(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Co(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Co(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Br.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Br.fromNumber(r)));return i.compare(eR)===1&&(i=new Br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zv(e),[r,i]=$v(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Zp(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=zv(e),[r,i]=$v(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,La.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ic(we.min(),i,new Ze(Ne),hr(),Pe())}}class La{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new La(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class gb{constructor(e,n){this.targetId=e,this.Ce=n}}class yb{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Hv{constructor(){this.ve=0,this.Fe=Kv(),this.Me=Tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),r=Pe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:s})}}),new La(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Kv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tR{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=El(),this.He=El(),this.Ye=new Ze(Ne)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(af(s))if(r===0){const o=new me(s.path);this.et(n,o,Rt.newNoDocument(o,we.min()))}else De(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Yr(r).toUint8Array()}catch(l){if(l instanceof Bw)return Ps("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Zp(o,i,s)}catch(l){return Ps(l instanceof Co?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&af(a.target)){const l=new me(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Rt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Pe();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Ic(e,n,this.Ye,this.je,r);return this.je=hr(),this.Je=El(),this.He=El(),this.Ye=new Ze(Ne),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Hv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(Ne),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(Ne),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Hv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function El(){return new Ze(me.comparator)}function Kv(){return new Ze(me.comparator)}const nR={asc:"ASCENDING",desc:"DESCENDING"},rR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iR={and:"AND",or:"OR"};class sR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uf(t,e){return t.useProto3Json||_c(e)?e:{value:e}}function Lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oR(t,e){return Lu(t,e.toTimestamp())}function qn(t){return De(!!t,49232),we.fromTimestamp(function(n){const r=Qr(n);return new Ke(r.seconds,r.nanos)}(t))}function em(t,e){return cf(t,e).canonicalString()}function cf(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _b(t){const e=He.fromString(t);return De(Tb(e),10190,{key:e.toString()}),e}function df(t,e){return em(t.databaseId,e.path)}function $d(t,e){const n=_b(e);if(n.get(1)!==t.databaseId.projectId)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(wb(n))}function xb(t,e){return em(t.databaseId,e)}function aR(t){const e=_b(t);return e.length===4?He.emptyPath():wb(e)}function hf(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wb(t){return De(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Wv(t,e,n){return{name:df(t,e),fields:n.value.mapValue.fields}}function lR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:_e(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(De(f===void 0||typeof f=="string",58123),Tt.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Tt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const f=d.code===void 0?re.UNKNOWN:mb(d.code);return new he(f,d.message||"")}(o);n=new yb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$d(t,r.document.name),s=qn(r.document.updateTime),o=r.document.createTime?qn(r.document.createTime):we.min(),a=new zt({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(i,s,o,a),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Wl(d,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$d(t,r.document),s=r.readTime?qn(r.readTime):we.min(),o=Rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$d(t,r.document),s=r.removedTargetIds||[];n=new Wl([],s,i,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new XC(i,s),a=r.targetId;n=new gb(a,o)}}return n}function uR(t,e){let n;if(e instanceof Da)n={update:Wv(t,e.key,e.value)};else if(e instanceof Xp)n={delete:df(t,e.key)};else if(e instanceof oi)n={update:Wv(t,e.key,e.data),updateMask:vR(e.fieldMask)};else{if(!(e instanceof GC))return _e(16599,{Vt:e.type});n={verify:df(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ju)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Du)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw _e(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:oR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e(27497)}(t,e.precondition)),n}function cR(t,e){return t&&t.length>0?(De(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?qn(i.updateTime):qn(s);return o.isEqual(we.min())&&(o=qn(s)),new HC(o,i.transformResults||[])}(n,e))):[]}function dR(t,e){return{documents:[xb(t,e.path)]}}function hR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xb(t,i);const s=function(d){if(d.length!==0)return Eb(Hn.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(c){return{field:Yi(c.field),direction:mR(c.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=uf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:i}}function fR(t){let e=aR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const c=bb(h);return c instanceof Hn&&Zw(c)?c.getFilters():[c]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(c=>function(w){return new Ou(Xi(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(c))}(n.orderBy));let a=null;n.limit&&(a=function(h){let c;return c=typeof h=="object"?h.value:h,_c(c)?null:c}(n.limit));let l=null;n.startAt&&(l=function(h){const c=!!h.before,p=h.values||[];return new Ru(p,c)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const c=!h.before,p=h.values||[];return new Ru(p,c)}(n.endAt)),CC(e,i,o,s,a,"F",l,d)}function pR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xi(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xi(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xi(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xi(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Xi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>bb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function mR(t){return nR[t]}function gR(t){return rR[t]}function yR(t){return iR[t]}function Yi(t){return{fieldPath:t.canonicalString()}}function Xi(t){return wt.fromServerFormat(t.fieldPath)}function Eb(t){return t instanceof ct?function(n){if(n.op==="=="){if(jv(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NAN"}};if(Ov(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jv(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NOT_NAN"}};if(Ov(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yi(n.field),op:gR(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>Eb(i));return r.length===1?r[0]:{compositeFilter:{op:yR(n.op),filters:r}}}(t):_e(54877,{filter:t})}function vR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r,i,s=we.min(),o=we.min(),a=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.yt=e}}function xR(t){const e=fR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.Cn=new bR}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Gr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class bR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ab=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(Ab,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new js(0)}static cr(){return new js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LruGarbageCollector",ER=1048576;function Yv([t,e],[n,r]){const i=Ne(t,n);return i===0?Ne(e,r):i}class TR{constructor(e){this.Ir=e,this.buffer=new ft(Yv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Yv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Qv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$s(n)?ce(Qv,"Ignoring IndexedDB error during garbage collection: ",n):await zs(n)}await this.Vr(3e5)})}}class IR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(vc.ce);const r=new TR(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Gv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(d=Date.now(),Gi()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(d-l)+`ms
Total Duration: ${d-f}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function SR(t,e){return new IR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qo(r.mutation,i,en.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=_i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Po();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=hr();const o=Go(),a=function(){return Go()}();return n.forEach((l,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof oi)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Qo(f.mutation,d,f.mutation.getFieldMask(),Ke.now())):o.set(d.key,en.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>a.set(d,new NR(f,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Go();let i=new Ze((o,a)=>o-a),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let f=r.get(l)||en.empty();f=a.applyToLocalView(d,f),r.set(l,f);const h=(i.get(a.batchId)||Pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,f=l.value,h=ab();f.forEach(c=>{if(!s.has(c)){const p=fb(n.get(c),r.get(c));p!==null&&h.set(c,p),s=s.add(c)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(_i());let a=ga,l=s;return o.next(d=>te.forEach(d,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?te.resolve():this.remoteDocumentCache.getEntry(e,f).next(c=>{l=l.insert(f,c)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,l,d,Pe())).next(f=>({batchId:a,changes:ob(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=Po();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Po();return this.indexManager.getCollectionParents(e,s).next(a=>te.forEach(a,l=>{const d=function(h,c){return new wc(c,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((h,c)=>{o=o.insert(h,c)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,Rt.newInvalidDocument(f)))});let a=Po();return o.forEach((l,d)=>{const f=s.get(l);f!==void 0&&Qo(f.mutation,d,en.empty(),Ke.now()),Ec(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qn(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:xR(i.bundledQuery),readTime:qn(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.overlays=new Ze(me.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_i();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=_i(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ze((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=_i(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const a=_i(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=i)););return te.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YC(n,r));let s=this.qr.get(n);s===void 0&&(s=Pe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Qr=new ft(pt.$r),this.Ur=new ft(pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new pt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new me(new He([])),r=new pt(n,e),i=new pt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new He([])),r=new pt(n,e),i=new pt(n,e+1);let s=Pe();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new pt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ne(e.Yr,n.Yr)}static Kr(e,n){return Ne(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(pt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?$p:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(Ne);return n.forEach(i=>{const s=new pt(i,0),o=new pt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new pt(new me(s),0);let a=new ft(Ne);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(l.Yr)),!0)},o),te.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,i=>{const s=new pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new pt(n,0),i=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.ri=e,this.docs=function(){return new Ze(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rt.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hr();const o=n.path,a=new me(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:f}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||cC(uC(f),r)<=0||(i.has(f.key)||Ec(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ii(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LR(this)}getSize(e){return te.resolve(this.size)}}class LR extends kR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.persistence=e,this.si=new Ui(n=>Wp(n),Gp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new tm,this.targetCount=0,this.ai=js.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new js(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.ui={},this.overlays={},this.ci=new vc(0),this.li=!1,this.li=!0,this.hi=new OR,this.referenceDelegate=e(this),this.Pi=new MR(this),this.indexManager=new wR,this.remoteDocumentCache=function(i){return new DR(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new _R(n),this.Ii=new CR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jR(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new VR(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return te.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class VR extends hC{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.Ri=new tm,this.Vi=null}static mi(e){return new nm(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,r=>{const i=me.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mu{constructor(e,n){this.persistence=e,this.pi=new Ui(r=>mC(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=SR(this,n)}static mi(e,n){return new Mu(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,we.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$l(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Pe(),i=Pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new rm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return YA()?8:fC(jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new FR;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Gi()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Qi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Gi()<=ke.DEBUG&&ce("QueryEngine","Query:",Qi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Gi()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Qi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):te.resolve())}ys(e,n){if(Vv(n))return te.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lf(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Pe(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,a);return this.Cs(n,d,o,l.readTime)?this.ys(e,lf(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,i){return Vv(n)||i.isEqual(we.min())?te.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?te.resolve(null):(Gi()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qi(n)),this.vs(e,o,n,lC(i,ga)).next(a=>a))})}Ds(e,n){let r=new ft(ib(e));return n.forEach((i,s)=>{Ec(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Gi()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Qi(n)),this.ps.getDocumentsMatchingQuery(e,n,Gr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",qR=3e8;class BR{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ze(Ne),this.xs=new Ui(s=>Wp(s),Gp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zR(t,e,n,r){return new BR(t,e,n,r)}async function Sb(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Pe();for(const d of i){o.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}for(const d of s){a.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function $R(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,d,f){const h=d.batch,c=h.keys();let p=te.resolve();return c.forEach(w=>{p=p.next(()=>f.getEntry(l,w)).next(_=>{const b=d.docVersions.get(w);De(b!==null,48541),_.version.compareTo(b)<0&&(h.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),f.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Pe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kb(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function HR(t,e){const n=be(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((f,h)=>{const c=i.get(h);if(!c)return;a.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,h)));let p=c.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Tt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(h,p),function(_,b,g){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=qR?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(c,p,f)&&a.push(n.Pi.updateTargetData(s,p))});let l=hr(),d=Pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(KR(s,o,e.documentUpdates).next(f=>{l=f.ks,d=f.qs})),!r.isEqual(we.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return te.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,d)).next(()=>l)}).then(s=>(n.Ms=i,s))}function KR(t,e,n){let r=Pe(),i=Pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hr();return n.forEach((a,l)=>{const d=s.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ce(im,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{ks:o,qs:i}})}function WR(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$p),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GR(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Pr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ff(t,e,n){const r=be(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$s(o))throw o;ce(im,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Xv(t,e,n){const r=be(t);let i=we.min(),s=Pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,f){const h=be(l),c=h.xs.get(f);return c!==void 0?te.resolve(h.Ms.get(c)):h.Pi.getTargetData(d,f)}(r,o,Un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:Pe())).next(a=>(QR(r,jC(e),a),{documents:a,Qs:s})))}function QR(t,e,n){let r=t.Os.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class Jv{constructor(){this.activeTargetIds=UC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YR{constructor(){this.Mo=new Jv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Jv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="ConnectivityMonitor";class e0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Zv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Zv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=null;function pf(){return Tl===null?Tl=function(){return 268435456+Math.round(2147483648*Math.random())}():Tl++,"0x"+Tl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="RestConnection",JR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Pu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=pf(),a=this.zo(e,n.toUriEncodedString());ce(Hd,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:d}=new URL(a),f=Li(d);return this.Jo(e,a,l,r,f).then(h=>(ce(Hd,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ps(Hd,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=JR[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class tO extends ZR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=pf();return new Promise((a,l)=>{const d=new Cw;d.setWithCredentials(!0),d.listenOnce(Rw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case zl.NO_ERROR:const h=d.getResponseJson();ce(Nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case zl.TIMEOUT:ce(Nt,`RPC '${e}' ${o} timed out`),l(new he(re.DEADLINE_EXCEEDED,"Request time out"));break;case zl.HTTP_ERROR:const c=d.getStatus();if(ce(Nt,`RPC '${e}' ${o} failed with status:`,c,"response text:",d.getResponseText()),c>0){let p=d.getResponseJson();Array.isArray(p)&&(p=p[0]);const w=p==null?void 0:p.error;if(w&&w.status&&w.message){const _=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(m)>=0?m:re.UNKNOWN}(w.status);l(new he(_,w.message))}else l(new he(re.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new he(re.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ce(Nt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);ce(Nt,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",f,r,15)})}T_(e,n,r){const i=pf(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dw(),a=jw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");ce(Nt,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=o.createWebChannel(f,l);this.I_(h);let c=!1,p=!1;const w=new eO({Yo:b=>{p?ce(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(c||(ce(Nt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),c=!0),ce(Nt,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},Zo:()=>h.close()}),_=(b,g,m)=>{b.listen(g,x=>{try{m(x)}catch(v){setTimeout(()=>{throw v},0)}})};return _(h,No.EventType.OPEN,()=>{p||(ce(Nt,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),_(h,No.EventType.CLOSE,()=>{p||(p=!0,ce(Nt,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(h))}),_(h,No.EventType.ERROR,b=>{p||(p=!0,Ps(Nt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),w.a_(new he(re.UNAVAILABLE,"The operation could not be completed")))}),_(h,No.EventType.MESSAGE,b=>{var g;if(!p){const m=b.data[0];De(!!m,16349);const x=m,v=(x==null?void 0:x.error)||((g=x[0])==null?void 0:g.error);if(v){ce(Nt,`RPC '${e}' stream ${i} received error:`,v);const k=v.status;let O=function(N){const T=st[N];if(T!==void 0)return mb(T)}(k),S=v.message;O===void 0&&(O=re.INTERNAL,S="Unknown error status: "+k+" with message "+v.message),p=!0,w.a_(new he(O,S)),h.close()}else ce(Nt,`RPC '${e}' stream ${i} received:`,m),w.u_(m)}}),_(a,Ow.STAT_EVENT,b=>{b.stat===tf.PROXY?ce(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===tf.NOPROXY&&ce(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){return new sR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="PersistentStream";class Pb{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new he(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(t0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ce(t0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nO extends Pb{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lR(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?qn(o.readTime):we.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=af(l)?{documents:dR(s,l)}:{query:hR(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vb(s,o.resumeToken);const d=uf(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Lu(s,o.snapshotVersion.toTimestamp());const d=uf(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=pR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hf(this.serializer),n.removeTarget=e,this.q_(n)}}class rO extends Pb{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cR(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uR(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{}class sO extends iO{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,cf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(re.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,cf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(re.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class oO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="RemoteStore";class aO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{qi(this)&&(ce(Ri,"Restarting streams for network reachability change."),await async function(l){const d=be(l);d.Ea.add(4),await Ma(d),d.Ra.set("Unknown"),d.Ea.delete(4),await kc(d)}(this))})}),this.Ra=new oO(r,i)}}async function kc(t){if(qi(t))for(const e of t.da)await e(!0)}async function Ma(t){for(const e of t.da)await e(!1)}function Cb(t,e){const n=be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lm(n)?am(n):Hs(n).O_()&&om(n,e))}function sm(t,e){const n=be(t),r=Hs(n);n.Ia.delete(e),r.O_()&&Rb(n,e),n.Ia.size===0&&(r.O_()?r.L_():qi(n)&&n.Ra.set("Unknown"))}function om(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hs(t).Y_(e)}function Rb(t,e){t.Va.Ue(e),Hs(t).Z_(e)}function am(t){t.Va=new tR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hs(t).start(),t.Ra.ua()}function lm(t){return qi(t)&&!Hs(t).x_()&&t.Ia.size>0}function qi(t){return be(t).Ea.size===0}function Ob(t){t.Va=void 0}async function lO(t){t.Ra.set("Online")}async function uO(t){t.Ia.forEach((e,n)=>{om(t,e)})}async function cO(t,e){Ob(t),lm(t)?(t.Ra.ha(e),am(t)):t.Ra.set("Unknown")}async function dO(t,e,n){if(t.Ra.set("Online"),e instanceof yb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){ce(Ri,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vu(t,r)}else if(e instanceof Wl?t.Va.Ze(e):e instanceof gb?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const r=await kb(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const f=s.Ia.get(l);if(!f)return;s.Ia.set(l,f.withResumeToken(Tt.EMPTY_BYTE_STRING,f.snapshotVersion)),Rb(s,l);const h=new Pr(f.target,l,d,f.sequenceNumber);om(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce(Ri,"Failed to raise snapshot:",r),await Vu(t,r)}}async function Vu(t,e,n){if(!$s(e))throw e;t.Ea.add(1),await Ma(t),t.Ra.set("Offline"),n||(n=()=>kb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(Ri,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kc(t)})}function jb(t,e){return e().catch(n=>Vu(t,n,e))}async function Nc(t){const e=be(t),n=Jr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$p;for(;hO(e);)try{const i=await WR(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,fO(e,i)}catch(i){await Vu(e,i)}Db(e)&&Lb(e)}function hO(t){return qi(t)&&t.Ta.length<10}function fO(t,e){t.Ta.push(e);const n=Jr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Db(t){return qi(t)&&!Jr(t).x_()&&t.Ta.length>0}function Lb(t){Jr(t).start()}async function pO(t){Jr(t).ra()}async function mO(t){const e=Jr(t);for(const n of t.Ta)e.ea(n.mutations)}async function gO(t,e,n){const r=t.Ta.shift(),i=Jp.from(r,e,n);await jb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nc(t)}async function yO(t,e){e&&Jr(t).X_&&await async function(r,i){if(function(o){return JC(o)&&o!==re.ABORTED}(i.code)){const s=r.Ta.shift();Jr(r).B_(),await jb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nc(r)}}(t,e),Db(t)&&Lb(t)}async function n0(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),ce(Ri,"RemoteStore received new credentials");const r=qi(n);n.Ea.add(3),await Ma(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kc(n)}async function vO(t,e){const n=be(t);e?(n.Ea.delete(2),await kc(n)):e||(n.Ea.add(2),await Ma(n),n.Ra.set("Unknown"))}function Hs(t){return t.ma||(t.ma=function(n,r,i){const s=be(n);return s.sa(),new nO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:lO.bind(null,t),t_:uO.bind(null,t),r_:cO.bind(null,t),H_:dO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),lm(t)?am(t):t.Ra.set("Unknown")):(await t.ma.stop(),Ob(t))})),t.ma}function Jr(t){return t.fa||(t.fa=function(n,r,i){const s=be(n);return s.sa(),new rO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pO.bind(null,t),r_:yO.bind(null,t),ta:mO.bind(null,t),na:gO.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Nc(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Ri,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new um(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cm(t,e){if(cr("AsyncQueue",`${e}: ${t}`),$s(t))return new he(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{static emptySet(e){return new xs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Po(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.ga=new Ze(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ds{constructor(e,n,r,i,s,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ds(e,n,xs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class xO{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=be(n),s=i.queries;i.queries=i0(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new he(re.ABORTED,"Firestore shutting down"))}}function i0(){return new Ui(t=>rb(t),bc)}async function Mb(t,e){const n=be(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new _O,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=cm(o,`Initialization of query '${Qi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&dm(n)}async function Vb(t,e){const n=be(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wO(t,e){const n=be(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&dm(n)}function bO(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function dm(t){t.Ca.forEach(e=>{e.next()})}var mf,s0;(s0=mf||(mf={})).Ma="default",s0.Cache="cache";class Fb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ds(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.key=e}}class qb{constructor(e){this.key=e}}class EO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=ib(e),this.tu=new xs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new r0,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const c=i.get(f),p=Ec(this.query,h)?h:null,w=!!c&&this.mutatedKeys.has(c.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;c&&p?c.data.isEqual(p.data)?w!==_&&(r.track({type:3,doc:p}),b=!0):this.su(c,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||d&&this.eu(p,d)<0)&&(a=!0)):!c&&p?(r.track({type:0,doc:p}),b=!0):c&&!p&&(r.track({type:1,doc:c}),b=!0,(l||d)&&(a=!0)),b&&(p?(o=o.add(p),s=_?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,h)=>function(p,w){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:b})}};return _(p)-_(w)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,d=l!==this.Za;return this.Za=l,o.length!==0||d?{snapshot:new Ds(this.query,e.tu,s,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new qb(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Ub(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ds.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hm="SyncEngine";class TO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AO{constructor(e){this.key=e,this.hu=!1}}class IO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ui(a=>rb(a),bc),this.Iu=new Map,this.Eu=new Set,this.du=new Ze(me.comparator),this.Au=new Map,this.Ru=new tm,this.Vu={},this.mu=new Map,this.fu=js.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SO(t,e,n=!0){const r=Wb(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Bb(r,e,n,!0),i}async function kO(t,e){const n=Wb(t);await Bb(n,e,!0,!1)}async function Bb(t,e,n,r){const i=await GR(t.localStore,Un(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await NO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Cb(t.remoteStore,i),a}async function NO(t,e,n,r,i){t.pu=(h,c,p)=>async function(_,b,g,m){let x=b.view.ru(g);x.Cs&&(x=await Xv(_.localStore,b.query,!1).then(({documents:S})=>b.view.ru(S,x)));const v=m&&m.targetChanges.get(b.targetId),k=m&&m.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(x,_.isPrimaryClient,v,k);return a0(_,b.targetId,O.au),O.snapshot}(t,h,c,p);const s=await Xv(t.localStore,e,!0),o=new EO(e,s.Qs),a=o.ru(s.documents),l=La.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,l);a0(t,n,d.au);const f=new TO(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function PO(t,e,n){const r=be(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!bc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ff(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sm(r.remoteStore,i.targetId),gf(r,i.targetId)}).catch(zs)):(gf(r,i.targetId),await ff(r.localStore,i.targetId,!0))}async function CO(t,e){const n=be(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sm(n.remoteStore,r.targetId))}async function RO(t,e,n){const r=FO(t);try{const i=await function(o,a){const l=be(o),d=Ke.now(),f=a.reduce((p,w)=>p.add(w.key),Pe());let h,c;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=hr(),_=Pe();return l.Ns.getEntries(p,f).next(b=>{w=b,w.forEach((g,m)=>{m.isValidDocument()||(_=_.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,w)).next(b=>{h=b;const g=[];for(const m of a){const x=WC(m,h.get(m.key).overlayedDocument);x!=null&&g.push(new oi(m.key,x,Yw(x.value.mapValue),In.exists(!0)))}return l.mutationQueue.addMutationBatch(p,d,g,a)}).next(b=>{c=b;const g=b.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,b.batchId,g)})}).then(()=>({batchId:c.batchId,changes:ob(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let d=o.Vu[o.currentUser.toKey()];d||(d=new Ze(Ne)),d=d.insert(a,l),o.Vu[o.currentUser.toKey()]=d}(r,i.batchId,n),await Va(r,i.changes),await Nc(r.remoteStore)}catch(i){const s=cm(i,"Failed to persist write");n.reject(s)}}async function zb(t,e){const n=be(t);try{const r=await HR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?De(o.hu,14607):i.removedDocuments.size>0&&(De(o.hu,42227),o.hu=!1))}),await Va(n,r,e)}catch(r){await zs(r)}}function o0(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=be(o);l.onlineState=a;let d=!1;l.queries.forEach((f,h)=>{for(const c of h.Sa)c.va(a)&&(d=!0)}),d&&dm(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OO(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Ze(me.comparator);o=o.insert(s,Rt.newNoDocument(s,we.min()));const a=Pe().add(s),l=new Ic(we.min(),new Map,new Ze(Ne),o,a);await zb(r,l),r.du=r.du.remove(s),r.Au.delete(e),fm(r)}else await ff(r.localStore,e,!1).then(()=>gf(r,e,n)).catch(zs)}async function jO(t,e){const n=be(t),r=e.batch.batchId;try{const i=await $R(n.localStore,e);Hb(n,r,null),$b(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Va(n,i)}catch(i){await zs(i)}}async function DO(t,e,n){const r=be(t);try{const i=await function(o,a){const l=be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,a).next(h=>(De(h!==null,37113),f=h.keys(),l.mutationQueue.removeMutationBatch(d,h))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(r.localStore,e);Hb(r,e,n),$b(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Va(r,i)}catch(i){await zs(i)}}function $b(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Hb(t,e,n){const r=be(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function gf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Kb(t,r)})}function Kb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fm(t))}function a0(t,e,n){for(const r of n)r instanceof Ub?(t.Ru.addReference(r.key,e),LO(t,r)):r instanceof qb?(ce(hm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Kb(t,r.key)):_e(19791,{wu:r})}function LO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(hm,"New document in limbo: "+n),t.Eu.add(r),fm(t))}function fm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new me(He.fromString(e)),r=t.fu.next();t.Au.set(r,new AO(n)),t.du=t.du.insert(n,r),Cb(t.remoteStore,new Pr(Un(Qp(n.path)),r,"TargetPurposeLimboResolution",vc.ce))}}async function Va(t,e,n){const r=be(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(d){i.push(d);const h=rm.As(l.targetId,d);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,d){const f=be(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>te.forEach(d,c=>te.forEach(c.Es,p=>f.persistence.referenceDelegate.addReference(h,c.targetId,p)).next(()=>te.forEach(c.ds,p=>f.persistence.referenceDelegate.removeReference(h,c.targetId,p)))))}catch(h){if(!$s(h))throw h;ce(im,"Failed to update sequence numbers: "+h)}for(const h of d){const c=h.targetId;if(!h.fromCache){const p=f.Ms.get(c),w=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(c,_)}}}(r.localStore,s))}async function MO(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){ce(hm,"User change. New user:",e.toKey());const r=await Sb(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new he(re.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Va(n,r.Ls)}}function VO(t,e){const n=be(t),r=n.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let i=Pe();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function Wb(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OO.bind(null,e),e.Pu.H_=wO.bind(null,e.eventManager),e.Pu.yu=bO.bind(null,e.eventManager),e}function FO(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DO.bind(null,e),e}class Fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zR(this.persistence,new UR,e.initialUser,this.serializer)}Cu(e){return new Ib(nm.mi,this.serializer)}Du(e){return new YR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fu.provider={build:()=>new Fu};class UO extends Fu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){De(this.persistence.referenceDelegate instanceof Mu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new Ib(r=>Mu.mi(r,n),this.serializer)}}class yf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,this.syncEngine),await vO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xO}()}createDatastore(e){const n=Sc(e.databaseInfo.databaseId),r=function(s){return new tO(s)}(e.databaseInfo);return function(s,o,a,l){return new sO(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new aO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return e0.v()?new e0:new XR}())}createSyncEngine(e,n){return function(i,s,o,a,l,d,f){const h=new IO(i,s,o,a,l,d);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=be(i);ce(Ri,"RemoteStore shutting down."),s.Ea.add(5),await Ma(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}yf.provider={build:()=>new yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class qO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=Bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ce(Zr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ce(Zr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wd(t,e){t.asyncQueue.verifyOperationInProgress(),ce(Zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Sb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function l0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BO(t);ce(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>n0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>n0(e.remoteStore,i)),t._onlineComponents=e}async function BO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(Zr,"Using user provided OfflineComponentProvider");try{await Wd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ps("Error using user provided cache. Falling back to memory cache: "+n),await Wd(t,new Fu)}}else ce(Zr,"Using default OfflineComponentProvider"),await Wd(t,new UO(void 0));return t._offlineComponents}async function Qb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(Zr,"Using user provided OnlineComponentProvider"),await l0(t,t._uninitializedComponentsProvider._online)):(ce(Zr,"Using default OnlineComponentProvider"),await l0(t,new yf))),t._onlineComponents}function zO(t){return Qb(t).then(e=>e.syncEngine)}async function Yb(t){const e=await Qb(t),n=e.eventManager;return n.onListen=SO.bind(null,e.syncEngine),n.onUnlisten=PO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CO.bind(null,e.syncEngine),n}function $O(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,d){const f=new Gb({next:c=>{f.Nu(),o.enqueueAndForget(()=>Vb(s,h));const p=c.docs.has(a);!p&&c.fromCache?d.reject(new he(re.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&c.fromCache&&l&&l.source==="server"?d.reject(new he(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(c)},error:c=>d.reject(c)}),h=new Fb(Qp(a.path),f,{includeMetadataChanges:!0,qa:!0});return Mb(s,h)}(await Yb(t),t.asyncQueue,e,n,r)),r.promise}function HO(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,d){const f=new Gb({next:c=>{f.Nu(),o.enqueueAndForget(()=>Vb(s,h)),c.fromCache&&l.source==="server"?d.reject(new he(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(c)},error:c=>d.reject(c)}),h=new Fb(a,f,{includeMetadataChanges:!0,qa:!0});return Mb(s,h)}(await Yb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="firestore.googleapis.com",c0=!0;class d0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jb,this.ssl=c0}else this.host=e.host,this.ssl=e.ssl??c0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ab;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ER)throw new he(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XP;switch(r.type){case"firstParty":return new tC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=u0.get(n);r&&(ce("ComponentProvider","Removing Datastore"),u0.delete(n),r.terminate())}(this),Promise.resolve()}}function KO(t,e,n,r={}){var d;t=dr(t,Pc);const i=Li(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(bp(`https://${a}`),Ep("Firestore",!0)),s.host!==Jb&&s.host!==a&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Wr(l,o)&&(t._setSettings(l),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Pt.MOCK_USER;else{f=wx(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new he(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Pt(c)}t._authCredentials=new JP(new Mw(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cc(this.firestore,e,this._query)}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ja(n,ht._jsonSchema))return new ht(e,r||null,new me(He.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:at("string",ht._jsonSchemaVersion),referencePath:at("string")};class zr extends Cc{constructor(e,n,r){super(e,n,Qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new me(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function pm(t,e,...n){if(t=lt(t),Vw("collection","path",e),t instanceof Pc){const r=He.fromString(e,...n);return Av(r),new zr(t,null,r)}{if(!(t instanceof ht||t instanceof zr))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Av(r),new zr(t.firestore,null,r)}}function Rc(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Bp.newId()),Vw("doc","path",e),t instanceof Pc){const r=He.fromString(e,...n);return Tv(r),new ht(t,null,new me(r))}{if(!(t instanceof ht||t instanceof zr))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Tv(r),new ht(t.firestore,t instanceof zr?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="AsyncQueue";class f0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nb(this,"async_queue_retry"),this._c=()=>{const r=Kd();r&&ce(h0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$s(e))throw e;ce(h0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",p0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=um.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&_e(47125,{Pc:p0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function p0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ks extends Pc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new f0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f0(e),this._firestoreClient=void 0,await e}}}function WO(t,e){const n=typeof t=="object"?t:dc(),r=typeof t=="string"?t:Pu,i=ri(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vx("firestore");s&&KO(i,...s)}return i}function mm(t){if(t._terminated)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GO(t),t._firestoreClient}function GO(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,d,f){return new vC(a,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Xb(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cn(Tt.fromBase64String(e))}catch(n){throw new he(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cn(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ja(e,cn._jsonSchema))return cn.fromBase64String(e.bytes)}}cn._jsonSchemaVersion="firestore/bytes/1.0",cn._jsonSchema={type:at("string",cn._jsonSchemaVersion),bytes:at("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bn._jsonSchemaVersion}}static fromJSON(e){if(ja(e,Bn._jsonSchema))return new Bn(e.latitude,e.longitude)}}Bn._jsonSchemaVersion="firestore/geoPoint/1.0",Bn._jsonSchema={type:at("string",Bn._jsonSchemaVersion),latitude:at("number"),longitude:at("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ja(e,zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new zn(e.vectorValues);throw new he(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zn._jsonSchemaVersion="firestore/vectorValue/1.0",zn._jsonSchema={type:at("string",zn._jsonSchemaVersion),vectorValues:at("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=/^__.*__$/;class YO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Da(e,this.data,n,this.fieldTransforms)}}class Zb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class ym{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ym({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eE(this.Ac)&&QO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sc(e)}Cc(e,n,r,i=!1){return new ym({Ac:e,methodName:n,Dc:r,path:wt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tE(t){const e=t._freezeSettings(),n=Sc(t._databaseId);return new XO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JO(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);vm("Data must be an object, but it was:",o,r);const a=nE(r,o);let l,d;if(s.merge)l=new en(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const c=vf(e,h,n);if(!o.contains(c))throw new he(re.INVALID_ARGUMENT,`Field '${c}' is specified in your field mask but missing from your input data.`);iE(f,c)||f.push(c)}l=new en(f),d=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,d=o.fieldTransforms;return new YO(new zt(a),l,d)}class jc extends gm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}function ZO(t,e,n,r){const i=t.Cc(1,e,n);vm("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();si(r,(l,d)=>{const f=_m(e,l,n);d=lt(d);const h=i.yc(f);if(d instanceof jc)s.push(f);else{const c=Dc(d,h);c!=null&&(s.push(f),o.set(f,c))}});const a=new en(s);return new Zb(o,a,i.fieldTransforms)}function e4(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[vf(e,r,n)],l=[i];if(s.length%2!=0)throw new he(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let c=0;c<s.length;c+=2)a.push(vf(e,s[c])),l.push(s[c+1]);const d=[],f=zt.empty();for(let c=a.length-1;c>=0;--c)if(!iE(d,a[c])){const p=a[c];let w=l[c];w=lt(w);const _=o.yc(p);if(w instanceof jc)d.push(p);else{const b=Dc(w,_);b!=null&&(d.push(p),f.set(p,b))}}const h=new en(d);return new Zb(f,h,o.fieldTransforms)}function Dc(t,e){if(rE(t=lt(t)))return vm("Unsupported field value:",e,t),nE(t,e);if(t instanceof gm)return function(r,i){if(!eE(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Dc(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ke.fromDate(r);return{timestampValue:Lu(i.serializer,s)}}if(r instanceof Ke){const s=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lu(i.serializer,s)}}if(r instanceof Bn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cn)return{bytesValue:vb(i.serializer,r._byteString)};if(r instanceof ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:em(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zn)return function(o,a){return{mapValue:{fields:{[Ww]:{stringValue:Qw},[Cu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Yp(a.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${zp(r)}`)}(t,e)}function nE(t,e){const n={};return qw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(t,(r,i)=>{const s=Dc(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Bn||t instanceof cn||t instanceof ht||t instanceof gm||t instanceof zn)}function vm(t,e,n){if(!rE(n)||!Fw(n)){const r=zp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vf(t,e,n){if((e=lt(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return _m(t,e);throw Uu("Field path arguments must be of type string or ",t,!1,void 0,n)}const t4=new RegExp("[~\\*/\\[\\]]");function _m(t,e,n){if(e.search(t4)>=0)throw Uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oc(...e.split("."))._internalPath}catch{throw Uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new he(re.INVALID_ARGUMENT,a+t+l)}function iE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n4 extends sE{data(){return super.data()}}function oE(t,e){return typeof e=="string"?_m(t,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i4{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return si(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Cu].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>rt(o.doubleValue));return new zn(n)}convertGeoPoint(e){return new Bn(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ya(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);De(Tb(r),9688,{name:e});const i=new va(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bi extends sE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bi._jsonSchemaVersion="firestore/documentSnapshot/1.0",bi._jsonSchema={type:at("string",bi._jsonSchemaVersion),bundleSource:at("string","DocumentSnapshot"),bundleName:at("string"),bundle:at("string")};class Gl extends bi{data(e={}){return super.data(e)}}class ws{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gl(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Gl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Gl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:o4(a.type),doc:l,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function o4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){t=dr(t,ht);const e=dr(t.firestore,Ks);return $O(mm(e),t._key).then(n=>d4(e,t,n))}ws._jsonSchemaVersion="firestore/querySnapshot/1.0",ws._jsonSchema={type:at("string",ws._jsonSchemaVersion),bundleSource:at("string","QuerySnapshot"),bundleName:at("string"),bundle:at("string")};class aE extends i4{constructor(e){super(),this.firestore=e}convertBytes(e){return new cn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function lE(t){t=dr(t,Cc);const e=dr(t.firestore,Ks),n=mm(e),r=new aE(e);return r4(t._query),HO(n,t._query).then(i=>new ws(e,r,t,i))}function l4(t,e,n,...r){t=dr(t,ht);const i=dr(t.firestore,Ks),s=tE(i);let o;return o=typeof(e=lt(e))=="string"||e instanceof Oc?e4(s,"updateDoc",t._key,e,n,r):ZO(s,"updateDoc",t._key,e),xm(i,[o.toMutation(t._key,In.exists(!0))])}function u4(t){return xm(dr(t.firestore,Ks),[new Xp(t._key,In.none())])}function c4(t,e){const n=dr(t.firestore,Ks),r=Rc(t),i=s4(t.converter,e);return xm(n,[JO(tE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,In.exists(!1))]).then(()=>r)}function xm(t,e){return function(r,i){const s=new rr;return r.asyncQueue.enqueueAndForget(async()=>RO(await zO(r),i,s)),s.promise}(mm(t),e)}function d4(t,e,n){const r=n.docs.get(e._key),i=new aE(t);return new bi(t,i,e._key,r,new Ro(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Bs=i})(Vi),kn(new mn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ks(new ZP(r.getProvider("auth-internal")),new nC(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new he(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new va(d.options.projectId,f)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gt(xv,wv,e),Gt(xv,wv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebasestorage.googleapis.com",h4="storageBucket",f4=2*60*1e3,p4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends gn{constructor(e,n,r=0){super(Gd(e),`Firebase Storage: ${n} (${Gd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kn||(Kn={}));function Gd(t){return"storage/"+t}function m4(){const t="An unknown error occurred, please check the error payload for server response.";return new Wn(Kn.UNKNOWN,t)}function g4(){return new Wn(Kn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y4(){return new Wn(Kn.CANCELED,"User canceled the upload/download.")}function v4(t){return new Wn(Kn.INVALID_URL,"Invalid URL '"+t+"'.")}function _4(t){return new Wn(Kn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function m0(t){return new Wn(Kn.INVALID_ARGUMENT,t)}function cE(){return new Wn(Kn.APP_DELETED,"The Firebase app was deleted.")}function x4(t){return new Wn(Kn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw _4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function d(v){v.path_=decodeURIComponent(v.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),c="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${f}/b/${i}/o${c}`,"i"),w={bucket:1,path:3},_=n===uE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",g=new RegExp(`^https?://${_}/${i}/${b}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:p,indices:w,postModify:d},{regex:g,indices:{bucket:1,path:2},postModify:d}];for(let v=0;v<x.length;v++){const k=x[v],O=k.regex.exec(e);if(O){const S=O[k.indices.bucket];let E=O[k.indices.path];E||(E=""),r=new En(S,E),k.postModify(r);break}}if(r==null)throw v4(e);return r}}class w4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let d=!1;function f(...b){d||(d=!0,e.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function c(){s&&clearTimeout(s)}function p(b,...g){if(d){c();return}if(b){c(),f.call(null,b,...g);return}if(l()||o){c(),f.call(null,b,...g);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let w=!1;function _(b){w||(w=!0,c(),!d&&(i!==null?(b||(a=2),clearTimeout(i),h(0)):b||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function E4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){return t!==void 0}function g0(t,e,n,r){if(r<e)throw m0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw m0(`Invalid value for '${t}'. Expected ${n} or less.`)}function A4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var qu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qu||(qu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,r,i,s,o,a,l,d,f,h,c=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=h,this.retry=c,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,_)=>{this.resolve_=w,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Al(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===qu.NO_ERROR,l=s.getStatus();if(!a||I4(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===qu.ABORT;r(!1,new Al(!1,null,f));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new Al(d,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());T4(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=m4();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?cE():y4();o(l)}else{const l=g4();o(l)}};this.canceled_?n(!1,new Al(!1,null,!0)):this.backoffId_=b4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Al{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function k4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function N4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function C4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function R4(t,e,n,r,i,s,o=!0,a=!1){const l=A4(t.urlParams),d=t.url+l,f=Object.assign({},t.headers);return P4(f,e),k4(f,n),N4(f,s),C4(f,r),new S4(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function j4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Bu(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return j4(this._location.path)}get storage(){return this._service}get parent(){const e=O4(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new Bu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw x4(e)}}function y0(t,e){const n=e==null?void 0:e[h4];return n==null?null:En.makeFromBucketSpec(n,t)}function D4(t,e,n,r={}){t.host=`${e}:${n}`;const i=Li(e);i&&(bp(`https://${t.host}/b`),Ep("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:wx(s,t.app.options.projectId))}class L4{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=uE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f4,this._maxUploadRetryTime=p4,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=y0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=y0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new w4(cE());{const o=R4(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const v0="@firebase/storage",_0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="storage";function M4(t=dc(),e){t=lt(t);const r=ri(t,dE).getImmediate({identifier:e}),i=vx("storage");return i&&V4(r,...i),r}function V4(t,e,n,r={}){D4(t,e,n,r)}function F4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new L4(n,r,i,e,Vi)}function U4(){kn(new mn(dE,F4,"PUBLIC").setMultipleInstances(!0)),Gt(v0,_0,""),Gt(v0,_0,"esm2020")}U4();const q4={apiKey:"AIzaSyABCbl2c86484rVCVbU_9Cuo2cxu-ifMCU",authDomain:"elbouchrahm.firebaseapp.com",projectId:"elbouchrahm",storageBucket:"elbouchrahm.firebasestorage.app",messagingSenderId:"938974463777",appId:"1:938974463777:web:f3e70af94a2512345c6060",measurementId:"G-W606G9GF4P"},Lc=Ix(q4);GP().then(t=>{t&&KP(Lc)});const Qd=SN(Lc),Ls=WO(Lc);M4(Lc);const hE=fe.createContext(void 0);function Mc(){const t=fe.useContext(hE);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function B4({children:t}){const[e,n]=fe.useState(null),[r,i]=fe.useState(!0),s=async(l,d)=>{await hk(Qd,l,d)},o=async()=>{await gk(Qd)};fe.useEffect(()=>mk(Qd,d=>{n(d),i(!1)}),[]);const a={currentUser:e,login:s,logout:o,loading:r};return y.jsx(hE.Provider,{value:a,children:!r&&t})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(t,e)=>{const n=fe.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...d},f)=>fe.createElement("svg",{ref:f,...z4,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${$4(t)}`,a].join(" "),...d},[...e.map(([h,c])=>fe.createElement(h,c)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=pe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=pe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=pe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=pe("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=pe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=pe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=pe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=pe("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=pe("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=pe("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ge({children:t,className:e="",hover:n=!0}){return y.jsx("div",{className:`bg-white rounded-lg shadow-md wavy-card ${n?"hover:shadow-xl":""} transition-all duration-300 ${e}`,children:t})}function xj(){const{t}=Dt(),[e,n]=fe.useState(""),[r,i]=fe.useState(""),[s,o]=fe.useState(!1),[a,l]=fe.useState(""),[d,f]=fe.useState(!1),{login:h}=Mc(),c=async p=>{p.preventDefault();try{l(""),f(!0),await h(e,r)}catch(w){l(t("admin.login.error")),console.error("Login error:",w)}finally{f(!1)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4",children:y.jsxs(ge,{className:"w-full max-w-md p-8",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Yd,{className:"text-blue-600",size:32})}),y.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-2",children:t("admin.login.title")}),y.jsx("p",{className:"text-gray-600",children:t("admin.login.subtitle")})]}),a&&y.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:a}),y.jsxs("form",{onSubmit:c,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("admin.login.email")}),y.jsxs("div",{className:"relative",children:[y.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"email",value:e,onChange:p=>n(p.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("admin.login.email-placeholder")})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("admin.login.password")}),y.jsxs("div",{className:"relative",children:[y.jsx(Yd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:s?"text":"password",value:r,onChange:p=>i(p.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("admin.login.password-placeholder")}),y.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:t(s?"admin.login.hide-password":"admin.login.show-password"),children:s?y.jsx(J4,{size:20}):y.jsx(Fa,{size:20})})]})]}),y.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:d?y.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):y.jsxs(y.Fragment,{children:[y.jsx(Yd,{size:20}),y.jsx("span",{children:t("admin.login.login")})]})})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsx("p",{className:"text-sm text-gray-500",children:t("admin.login.restricted")})})]})})}function wj({children:t}){const{currentUser:e}=Mc();return e?y.jsx(y.Fragment,{children:t}):y.jsx(xj,{})}function bj({currentPage:t,onPageChange:e}){const[n,r]=fe.useState(!1),[i,s]=fe.useState(!1),{currentLanguage:o,setLanguage:a,t:l}=Dt(),d=[{key:"home",href:"home",icon:wf},{key:"identification",href:"identification",icon:ba},{key:"articles",href:"articles",icon:H4},{key:"members",href:"members",icon:$r},{key:"activities",href:"activities",icon:_f},{key:"membership",href:"membership",icon:vj},{key:"program",href:"program",icon:Oi},{key:"contact",href:"contact",icon:Ea}],f=c=>{e(c),r(!1),window.scrollTo({top:0,behavior:"smooth"})},h=c=>{a(c),s(!1)};return y.jsx("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"flex items-center justify-between h-16",children:[y.jsx("button",{onClick:()=>f("home"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity duration-200",children:y.jsx("img",{src:"/assets/logo-ass.png",alt:"Logo EL BOUCHRA",className:"w-10 h-10 object-contain"})}),y.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:d.map(c=>y.jsxs("button",{onClick:()=>f(c.href),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ${t===c.href?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"}`,children:[y.jsx(c.icon,{size:16}),y.jsx("span",{children:l(`nav.${c.key}`)})]},c.key))}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>s(!i),className:"flex items-center space-x-1 px-3 py-2 text-gray-700 hover:bg-blue-50 rounded-md transition-colors duration-200",children:[y.jsx(sj,{size:16}),y.jsx("span",{className:"text-sm",children:o.code.toUpperCase()})]}),i&&y.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:hx.map(c=>y.jsx("button",{onClick:()=>h(c),className:`block w-full text-left px-4 py-2 text-sm transition-colors duration-200 ${o.code===c.code?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-blue-50"}`,children:c.name},c.code))})]}),y.jsxs("button",{onClick:()=>f("shop"),className:"flex items-center space-x-1 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:[y.jsx(yE,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:l("nav.shop")})]}),y.jsx("button",{onClick:()=>r(!n),className:"md:hidden p-2 text-gray-700 hover:bg-blue-50 rounded-md transition-colors duration-200",children:n?y.jsx(Ta,{size:20}):y.jsx(mE,{size:20})})]})]}),n&&y.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:y.jsx("nav",{className:"flex flex-col space-y-2",children:d.map(c=>y.jsxs("button",{onClick:()=>f(c.href),className:`flex items-center space-x-2 text-left px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ${t===c.href?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"}`,children:[y.jsx(c.icon,{size:16}),y.jsx("span",{children:l(`nav.${c.key}`)})]},c.key))})})]})})}function Ej({onPageChange:t}){const{t:e}=Dt(),n=[{icon:Z4,href:"https://web.facebook.com/profile.php?id=100086379114341",label:"Facebook"},{icon:ij,href:"https://www.instagram.com/ass.elbouchrahm?utm_source=qr&igsh=N2NzdWxtY2FpN2Zm",label:"Instagram"}],r=[{key:"home",href:"home"},{key:"identification",href:"identification"},{key:"activities",href:"activities"},{key:"membership",href:"membership"}],i=s=>{t(s),window.scrollTo({top:0,behavior:"smooth"})};return y.jsx("footer",{className:"bg-blue-900 text-white",children:y.jsxs("div",{className:"container mx-auto px-4 py-12",children:[y.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("div",{className:"flex items-center space-x-3 mb-4",children:y.jsx("img",{src:"/assets/logo-ass.png",alt:"Logo EL BOUCHRA",className:"w-20 h-20 object-contain"})}),y.jsx("p",{className:"text-blue-100 leading-relaxed mb-6",children:e("home.mission.text")}),y.jsx("div",{className:"flex space-x-4",children:n.map((s,o)=>{const a=s.icon;return y.jsx("a",{href:s.href,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-blue-800 hover:bg-blue-700 rounded-full flex items-center justify-center transition-colors duration-200","aria-label":s.label,children:y.jsx(a,{size:18})},o)})})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-4",children:e("footer.quick-links")}),y.jsx("ul",{className:"space-y-2",children:r.map(s=>y.jsx("li",{children:y.jsx("button",{onClick:()=>i(s.href),className:"text-blue-200 hover:text-white transition-colors duration-200",children:e(`nav.${s.key}`)})},s.key))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-4",children:e("footer.contact")}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(Tm,{className:"text-blue-300 mt-1 flex-shrink-0",size:16}),y.jsx("span",{className:"text-blue-100 text-sm",children:"Hay Adil, Sal, Maroc"})]}),y.jsxs("a",{href:"mailto:elbouchra.hayadil@gmail.com",className:"flex items-center space-x-3 text-blue-200 hover:text-white transition-colors duration-200",children:[y.jsx(Ea,{className:"text-blue-300 flex-shrink-0",size:16}),y.jsx("span",{className:"text-sm",children:"elbouchra.hayadil@gmail.com"})]}),y.jsxs("a",{href:"https://wa.me/212661234567",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-blue-200 hover:text-white transition-colors duration-200",children:[y.jsx(Am,{className:"text-blue-300 flex-shrink-0",size:16}),y.jsx("span",{className:"text-sm",children:"+212 6 61 23 45 67"})]})]})]})]}),y.jsx("div",{className:"border-t border-blue-800 mt-8 pt-8",children:y.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:y.jsx("p",{className:"text-blue-200 text-sm",children:" 2025 Association EL BOUCHRA. Tous droits rservs."})})})]})})}const Wi=[{id:"slide-1",image:"/assets/slide-1.jpg",alt:"Environmental volunteers planting trees"},{id:"slide-2",image:"/assets/slide-2.jpg",alt:"Community clean-up activity"},{id:"slide-3",image:"/assets/slide-3.jpg",alt:"Nature preservation"},{id:"slide-4",image:"/assets/slide-4.jpg",alt:"Sustainable development"},{id:"slide-5",image:"/assets/slide-5.jpg",alt:"Association activities"}];function Tj(){const[t,e]=fe.useState(0);fe.useEffect(()=>{const i=setInterval(()=>{e(s=>(s+1)%Wi.length)},5e3);return()=>clearInterval(i)},[]);const n=()=>{e(i=>(i+1)%Wi.length)},r=()=>{e(i=>(i-1+Wi.length)%Wi.length)};return y.jsxs("div",{className:"relative h-96 md:h-[500px] overflow-hidden rounded-lg shadow-xl",children:[y.jsx("div",{className:"relative w-full h-full",children:Wi.map((i,s)=>y.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${s===t?"opacity-100":"opacity-0"}`,children:[y.jsx("img",{src:i.image,alt:i.alt,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-blue-900 bg-opacity-30"})]},i.id))}),y.jsx("button",{onClick:r,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 rounded-full p-2 transition-all duration-200 shadow-lg",children:y.jsx(bm,{className:"text-blue-700",size:24})}),y.jsx("button",{onClick:n,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 rounded-full p-2 transition-all duration-200 shadow-lg",children:y.jsx(Em,{className:"text-blue-700",size:24})}),y.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:Wi.map((i,s)=>y.jsx("button",{onClick:()=>e(s),className:`w-3 h-3 rounded-full transition-all duration-200 ${s===t?"bg-white":"bg-white bg-opacity-50 hover:bg-opacity-75"}`},s))})]})}const Sm=[{id:"zakaria-el-foundy",name:{fr:"El FOUNDY Zakaria",ar:" "},role:{fr:"Prsident",ar:""},image:"https://images.pexels.com/photos/3785079/pexels-photo-3785079.jpeg",expertise:{fr:"",ar:""}},{id:"yousra-el-malki",name:{fr:"EL MALKI Yousra",ar:" "},role:{fr:"Vice-Prsident",ar:" "},image:"https://images.pexels.com/photos/2182970/pexels-photo-2182970.jpeg",expertise:{fr:"",ar:""}},{id:"mostafa-el-foundy",name:{fr:"EL FOUNDY Mostafa",ar:" "},role:{fr:"Secrtaire Gnral",ar:" "},image:"https://images.pexels.com/photos/3756679/pexels-photo-3756679.jpeg",expertise:{fr:"",ar:""}},{id:"hicham-chahid",name:{fr:"CHAHID Hicham",ar:" "},role:{fr:"Vice Secrtaire Gnral",ar:"  "},image:"https://images.pexels.com/photos/3777931/pexels-photo-3777931.jpeg",expertise:{fr:"",ar:""}},{id:"hajar-midany",name:{fr:"MIDANY Hajar",ar:" "},role:{fr:"Trsorier",ar:" "},image:"https://images.pexels.com/photos/3785079/pexels-photo-3785079.jpeg",expertise:{fr:"",ar:""}},{id:"douaa-benkrit",name:{fr:"BENKRIT Douaa",ar:" "},role:{fr:"Vice Trsorier",ar:"  "},image:"https://images.pexels.com/photos/2182970/pexels-photo-2182970.jpeg",expertise:{fr:"",ar:""}},{id:"karim-hidila",name:{fr:"HIDILA Karim",ar:" "},role:{fr:"Conseiller",ar:""},image:"https://images.pexels.com/photos/3756679/pexels-photo-3756679.jpeg",expertise:{fr:"",ar:""}},{id:"Hicham-belmeki",name:{fr:"BELMEKKI HICHAM",ar:" "},role:{fr:"Comit Sportif Et Culturel",ar:"  "},image:"https://images.pexels.com/photos/3756679/pexels-photo-3756679.jpeg",expertise:{fr:"",ar:""}}],_E=[{id:"ouverture-saison-anniversaire",title:{fr:"Crmonie d'ouverture de la saison et anniversaire de l'association",ar:"      "},date:"2025-11-01",time:"19:00",location:{fr:"Sige de l'association",ar:" "},description:{fr:"Clbration du lancement de la nouvelle saison et de l'anniversaire de l'association",ar:"      "}},{id:"tournoi-independance",title:{fr:"Tournoi de l'Indpendance",ar:"  "},date:"2025-11-18",time:"15:00",location:{fr:"Terrain de sport local",ar:"  "},description:{fr:"Tournoi sportif en l'honneur de l'indpendance du Maroc",ar:"    "}},{id:"voyage-ifrane",title:{fr:"Voyage rcratif  Ifrane",ar:"  "},date:"2026-01-15",time:"07:00",location:{fr:"Ifrane",ar:""},description:{fr:"Voyage rcratif et dcouverte de la rgion d'Ifrane",ar:"    "}},{id:"paniers-ramadan",title:{fr:"Campagne de distribution de paniers du Ramadan 1447 de l'Hgire",ar:"    1447"},date:"2026-02-20",time:"16:00",location:{fr:"Quartiers dfavoriss",ar:" "},description:{fr:"Distribution de paniers alimentaires aux familles ncessiteuses",ar:"     "}},{id:"soiree-ramadan-femme",title:{fr:"Soire du Ramadan + Journe internationale de la femme",ar:"  +    "},date:"2026-03-08",time:"20:00",location:{fr:"Salle des ftes",ar:" "},description:{fr:"Soire culturelle clbrant le Ramadan et la Journe internationale de la femme",ar:"      "}},{id:"gala-traditionnel",title:{fr:"Soire Traditionnelle (GALA)",ar:" "},date:"2026-04-12",time:"19:30",location:{fr:"Palais des Congrs",ar:" "},description:{fr:"Gala traditionnel avec spectacles artistiques et culturels",ar:"     "}},{id:"tournoi-moulay-hassan",title:{fr:"Tournoi Moulay Hassan",ar:"  "},date:"2026-05-08",time:"14:00",location:{fr:"Complexe sportif",ar:" "},description:{fr:"Tournoi sportif annuel Moulay Hassan",ar:"    "}}],Aj=[{id:"members",number:"150+",label:{fr:"Membres actifs",ar:" "},icon:"Users"},{id:"projects",number:"25+",label:{fr:"Projets raliss",ar:" "},icon:"Award"},{id:"experience",number:"3",label:{fr:"Annes d'exprience",ar:"  "},icon:"Star"}];function b0({onPageChange:t}){const{t:e,currentLanguage:n}=Dt(),[r,i]=fe.useState(!1),s=Sm.slice(0,8),o=_E.slice(0,3).map(c=>({title:c.title[n.code],date:new Date(c.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),location:c.location[n.code]})),a=()=>{t("members"),window.scrollTo({top:0,behavior:"smooth"})},l=()=>{t("program"),window.scrollTo({top:0,behavior:"smooth"})},d=(c,p)=>c.length<=p?c:c.substring(0,p)+"...",f=e("home.president.message"),h=300;return y.jsxs("div",{className:"min-h-screen",children:[y.jsxs("section",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-blue-900 mb-4",children:e("home.hero.title")}),y.jsx("p",{className:"text-xl md:text-2xl text-blue-600 mb-8",children:e("home.hero.subtitle")})]}),y.jsx(Tj,{})]}),y.jsx("section",{className:"container mx-auto px-4 py-16",children:y.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto items-start",children:[y.jsxs(ge,{className:"p-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-blue-900 mb-6",children:e("home.president.title")}),y.jsx("p",{className:"text-gray-700 leading-relaxed mb-4 text-justify whitespace-pre-line",children:r?f:d(f,h)}),f.length>h&&y.jsx("button",{onClick:()=>i(!r),className:"text-blue-600 hover:text-blue-800 font-medium text-sm mb-4 text-left transition-colors duration-200",children:e(r?"common.read-less":"common.read-more")}),y.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[y.jsx("p",{className:"font-semibold text-blue-900",children:e("home.president.name")}),y.jsx("p",{className:"text-blue-600 text-sm",children:e("home.president.position")})]})]}),y.jsx(ge,{className:"overflow-hidden h-[400px] lg:sticky lg:top-8",children:y.jsx("div",{className:"h-full",children:y.jsx("img",{src:"/assets/mot-president.jpg",alt:e("home.president.name"),className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})})})]})}),y.jsx("section",{className:"container mx-auto px-4 py-16",children:y.jsxs(ge,{className:"p-8 text-center max-w-4xl mx-auto",children:[y.jsx("h2",{className:"text-3xl font-bold text-blue-900 mb-6",children:e("home.mission.title")}),y.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:e("home.mission.text")})]})}),y.jsxs("section",{className:"container mx-auto px-4 py-16",children:[y.jsx("h2",{className:"text-3xl font-bold text-blue-900 text-center mb-12",children:e("home.activities.title")}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs(ge,{className:"p-8 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(bf,{className:"text-green-600",size:32})}),y.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:e("home.activities.env.title")}),y.jsx("p",{className:"text-gray-700",children:e("home.activities.env.text")})]}),y.jsxs(ge,{className:"p-8 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx($r,{className:"text-blue-600",size:32})}),y.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:e("home.activities.education.title")}),y.jsx("p",{className:"text-gray-700",children:e("home.activities.education.text")})]}),y.jsxs(ge,{className:"p-8 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(nj,{className:"text-purple-600",size:32})}),y.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:e("home.activities.community.title")}),y.jsx("p",{className:"text-gray-700",children:e("home.activities.community.text")})]})]})]}),y.jsxs("section",{className:"container mx-auto px-4 py-16 bg-blue-50",children:[y.jsx("h2",{className:"text-3xl font-bold text-blue-900 text-center mb-12",children:e("home.team.title")}),y.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:s.map((c,p)=>y.jsxs(ge,{className:"p-6 text-center",children:[y.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mx-auto mb-4",children:y.jsx("img",{src:c.image,alt:c.name[n.code],className:"w-full h-full object-cover"})}),y.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-1",children:c.name[n.code]}),y.jsx("p",{className:"text-blue-600 font-medium",children:c.role[n.code]})]},p))}),y.jsx("div",{className:"text-center mt-8",children:y.jsx("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200",children:e("home.team.button")})})]}),y.jsxs("section",{className:"container mx-auto px-4 py-16",children:[y.jsx("h2",{className:"text-3xl font-bold text-blue-900 text-center mb-12",children:e("home.events.title")}),y.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:o.map((c,p)=>y.jsx(ge,{className:"p-6",children:y.jsxs("div",{className:"flex items-start space-x-4",children:[y.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx(Oi,{className:"text-blue-600",size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:c.title}),y.jsxs("p",{className:"text-blue-600 text-sm mb-1",children:[" ",c.date]}),y.jsxs("p",{className:"text-gray-600 text-sm",children:[" ",c.location]})]})]})},p))}),y.jsx("div",{className:"text-center mt-8",children:y.jsx("button",{onClick:l,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200",children:e("home.events.button")})})]}),y.jsxs("section",{className:"container mx-auto px-4 py-16",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl font-bold text-blue-900 mb-4",children:"Dcouvrez nos actions"}),y.jsx("p",{className:"text-blue-600 text-lg mb-8",children:"Regardez notre vido de prsentation"})]}),y.jsx("div",{className:"max-w-4xl mx-auto",children:y.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden shadow-xl",children:y.jsx("iframe",{src:"https://www.youtube.com/embed/jcGYJmE6kHE?start=28",title:"Vido de prsentation - Association EL BOUCHRA",className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})]}),y.jsxs("section",{className:"container mx-auto px-4 py-16 bg-gradient-to-r from-blue-600 to-blue-800 mb-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:e("home.impact.title")}),y.jsx("p",{className:"text-blue-100 text-lg",children:e("home.impact.subtitle")})]}),y.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:Aj.map(c=>{const w=(_=>{switch(_){case"Users":return $r;case"Award":return wm;case"Star":return vE;default:return $r}})(c.icon);return y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(w,{className:"text-white",size:28})}),y.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:c.number}),y.jsx("div",{className:"text-blue-100",children:c.label[n.code]})]},c.id)})})]})]})}const Ij=[{id:"eco-blue",name:"tshirt.eco.name",price:25,description:"tshirt.eco.description",image:"https://images.pexels.com/photos/8532616/pexels-photo-8532616.jpeg",sizes:["S","M","L","XL"]},{id:"classic",name:"tshirt.classic.name",price:30,description:"tshirt.classic.description",image:"https://images.pexels.com/photos/5710082/pexels-photo-5710082.jpeg",sizes:["S","M","L","XL","XXL"]}];function Sj(){const{t}=Dt(),e=n=>{const r=`Bonjour! Je souhaite acheter le ${t(n.name)} au prix de ${n.price}. Merci!`,i=`https://wa.me/212661234567?text=${encodeURIComponent(r)}`;window.open(i,"_blank")};return y.jsx("div",{className:"min-h-screen py-8",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl font-bold text-blue-900 mb-4",children:t("tshirt.title")}),y.jsx("p",{className:"text-xl text-blue-600",children:t("tshirt.subtitle")})]}),y.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:Ij.map(n=>y.jsxs(ge,{className:"overflow-hidden",children:[y.jsx("div",{className:"aspect-square overflow-hidden",children:y.jsx("img",{src:n.image,alt:t(n.name),className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-2xl font-semibold text-blue-900 mb-2",children:t(n.name)}),y.jsx("p",{className:"text-gray-600 mb-4",children:t(n.description)}),y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:[n.price,t("tshirt.price")]}),y.jsx("div",{className:"flex space-x-1",children:n.sizes.map(r=>y.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-sm rounded",children:r},r))})]}),y.jsxs("button",{onClick:()=>e(n),className:"w-full flex items-center justify-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200",children:[y.jsx(Am,{size:20}),y.jsx("span",{children:t("tshirt.buy")})]})]})]},n.id))})]})})}const kj=[{id:"participation",key:"membership.benefit1"},{id:"training",key:"membership.benefit2"},{id:"newsletter",key:"membership.benefit3"},{id:"discounts",key:"membership.benefit4"}],Nj=[{id:"form",fr:"Remplir le formulaire d'adhsion",ar:"  "},{id:"id-copies",fr:"Fournir 3 copies certifies conformes de leur carte nationale d'identit",ar:"3       "},{id:"photos",fr:"2 photos d'identit",ar:"2  "},{id:"fee",fr:"S'acquitter de la cotisation annuelle de 200 dirhams",ar:"     200  "}];function Pj(){const{t,currentLanguage:e}=Dt(),n=()=>{const r=document.createElement("a");r.href="/assets/membership-form.pdf",r.download="membership-form.pdf",document.body.appendChild(r),r.click(),document.body.removeChild(r)};return y.jsx("div",{className:"min-h-screen py-8",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl font-bold text-blue-900 mb-4",children:t("membership.title")}),y.jsx("p",{className:"text-xl text-blue-600",children:t("membership.subtitle")})]}),y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx(ge,{className:"p-8 mb-8",children:y.jsx("p",{className:"text-lg text-gray-700 leading-relaxed text-center",children:t("membership.intro")})}),y.jsxs(ge,{className:"p-8 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-6",children:t("membership.requirements.title")}),y.jsx("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:y.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.code==="fr"?t("membership.requirements.intro.fr"):t("membership.requirements.intro.ar")})}),y.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:t("membership.requirements.subtitle")}),y.jsx("div",{className:"space-y-4",children:Nj.map((r,i)=>{const o=(l=>{switch(l){case"form":return ba;case"id-copies":return W4;case"photos":return K4;case"fee":return X4;default:return ba}})(r.id),a=e.code==="fr"?r.fr:r.ar;return y.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[y.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx(o,{className:"text-blue-600",size:20})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-gray-700",children:a}),r.id==="fee"&&y.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:t("membership.fee.amount")})]})]},r.id)})})]}),y.jsxs(ge,{className:"p-8 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-6",children:t("membership.benefits.title")}),y.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:kj.map(r=>y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(G4,{className:"text-green-600 mt-1 flex-shrink-0",size:20}),y.jsx("span",{className:"text-gray-700",children:t(r.key)})]},r.id))})]}),y.jsxs(ge,{className:"p-8 text-center",children:[y.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(xf,{className:"text-blue-600",size:32})}),y.jsxs("button",{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200 flex items-center space-x-2 mx-auto",children:[y.jsx(xf,{size:20}),y.jsx("span",{children:t("membership.download")})]})]})]})]})})}function Cj(){const{t,currentLanguage:e}=Dt();return y.jsx("div",{className:"min-h-screen py-8",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl font-bold text-blue-900 mb-4",children:t("program.title")}),y.jsx("p",{className:"text-xl text-blue-600",children:t("program.subtitle")})]}),y.jsx("div",{className:"grid gap-6 max-w-4xl mx-auto",children:_E.map(n=>y.jsx(ge,{className:"p-6",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-6",children:[y.jsxs("div",{className:"bg-blue-600 text-white rounded-lg p-4 text-center min-w-[120px]",children:[y.jsx("div",{className:"text-2xl font-bold",children:new Date(n.date).getDate()}),y.jsx("div",{className:"text-sm",children:new Date(n.date).toLocaleDateString("fr-FR",{month:"short",year:"numeric"})})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-2",children:n.title[e.code]}),y.jsx("p",{className:"text-gray-600 mb-3",children:n.description[e.code]}),y.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(Y4,{size:16}),y.jsx("span",{children:n.time})]}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(Tm,{size:16}),y.jsx("span",{children:n.location[e.code]})]})]})]})]})},n.id))})]})})}const Rj=[{id:"address",icon:"MapPin",title:"contact.info.address",value:"Hay Adil, Sal, Maroc",color:"text-red-600",bgColor:"bg-red-100"},{id:"email",icon:"Mail",title:"contact.info.email",value:"elbouchra.hayadil@gmail.com",color:"text-blue-600",bgColor:"bg-blue-100",href:"mailto:elbouchra.hayadil@gmail.com"},{id:"whatsapp",icon:"MessageCircle",title:"contact.info.whatsapp",value:"+212 6 61 23 45 67",color:"text-green-600",bgColor:"bg-green-100",href:"https://wa.me/212661234567"}];function Oj(){const{t}=Dt(),[e,n]=fe.useState({name:"",email:"",message:""}),r=s=>{const{name:o,value:a}=s.target;n(l=>({...l,[o]:a}))},i=s=>{s.preventDefault(),console.log("Form submitted:",e),alert("Message envoy avec succs!"),n({name:"",email:"",message:""})};return y.jsx("div",{className:"min-h-screen py-8",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl font-bold text-blue-900 mb-4",children:t("contact.title")}),y.jsx("p",{className:"text-xl text-blue-600",children:t("contact.subtitle")})]}),y.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto",children:[y.jsx(ge,{className:"p-8",children:y.jsxs("form",{onSubmit:i,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("contact.form.name")}),y.jsx("input",{type:"text",name:"name",value:e.name,onChange:r,required:!0,placeholder:"Entrez votre nom complet",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("contact.form.email")}),y.jsx("input",{type:"email",name:"email",value:e.email,onChange:r,required:!0,placeholder:"votre.email@exemple.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("contact.form.message")}),y.jsx("textarea",{name:"message",value:e.message,onChange:r,required:!0,rows:6,placeholder:"crivez votre message ici...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none"})]}),y.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[y.jsx(uj,{size:20}),y.jsx("span",{children:t("contact.form.send")})]})]})}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs(ge,{className:"p-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-6",children:t("contact.info.title")}),y.jsx("div",{className:"space-y-6",children:Rj.map(s=>{const a=(d=>{switch(d){case"MapPin":return Tm;case"Mail":return Ea;case"MessageCircle":return Am;default:return Ea}})(s.icon),l=y.jsxs("div",{className:"flex items-start space-x-4",children:[y.jsx("div",{className:`w-12 h-12 ${s.bgColor} rounded-lg flex items-center justify-center flex-shrink-0`,children:y.jsx(a,{className:s.color,size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:t(s.title)}),y.jsx("p",{className:"text-gray-600",children:s.value})]})]});return s.href?y.jsx("a",{href:s.href,target:"_blank",rel:"noopener noreferrer",className:"block hover:bg-gray-50 rounded-lg p-2 -m-2 transition-colors duration-200",children:l},s.id):y.jsx("div",{children:l},s.id)})})]}),y.jsx(ge,{className:"p-8",children:y.jsx("div",{className:"bg-gray-200 rounded-lg h-48 flex items-center justify-center",children:y.jsx("p",{className:"text-gray-600",children:"Carte interactive (Google Maps)"})})})]})]})]})})}function jj(){const{t}=Dt();return y.jsx("div",{className:"min-h-screen py-8",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl font-bold text-blue-900 mb-4",children:t("identification.title")}),y.jsx("p",{className:"text-xl text-blue-600",children:t("identification.subtitle")})]}),y.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[y.jsx(ge,{className:"p-8",children:y.jsxs("div",{className:"flex items-start space-x-6",children:[y.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx(Fa,{className:"text-blue-600",size:28})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4",children:t("identification.vision.title")}),y.jsx("p",{className:"text-gray-700 leading-relaxed",children:t("identification.vision.text")})]})]})}),y.jsx(ge,{className:"p-8",children:y.jsxs("div",{className:"flex items-start space-x-6",children:[y.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx(pj,{className:"text-green-600",size:28})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4",children:t("identification.mission.title")}),y.jsx("p",{className:"text-gray-700 leading-relaxed",children:t("identification.mission.text")})]})]})}),y.jsx(ge,{className:"p-8",children:y.jsxs("div",{className:"flex items-start space-x-6",children:[y.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx(wm,{className:"text-purple-600",size:28})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4",children:t("identification.values.title")}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[y.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:t("identification.values.environment.title")}),y.jsx("p",{className:"text-sm text-gray-700",children:t("identification.values.environment.text")})]}),y.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[y.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:t("identification.values.solidarity.title")}),y.jsx("p",{className:"text-sm text-gray-700",children:t("identification.values.solidarity.text")})]}),y.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[y.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:t("identification.values.innovation.title")}),y.jsx("p",{className:"text-sm text-gray-700",children:t("identification.values.innovation.text")})]}),y.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[y.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:t("identification.values.transparency.title")}),y.jsx("p",{className:"text-sm text-gray-700",children:t("identification.values.transparency.text")})]})]})]})]})})]})]})})}const Dj=[{id:"active-members",number:"150+",label:{fr:"Membres actifs",ar:" "},icon:"Users"},{id:"completed-projects",number:"25+",label:{fr:"Projets raliss",ar:" "},icon:"Award"},{id:"years-experience",number:"3",label:{fr:"Annes d'exprience",ar:"  "},icon:"Star"}];function Lj({onPageChange:t}){const{t:e,currentLanguage:n}=Dt(),r=()=>{t("membership"),window.scrollTo({top:0,behavior:"smooth"})};return y.jsx("div",{className:"min-h-screen py-8",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl font-bold text-blue-900 mb-4",children:e("members.title")}),y.jsx("p",{className:"text-xl text-blue-600",children:e("members.subtitle")})]}),y.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-12 max-w-3xl mx-auto",children:Dj.map((i,s)=>{const a=(l=>{switch(l){case"Users":return $r;case"Award":return wm;case"Star":return vE;default:return $r}})(i.icon);return y.jsxs(ge,{className:"p-6 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(a,{className:"text-blue-600",size:28})}),y.jsx("div",{className:"text-3xl font-bold text-blue-900 mb-2",children:i.number}),y.jsx("div",{className:"text-gray-600",children:i.label[n.code]})]},i.id)})}),y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsx("h2",{className:"text-2xl font-bold text-blue-900 text-center mb-8",children:e("members.executive.title")}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:Sm.map(i=>y.jsxs(ge,{className:"p-6 text-center",children:[y.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mx-auto mb-4",children:y.jsx("img",{src:i.image,alt:i.name[n.code],className:"w-full h-full object-cover"})}),y.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-1",children:i.name[n.code]}),y.jsx("p",{className:"text-blue-600 font-medium mb-2",children:i.role[n.code]}),y.jsx("p",{className:"text-gray-600 text-sm",children:i.expertise[n.code]})]},i.id))})]}),y.jsxs(ge,{className:"p-8 mt-12 text-center max-w-3xl mx-auto",children:[y.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4",children:e("members.join.title")}),y.jsx("p",{className:"text-gray-700 mb-6",children:e("members.join.text")}),y.jsx("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200",children:e("members.join.button")})]})]})})}const Oo=[{id:"reforestation",title:{fr:"Reforestation",ar:" "},description:{fr:"Plantation d'arbres dans les zones urbaines et rurales pour lutter contre la dforestation",ar:"        "},image:"https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg",icon:"Leaf",color:"green",status:"active",tags:["environment","nature","community"]},{id:"recyclage",title:{fr:"Recyclage",ar:" "},description:{fr:"Programmes de collecte et recyclage des dchets avec sensibilisation communautaire",ar:"       "},image:"https://images.pexels.com/photos/2990644/pexels-photo-2990644.jpeg",icon:"Recycle",color:"blue",status:"active",tags:["recycling","environment","awareness"]},{id:"education",title:{fr:"ducation Environnementale",ar:" "},description:{fr:"Ateliers et formations dans les coles et centres communautaires",ar:"     "},image:"https://images.pexels.com/photos/8471947/pexels-photo-8471947.jpeg",icon:"GraduationCap",color:"purple",status:"active",tags:["education","community","awareness"]},{id:"partenariats",title:{fr:"Partenariats Locaux",ar:" "},description:{fr:"Collaboration avec les entreprises et institutions pour des projets durables",ar:"     "},image:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg",icon:"Handshake",color:"orange",status:"active",tags:["partnership","community","environment"]},{id:"sensibilisation",title:{fr:"Campagnes de Sensibilisation",ar:" "},description:{fr:"Campagnes de sensibilisation aux enjeux environnementaux dans les mdias et rseaux sociaux",ar:"        "},image:"https://images.pexels.com/photos/7551667/pexels-photo-7551667.jpeg",icon:"Megaphone",color:"red",status:"active",tags:["awareness","education","community"]},{id:"nettoyage-plages",title:{fr:"Nettoyage des Plages",ar:" "},description:{fr:"Actions de nettoyage des plages et sensibilisation  la pollution marine",ar:"     "},image:"https://images.pexels.com/photos/2547565/pexels-photo-2547565.jpeg",icon:"Waves",color:"cyan",status:"archived",tags:["cleanup","environment","nature"]},{id:"jardins-communautaires",title:{fr:"Jardins Communautaires",ar:" "},description:{fr:"Cration et entretien de jardins communautaires pour promouvoir l'agriculture urbaine",ar:"      "},image:"https://images.pexels.com/photos/1301856/pexels-photo-1301856.jpeg",icon:"Sprout",color:"emerald",status:"active",tags:["agriculture","community","nature"]},{id:"energie-renouvelable",title:{fr:"nergie Renouvelable",ar:" "},description:{fr:"Promotion et installation de panneaux solaires dans les btiments publics",ar:"      "},image:"https://images.pexels.com/photos/433308/pexels-photo-433308.jpeg",icon:"Sun",color:"yellow",status:"archived",tags:["energy","environment","partnership"]},{id:"compostage",title:{fr:"Programme de Compostage",ar:" "},description:{fr:"Formation au compostage domestique et installation de bacs  compost collectifs",ar:"       "},image:"https://images.pexels.com/photos/4503273/pexels-photo-4503273.jpeg",icon:"Leaf",color:"amber",status:"archived",tags:["recycling","education","environment"]}],E0=[{id:"environment",name:{fr:"Environnement",ar:""},color:"green",bgColor:"bg-green-100",textColor:"text-green-800"},{id:"education",name:{fr:"ducation",ar:""},color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-800"},{id:"community",name:{fr:"Communaut",ar:""},color:"purple",bgColor:"bg-purple-100",textColor:"text-purple-800"},{id:"recycling",name:{fr:"Recyclage",ar:" "},color:"cyan",bgColor:"bg-cyan-100",textColor:"text-cyan-800"},{id:"awareness",name:{fr:"Sensibilisation",ar:""},color:"orange",bgColor:"bg-orange-100",textColor:"text-orange-800"},{id:"nature",name:{fr:"Nature",ar:""},color:"emerald",bgColor:"bg-emerald-100",textColor:"text-emerald-800"},{id:"energy",name:{fr:"nergie",ar:""},color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-800"},{id:"agriculture",name:{fr:"Agriculture",ar:""},color:"lime",bgColor:"bg-lime-100",textColor:"text-lime-800"},{id:"partnership",name:{fr:"Partenariat",ar:""},color:"indigo",bgColor:"bg-indigo-100",textColor:"text-indigo-800"},{id:"cleanup",name:{fr:"Nettoyage",ar:""},color:"teal",bgColor:"bg-teal-100",textColor:"text-teal-800"}];function Mj(){const{t,currentLanguage:e}=Dt(),[n,r]=fe.useState("all"),[i,s]=fe.useState([]),o=Oo.filter(h=>{const c=n==="all"||h.status===n,p=i.length===0||i.some(w=>h.tags.includes(w));return c&&p}),a=h=>{const c=h==="all"?Oo:Oo.filter(p=>p.status===h);return i.length===0?c.length:c.filter(p=>i.some(w=>p.tags.includes(w))).length},l=h=>{s(c=>c.includes(h)?c.filter(p=>p!==h):[...c,h])},d=()=>{r("all"),s([])},f=h=>E0.find(c=>c.id===h);return y.jsx("div",{className:"min-h-screen py-8",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl font-bold text-blue-900 mb-4",children:t("activities.title")}),y.jsx("p",{className:"text-xl text-blue-600",children:t("activities.subtitle")})]}),y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsx(ge,{className:"p-6 mb-8",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[y.jsx(x0,{className:"text-blue-600",size:20}),y.jsx("span",{className:"font-medium text-blue-900",children:t("activities.filter.status")})]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsxs("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${n==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t("activities.filter.all")," (",a("all"),")"]}),y.jsxs("button",{onClick:()=>r("active"),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${n==="active"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t("activities.filter.active")," (",a("active"),")"]}),y.jsxs("button",{onClick:()=>r("archived"),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${n==="archived"?"bg-gray-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t("activities.filter.archived")," (",a("archived"),")"]})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(fj,{className:"text-purple-600",size:20}),y.jsx("span",{className:"font-medium text-blue-900",children:t("activities.filter.tags")})]}),(i.length>0||n!=="all")&&y.jsxs("button",{onClick:d,className:"flex items-center space-x-1 px-3 py-1 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:[y.jsx(Ta,{size:14}),y.jsx("span",{children:t("activities.filter.clear")})]})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:E0.map(h=>y.jsx("button",{onClick:()=>l(h.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors duration-200 ${i.includes(h.id)?`${h.bgColor} ${h.textColor} ring-2 ring-offset-1 ring-${h.color}-500`:`${h.bgColor} ${h.textColor} hover:ring-2 hover:ring-offset-1 hover:ring-${h.color}-300`}`,children:h.name[e.code]},h.id))})]}),(i.length>0||n!=="all")&&y.jsx("div",{className:"pt-4 border-t border-gray-200",children:y.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[y.jsxs("span",{children:[t("activities.filter.showing")," ",o.length," ",t("activities.filter.results")]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[n!=="all"&&y.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:t(`activities.filter.${n}`)}),i.map(h=>{const c=f(h);return c?y.jsx("span",{className:`px-2 py-1 ${c.bgColor} ${c.textColor} rounded-full text-xs`,children:c.name[e.code]},h):null})]})]})})]})}),y.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:o.map(h=>{const p=(_=>{switch(_){case"Leaf":return bf;case"Recycle":return aj;case"GraduationCap":return ej;case"Handshake":return tj;case"Megaphone":return oj;case"Waves":return _j;case"Sprout":return cj;case"Sun":return hj;default:return bf}})(h.icon),w={green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",orange:"bg-orange-100 text-orange-600",red:"bg-red-100 text-red-600",cyan:"bg-cyan-100 text-cyan-600",emerald:"bg-emerald-100 text-emerald-600",yellow:"bg-yellow-100 text-yellow-600",amber:"bg-amber-100 text-amber-600"};return y.jsxs(ge,{className:`overflow-hidden relative ${h.status==="archived"?"opacity-75":""}`,children:[y.jsx("div",{className:"absolute top-4 right-4 z-10",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:h.status==="active"?t("activities.status.active"):t("activities.status.archived")})}),y.jsx("div",{className:"h-48 overflow-hidden",children:y.jsx("img",{src:h.image,alt:h.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${w[h.color]}`,children:y.jsx(p,{size:24})}),y.jsx("h3",{className:"text-xl font-semibold text-blue-900",children:h.title[e.code]})]}),y.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:h.tags.map(_=>{const b=f(_);return b?y.jsx("span",{className:`px-2 py-1 ${b.bgColor} ${b.textColor} rounded-full text-xs font-medium`,children:b.name[e.code]},_):null})}),y.jsx("p",{className:"text-gray-700 leading-relaxed",children:h.description[e.code]})]})]},h.id)})}),o.length===0&&y.jsx(ge,{className:"p-8 text-center",children:y.jsxs("div",{className:"text-gray-500",children:[y.jsx(x0,{size:48,className:"mx-auto mb-4 opacity-50"}),y.jsx("p",{className:"text-lg",children:t("activities.filter.no-results")}),y.jsx("p",{className:"text-sm mb-4",children:t("activities.filter.try-different")}),y.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:t("activities.filter.clear")})]})})]}),y.jsxs(ge,{className:"p-8 mt-12 max-w-4xl mx-auto",children:[y.jsx("h2",{className:"text-2xl font-bold text-blue-900 text-center mb-8",children:t("activities.impact.title")}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"750+"}),y.jsx("div",{className:"text-gray-700",children:t("activities.impact.people")})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:Oo.length}),y.jsx("div",{className:"text-gray-700",children:t("activities.impact.projects")})]})]})]})]})})}function Vj(){const[t,e]=fe.useState([]),[n,r]=fe.useState(1),[i,s]=fe.useState(!0),[o,a]=fe.useState(null),{currentLanguage:l,t:d}=Dt(),f=6,h=Math.ceil(t.length/f),c=(n-1)*f,p=c+f,w=t.slice(c,p);fe.useEffect(()=>{_()},[]),fe.useEffect(()=>{r(1)},[t.length]);const _=async()=>{try{console.log("Fetching articles...");const N=pm(Ls,"articles"),T=await lE(N);if(T.empty)console.log("No articles found"),e([]);else{const A=T.docs.map(P=>{const C=P.data();return console.log("Article data:",C),{id:P.id,title:C.title||"Titre non dfini",content:C.content||"Contenu non dfini",excerpt:C.excerpt||"",featuredImage:C.featuredImage||"",createdAt:C.createdAt||"",createdBy:C.createdBy||"",...C}});e(A),console.log("Articles loaded:",A.length)}}catch(N){console.error("Error fetching articles:",N),e([])}finally{s(!1)}},b=N=>{if(!N||typeof N!="string")return"";try{const A=new DOMParser().parseFromString(N,"text/html");return(A.body.textContent||A.body.innerText||"").replace(/\s+/g," ").trim()}catch(T){console.error("Error with DOMParser, using fallback:",T);try{const A=document.createElement("div");return A.innerHTML=N,(A.textContent||A.innerText||"").replace(/\s+/g," ").trim()}catch(A){return console.error("Error with createElement, using regex:",A),N.replace(/<style[^>]*>.*?<\/style>/gis,"").replace(/<script[^>]*>.*?<\/script>/gis,"").replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&apos;/g,"'").replace(/&hellip;/g,"...").replace(/&mdash;/g,"").replace(/&ndash;/g,"").replace(/\s+/g," ").trim()}}},g=(N,T)=>{if(!N)return"";const A=b(N);if(A.length<=T)return A;let P=A.substring(0,T);const C=P.lastIndexOf(" "),L=Math.max(P.lastIndexOf("."),P.lastIndexOf("!"),P.lastIndexOf("?"));return L>T-30&&L>0?P.substring(0,L+1):C>0&&C>T-30?P.substring(0,C)+"...":P+"..."},m=N=>N.excerpt&&N.excerpt.trim()?b(N.excerpt.trim()):N.content&&N.content.trim()?g(N.content,200):l.code==="fr"?"Contenu en cours de rdaction...":"  ...",x=N=>N||(l.code==="fr"?"Article rcent":" "),v=N=>{window.open(`/article/${N}`,"_blank")},k=N=>{r(N),window.scrollTo({top:0,behavior:"smooth"})},O=()=>{if(h<=1)return null;const N=5;let T=Math.max(1,n-Math.floor(N/2)),A=Math.min(h,T+N-1);return A-T+1<N&&(T=Math.max(1,A-N+1)),y.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-12",children:[y.jsxs("button",{onClick:()=>k(n-1),disabled:n===1,className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[y.jsx(bm,{size:16}),y.jsx("span",{children:l.code==="fr"?"Prcdent":""})]}),T>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>k(1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 transition-colors duration-200",children:"1"}),T>2&&y.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."})]}),Array.from({length:A-T+1},(P,C)=>T+C).map(P=>y.jsx("button",{onClick:()=>k(P),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${n===P?"text-white bg-blue-600 border border-blue-600":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 hover:text-gray-700"}`,children:P},P)),A<h&&y.jsxs(y.Fragment,{children:[A<h-1&&y.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."}),y.jsx("button",{onClick:()=>k(h),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 transition-colors duration-200",children:h})]}),y.jsxs("button",{onClick:()=>k(n+1),disabled:n===h,className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[y.jsx("span",{children:l.code==="fr"?"Suivant":""}),y.jsx(Em,{size:16})]})]})},S=(N,T)=>N[T]||"",E=N=>{var T;console.log("=== DEBUG ARTICLE ==="),console.log("ID:",N.id),console.log("Title:",N.title),console.log("Raw content:",N.content),console.log("Content type:",typeof N.content),console.log("Content length:",(T=N.content)==null?void 0:T.length),console.log("Cleaned content:",b(N.content)),console.log("Excerpt:",m(N)),console.log("====================")};return o?y.jsx("div",{className:"min-h-screen py-8",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("button",{onClick:()=>a(null),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 mb-6 transition-colors duration-200",children:[l.direction==="rtl"?y.jsx(pE,{size:20}):y.jsx(fE,{size:20}),y.jsx("span",{children:l.code==="fr"?"Retour aux articles":"  "})]}),y.jsx("article",{className:"max-w-4xl mx-auto",children:y.jsxs(ge,{className:"p-8",children:[y.jsxs("header",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-900 mb-4",children:S(o,"title")}),y.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 border-b border-gray-200 pb-6",children:[y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(Im,{size:16}),y.jsx("span",{children:"Association EL BOUCHRA"})]}),o.createdAt&&y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(Oi,{size:16}),y.jsx("span",{children:o.createdAt})]})]})]}),y.jsx("div",{className:"prose max-w-none prose-lg prose-blue",dangerouslySetInnerHTML:{__html:S(o,"content")}})]})})]})}):i?y.jsx("div",{className:"min-h-screen flex justify-center items-center",children:y.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):y.jsx("div",{className:"min-h-screen py-8",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl font-bold text-blue-900 mb-4",children:l.code==="fr"?"Articles":""}),y.jsx("p",{className:"text-xl text-blue-600",children:l.code==="fr"?"Dcouvrez nos dernires actualits et rflexions":"   "})]}),t.length===0?y.jsx(ge,{className:"p-8 text-center max-w-2xl mx-auto",children:y.jsxs("div",{className:"text-gray-500",children:[y.jsx("p",{className:"text-lg mb-2",children:l.code==="fr"?"Aucun article disponible pour le moment":"      "}),y.jsx("p",{className:"text-sm",children:l.code==="fr"?"Connectez-vous  l'administration pour ajouter des articles.":"      ."})]})}):y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:w.map(N=>(N.id==="vH4qP2bhBqzzhpWfZMrv"&&E(N),y.jsxs(ge,{className:"overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[N.featuredImage&&y.jsx("div",{className:"h-48 overflow-hidden",children:y.jsx("img",{src:N.featuredImage,alt:N.title||"Article image",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-3 line-clamp-2",children:S(N,"title")}),N.excerpt&&N.excerpt.trim()&&y.jsxs("div",{className:"text-blue-600 mb-3 italic text-sm border-l-2 border-blue-300 pl-3",children:['"',b(N.excerpt.trim()),'"']}),y.jsx("div",{className:"text-gray-600 mb-4 line-clamp-3 text-sm",children:g(N.content,150)}),y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[N.createdAt&&y.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[y.jsx(Oi,{size:14}),y.jsx("span",{children:x(N.createdAt)})]}),y.jsx("button",{onClick:()=>v(N.id),className:"text-blue-600 font-medium hover:text-blue-800 transition-colors duration-200 cursor-pointer",children:l.code==="fr"?"Lire plus":" "})]})]})]},N.id)))}),O(),t.length>0&&y.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:l.code==="fr"?`Affichage de ${c+1}-${Math.min(p,t.length)} sur ${t.length} articles`:` ${c+1}-${Math.min(p,t.length)}  ${t.length} `})]})})}function Fj({articleId:t,onBack:e}){const[n,r]=fe.useState(null),[i,s]=fe.useState(!0),{currentLanguage:o,t:a}=Dt();fe.useEffect(()=>{l()},[t]);const l=async()=>{try{console.log("Fetching article:",t);const f=await a4(Rc(Ls,"articles",t));if(f.exists()){const h=f.data();r({id:f.id,title:h.title||"Titre non dfini",content:h.content||"Contenu non dfini",createdAt:h.createdAt||"",createdBy:h.createdBy||"Association EL BOUCHRA"}),console.log("Article loaded:",h.title)}else console.log("Article not found"),r(null)}catch(f){console.error("Error fetching article:",f),r(null)}finally{s(!1)}},d=()=>{window.location.href="/"};return i?y.jsx("div",{className:"min-h-screen flex justify-center items-center",children:y.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):n?y.jsx("div",{className:"min-h-screen py-8 bg-gray-50",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("button",{onClick:d,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[o.direction==="rtl"?y.jsx(pE,{size:20}):y.jsx(fE,{size:20}),y.jsx("span",{children:o.code==="fr"?"Retour aux articles":"  "})]}),y.jsx("button",{onClick:d,className:"flex items-center space-x-3 hover:opacity-80 transition-opacity duration-200",children:y.jsx("img",{src:"/assets/logo-ass.png",alt:"Logo EL BOUCHRA",className:"w-12 h-12 object-contain"})})]}),y.jsx("article",{className:"max-w-4xl mx-auto",children:y.jsxs(ge,{className:"p-8",children:[y.jsxs("header",{className:"mb-8",children:[n.featuredImage&&y.jsx("div",{className:"mb-8",children:y.jsx("img",{src:n.featuredImage,alt:n.title,className:"w-full h-64 md:h-96 object-cover rounded-lg shadow-lg"})}),y.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-blue-900 mb-6",children:n.title}),n.excerpt&&y.jsx("p",{className:"text-lg text-gray-600 mb-6 italic border-l-4 border-blue-500 pl-4",children:n.excerpt}),y.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500 border-b border-gray-200 pb-6",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(Im,{size:16}),y.jsx("span",{children:"Association EL BOUCHRA"})]}),n.createdAt&&y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(Oi,{size:16}),y.jsx("span",{children:n.createdAt})]})]})]}),y.jsx("div",{className:"prose max-w-none prose-lg prose-blue",dangerouslySetInnerHTML:{__html:n.content}}),y.jsx("footer",{className:"mt-12 pt-8 border-t border-gray-200",children:y.jsx("div",{className:"text-center",children:y.jsxs("button",{onClick:d,className:"inline-flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[y.jsx(wf,{size:20}),y.jsx("span",{children:"Retour  l'accueil"})]})})})]})})]})}):y.jsx("div",{className:"min-h-screen flex justify-center items-center",children:y.jsxs(ge,{className:"p-8 text-center max-w-md",children:[y.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Article non trouv"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"L'article que vous recherchez n'existe pas ou a t supprim."}),y.jsxs("button",{onClick:d,className:"flex items-center space-x-2 mx-auto px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[y.jsx(wf,{size:20}),y.jsx("span",{children:"Retour  l'accueil"})]})]})})}function Uj(){this.__data__=[],this.size=0}var qj=Uj;function Bj(t,e){return t===e||t!==t&&e!==e}var xE=Bj,zj=xE;function $j(t,e){for(var n=t.length;n--;)if(zj(t[n][0],e))return n;return-1}var Vc=$j,Hj=Vc,Kj=Array.prototype,Wj=Kj.splice;function Gj(t){var e=this.__data__,n=Hj(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Wj.call(e,n,1),--this.size,!0}var Qj=Gj,Yj=Vc;function Xj(t){var e=this.__data__,n=Yj(e,t);return n<0?void 0:e[n][1]}var Jj=Xj,Zj=Vc;function eD(t){return Zj(this.__data__,t)>-1}var tD=eD,nD=Vc;function rD(t,e){var n=this.__data__,r=nD(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var iD=rD,sD=qj,oD=Qj,aD=Jj,lD=tD,uD=iD;function Ws(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ws.prototype.clear=sD;Ws.prototype.delete=oD;Ws.prototype.get=aD;Ws.prototype.has=lD;Ws.prototype.set=uD;var Fc=Ws,cD=Fc;function dD(){this.__data__=new cD,this.size=0}var hD=dD;function fD(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var pD=fD;function mD(t){return this.__data__.get(t)}var gD=mD;function yD(t){return this.__data__.has(t)}var vD=yD,_D=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,wE=_D,xD=wE,wD=typeof self=="object"&&self&&self.Object===Object&&self,bD=xD||wD||Function("return this")(),pr=bD,ED=pr,TD=ED.Symbol,km=TD,T0=km,bE=Object.prototype,AD=bE.hasOwnProperty,ID=bE.toString,wo=T0?T0.toStringTag:void 0;function SD(t){var e=AD.call(t,wo),n=t[wo];try{t[wo]=void 0;var r=!0}catch{}var i=ID.call(t);return r&&(e?t[wo]=n:delete t[wo]),i}var kD=SD,ND=Object.prototype,PD=ND.toString;function CD(t){return PD.call(t)}var RD=CD,A0=km,OD=kD,jD=RD,DD="[object Null]",LD="[object Undefined]",I0=A0?A0.toStringTag:void 0;function MD(t){return t==null?t===void 0?LD:DD:I0&&I0 in Object(t)?OD(t):jD(t)}var Uc=MD;function VD(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var EE=VD,FD=Uc,UD=EE,qD="[object AsyncFunction]",BD="[object Function]",zD="[object GeneratorFunction]",$D="[object Proxy]";function HD(t){if(!UD(t))return!1;var e=FD(t);return e==BD||e==zD||e==qD||e==$D}var TE=HD,KD=pr,WD=KD["__core-js_shared__"],GD=WD,Xd=GD,S0=function(){var t=/[^.]+$/.exec(Xd&&Xd.keys&&Xd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function QD(t){return!!S0&&S0 in t}var YD=QD,XD=Function.prototype,JD=XD.toString;function ZD(t){if(t!=null){try{return JD.call(t)}catch{}try{return t+""}catch{}}return""}var AE=ZD,e3=TE,t3=YD,n3=EE,r3=AE,i3=/[\\^$.*+?()[\]{}|]/g,s3=/^\[object .+?Constructor\]$/,o3=Function.prototype,a3=Object.prototype,l3=o3.toString,u3=a3.hasOwnProperty,c3=RegExp("^"+l3.call(u3).replace(i3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d3(t){if(!n3(t)||t3(t))return!1;var e=e3(t)?c3:s3;return e.test(r3(t))}var h3=d3;function f3(t,e){return t==null?void 0:t[e]}var p3=f3,m3=h3,g3=p3;function y3(t,e){var n=g3(t,e);return m3(n)?n:void 0}var Gs=y3,v3=Gs,_3=pr,x3=v3(_3,"Map"),Nm=x3,w3=Gs,b3=w3(Object,"create"),qc=b3,k0=qc;function E3(){this.__data__=k0?k0(null):{},this.size=0}var T3=E3;function A3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var I3=A3,S3=qc,k3="__lodash_hash_undefined__",N3=Object.prototype,P3=N3.hasOwnProperty;function C3(t){var e=this.__data__;if(S3){var n=e[t];return n===k3?void 0:n}return P3.call(e,t)?e[t]:void 0}var R3=C3,O3=qc,j3=Object.prototype,D3=j3.hasOwnProperty;function L3(t){var e=this.__data__;return O3?e[t]!==void 0:D3.call(e,t)}var M3=L3,V3=qc,F3="__lodash_hash_undefined__";function U3(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=V3&&e===void 0?F3:e,this}var q3=U3,B3=T3,z3=I3,$3=R3,H3=M3,K3=q3;function Qs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qs.prototype.clear=B3;Qs.prototype.delete=z3;Qs.prototype.get=$3;Qs.prototype.has=H3;Qs.prototype.set=K3;var W3=Qs,N0=W3,G3=Fc,Q3=Nm;function Y3(){this.size=0,this.__data__={hash:new N0,map:new(Q3||G3),string:new N0}}var X3=Y3;function J3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Z3=J3,eL=Z3;function tL(t,e){var n=t.__data__;return eL(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Bc=tL,nL=Bc;function rL(t){var e=nL(this,t).delete(t);return this.size-=e?1:0,e}var iL=rL,sL=Bc;function oL(t){return sL(this,t).get(t)}var aL=oL,lL=Bc;function uL(t){return lL(this,t).has(t)}var cL=uL,dL=Bc;function hL(t,e){var n=dL(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var fL=hL,pL=X3,mL=iL,gL=aL,yL=cL,vL=fL;function Ys(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ys.prototype.clear=pL;Ys.prototype.delete=mL;Ys.prototype.get=gL;Ys.prototype.has=yL;Ys.prototype.set=vL;var IE=Ys,_L=Fc,xL=Nm,wL=IE,bL=200;function EL(t,e){var n=this.__data__;if(n instanceof _L){var r=n.__data__;if(!xL||r.length<bL-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wL(r)}return n.set(t,e),this.size=n.size,this}var TL=EL,AL=Fc,IL=hD,SL=pD,kL=gD,NL=vD,PL=TL;function Xs(t){var e=this.__data__=new AL(t);this.size=e.size}Xs.prototype.clear=IL;Xs.prototype.delete=SL;Xs.prototype.get=kL;Xs.prototype.has=NL;Xs.prototype.set=PL;var CL=Xs,RL="__lodash_hash_undefined__";function OL(t){return this.__data__.set(t,RL),this}var jL=OL;function DL(t){return this.__data__.has(t)}var LL=DL,ML=IE,VL=jL,FL=LL;function zu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ML;++e<n;)this.add(t[e])}zu.prototype.add=zu.prototype.push=VL;zu.prototype.has=FL;var UL=zu;function qL(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var BL=qL;function zL(t,e){return t.has(e)}var $L=zL,HL=UL,KL=BL,WL=$L,GL=1,QL=2;function YL(t,e,n,r,i,s){var o=n&GL,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var d=s.get(t),f=s.get(e);if(d&&f)return d==e&&f==t;var h=-1,c=!0,p=n&QL?new HL:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var w=t[h],_=e[h];if(r)var b=o?r(_,w,h,e,t,s):r(w,_,h,t,e,s);if(b!==void 0){if(b)continue;c=!1;break}if(p){if(!KL(e,function(g,m){if(!WL(p,m)&&(w===g||i(w,g,n,r,s)))return p.push(m)})){c=!1;break}}else if(!(w===_||i(w,_,n,r,s))){c=!1;break}}return s.delete(t),s.delete(e),c}var SE=YL,XL=pr,JL=XL.Uint8Array,ZL=JL;function e6(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var t6=e6;function n6(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var r6=n6,P0=km,C0=ZL,i6=xE,s6=SE,o6=t6,a6=r6,l6=1,u6=2,c6="[object Boolean]",d6="[object Date]",h6="[object Error]",f6="[object Map]",p6="[object Number]",m6="[object RegExp]",g6="[object Set]",y6="[object String]",v6="[object Symbol]",_6="[object ArrayBuffer]",x6="[object DataView]",R0=P0?P0.prototype:void 0,Jd=R0?R0.valueOf:void 0;function w6(t,e,n,r,i,s,o){switch(n){case x6:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _6:return!(t.byteLength!=e.byteLength||!s(new C0(t),new C0(e)));case c6:case d6:case p6:return i6(+t,+e);case h6:return t.name==e.name&&t.message==e.message;case m6:case y6:return t==e+"";case f6:var a=o6;case g6:var l=r&l6;if(a||(a=a6),t.size!=e.size&&!l)return!1;var d=o.get(t);if(d)return d==e;r|=u6,o.set(t,e);var f=s6(a(t),a(e),r,i,s,o);return o.delete(t),f;case v6:if(Jd)return Jd.call(t)==Jd.call(e)}return!1}var b6=w6;function E6(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var T6=E6,A6=Array.isArray,Pm=A6,I6=T6,S6=Pm;function k6(t,e,n){var r=e(t);return S6(t)?r:I6(r,n(t))}var N6=k6;function P6(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var C6=P6;function R6(){return[]}var O6=R6,j6=C6,D6=O6,L6=Object.prototype,M6=L6.propertyIsEnumerable,O0=Object.getOwnPropertySymbols,V6=O0?function(t){return t==null?[]:(t=Object(t),j6(O0(t),function(e){return M6.call(t,e)}))}:D6,F6=V6;function U6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var q6=U6;function B6(t){return t!=null&&typeof t=="object"}var zc=B6,z6=Uc,$6=zc,H6="[object Arguments]";function K6(t){return $6(t)&&z6(t)==H6}var W6=K6,j0=W6,G6=zc,kE=Object.prototype,Q6=kE.hasOwnProperty,Y6=kE.propertyIsEnumerable,X6=j0(function(){return arguments}())?j0:function(t){return G6(t)&&Q6.call(t,"callee")&&!Y6.call(t,"callee")},J6=X6,$u={exports:{}};function Z6(){return!1}var eM=Z6;$u.exports;(function(t,e){var n=pr,r=eM,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,d=l||r;t.exports=d})($u,$u.exports);var NE=$u.exports,tM=9007199254740991,nM=/^(?:0|[1-9]\d*)$/;function rM(t,e){var n=typeof t;return e=e??tM,!!e&&(n=="number"||n!="symbol"&&nM.test(t))&&t>-1&&t%1==0&&t<e}var iM=rM,sM=9007199254740991;function oM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sM}var PE=oM,aM=Uc,lM=PE,uM=zc,cM="[object Arguments]",dM="[object Array]",hM="[object Boolean]",fM="[object Date]",pM="[object Error]",mM="[object Function]",gM="[object Map]",yM="[object Number]",vM="[object Object]",_M="[object RegExp]",xM="[object Set]",wM="[object String]",bM="[object WeakMap]",EM="[object ArrayBuffer]",TM="[object DataView]",AM="[object Float32Array]",IM="[object Float64Array]",SM="[object Int8Array]",kM="[object Int16Array]",NM="[object Int32Array]",PM="[object Uint8Array]",CM="[object Uint8ClampedArray]",RM="[object Uint16Array]",OM="[object Uint32Array]",$e={};$e[AM]=$e[IM]=$e[SM]=$e[kM]=$e[NM]=$e[PM]=$e[CM]=$e[RM]=$e[OM]=!0;$e[cM]=$e[dM]=$e[EM]=$e[hM]=$e[TM]=$e[fM]=$e[pM]=$e[mM]=$e[gM]=$e[yM]=$e[vM]=$e[_M]=$e[xM]=$e[wM]=$e[bM]=!1;function jM(t){return uM(t)&&lM(t.length)&&!!$e[aM(t)]}var DM=jM;function LM(t){return function(e){return t(e)}}var MM=LM,Hu={exports:{}};Hu.exports;(function(t,e){var n=wE,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Hu,Hu.exports);var VM=Hu.exports,FM=DM,UM=MM,D0=VM,L0=D0&&D0.isTypedArray,qM=L0?UM(L0):FM,CE=qM,BM=q6,zM=J6,$M=Pm,HM=NE,KM=iM,WM=CE,GM=Object.prototype,QM=GM.hasOwnProperty;function YM(t,e){var n=$M(t),r=!n&&zM(t),i=!n&&!r&&HM(t),s=!n&&!r&&!i&&WM(t),o=n||r||i||s,a=o?BM(t.length,String):[],l=a.length;for(var d in t)(e||QM.call(t,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||KM(d,l)))&&a.push(d);return a}var XM=YM,JM=Object.prototype;function ZM(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||JM;return t===n}var e5=ZM;function t5(t,e){return function(n){return t(e(n))}}var n5=t5,r5=n5,i5=r5(Object.keys,Object),s5=i5,o5=e5,a5=s5,l5=Object.prototype,u5=l5.hasOwnProperty;function c5(t){if(!o5(t))return a5(t);var e=[];for(var n in Object(t))u5.call(t,n)&&n!="constructor"&&e.push(n);return e}var d5=c5,h5=TE,f5=PE;function p5(t){return t!=null&&f5(t.length)&&!h5(t)}var m5=p5,g5=XM,y5=d5,v5=m5;function _5(t){return v5(t)?g5(t):y5(t)}var x5=_5,w5=N6,b5=F6,E5=x5;function T5(t){return w5(t,E5,b5)}var A5=T5,M0=A5,I5=1,S5=Object.prototype,k5=S5.hasOwnProperty;function N5(t,e,n,r,i,s){var o=n&I5,a=M0(t),l=a.length,d=M0(e),f=d.length;if(l!=f&&!o)return!1;for(var h=l;h--;){var c=a[h];if(!(o?c in e:k5.call(e,c)))return!1}var p=s.get(t),w=s.get(e);if(p&&w)return p==e&&w==t;var _=!0;s.set(t,e),s.set(e,t);for(var b=o;++h<l;){c=a[h];var g=t[c],m=e[c];if(r)var x=o?r(m,g,c,e,t,s):r(g,m,c,t,e,s);if(!(x===void 0?g===m||i(g,m,n,r,s):x)){_=!1;break}b||(b=c=="constructor")}if(_&&!b){var v=t.constructor,k=e.constructor;v!=k&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof k=="function"&&k instanceof k)&&(_=!1)}return s.delete(t),s.delete(e),_}var P5=N5,C5=Gs,R5=pr,O5=C5(R5,"DataView"),j5=O5,D5=Gs,L5=pr,M5=D5(L5,"Promise"),V5=M5,F5=Gs,U5=pr,q5=F5(U5,"Set"),B5=q5,z5=Gs,$5=pr,H5=z5($5,"WeakMap"),K5=H5,Ef=j5,Tf=Nm,Af=V5,If=B5,Sf=K5,RE=Uc,Js=AE,V0="[object Map]",W5="[object Object]",F0="[object Promise]",U0="[object Set]",q0="[object WeakMap]",B0="[object DataView]",G5=Js(Ef),Q5=Js(Tf),Y5=Js(Af),X5=Js(If),J5=Js(Sf),pi=RE;(Ef&&pi(new Ef(new ArrayBuffer(1)))!=B0||Tf&&pi(new Tf)!=V0||Af&&pi(Af.resolve())!=F0||If&&pi(new If)!=U0||Sf&&pi(new Sf)!=q0)&&(pi=function(t){var e=RE(t),n=e==W5?t.constructor:void 0,r=n?Js(n):"";if(r)switch(r){case G5:return B0;case Q5:return V0;case Y5:return F0;case X5:return U0;case J5:return q0}return e});var Z5=pi,Zd=CL,e9=SE,t9=b6,n9=P5,z0=Z5,$0=Pm,H0=NE,r9=CE,i9=1,K0="[object Arguments]",W0="[object Array]",Il="[object Object]",s9=Object.prototype,G0=s9.hasOwnProperty;function o9(t,e,n,r,i,s){var o=$0(t),a=$0(e),l=o?W0:z0(t),d=a?W0:z0(e);l=l==K0?Il:l,d=d==K0?Il:d;var f=l==Il,h=d==Il,c=l==d;if(c&&H0(t)){if(!H0(e))return!1;o=!0,f=!1}if(c&&!f)return s||(s=new Zd),o||r9(t)?e9(t,e,n,r,i,s):t9(t,e,l,n,r,i,s);if(!(n&i9)){var p=f&&G0.call(t,"__wrapped__"),w=h&&G0.call(e,"__wrapped__");if(p||w){var _=p?t.value():t,b=w?e.value():e;return s||(s=new Zd),i(_,b,n,r,s)}}return c?(s||(s=new Zd),n9(t,e,n,r,i,s)):!1}var a9=o9,l9=a9,Q0=zc;function OE(t,e,n,r,i){return t===e?!0:t==null||e==null||!Q0(t)&&!Q0(e)?t!==t&&e!==e:l9(t,e,n,r,OE,i)}var u9=OE,c9=u9;function d9(t,e){return c9(t,e)}var h9=d9,jE={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Jt,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),d=i(46),f=i(47),h=i(48),c=i(49),p=i(12),w=i(32),_=i(33),b=i(31),g=i(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:f.default,Inline:d.default,Text:c.default,Attributor:{Attribute:p.default,Class:w.default,Style:_.default,Store:b.default}};r.default=m},function(n,r,i){var s=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var x in m)m.hasOwnProperty(x)&&(g[x]=m[x])};return function(g,m){b(g,m);function x(){this.constructor=g}g.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(b){s(g,b);function g(m){var x=this;return m="[Parchment] "+m,x=b.call(this,m)||this,x.message=m,x.name=x.constructor.name,x}return g}(Error);r.ParchmentError=o;var a={},l={},d={},f={};r.DATA_KEY="__blot";var h;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function c(b,g){var m=w(b);if(m==null)throw new o("Unable to create "+b+" blot");var x=m,v=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:x.create(g);return new x(v,g)}r.create=c;function p(b,g){return g===void 0&&(g=!1),b==null?null:b[r.DATA_KEY]!=null?b[r.DATA_KEY].blot:g?p(b.parentNode,g):null}r.find=p;function w(b,g){g===void 0&&(g=h.ANY);var m;if(typeof b=="string")m=f[b]||a[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)m=f.text;else if(typeof b=="number")b&h.LEVEL&h.BLOCK?m=f.block:b&h.LEVEL&h.INLINE&&(m=f.inline);else if(b instanceof HTMLElement){var x=(b.getAttribute("class")||"").split(/\s+/);for(var v in x)if(m=l[x[v]],m)break;m=m||d[b.tagName]}return m==null?null:g&h.LEVEL&m.scope&&g&h.TYPE&m.scope?m:null}r.query=w;function _(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];if(b.length>1)return b.map(function(v){return _(v)});var m=b[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(f[m.blotName||m.attrName]=m,typeof m.keyName=="string")a[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(v){return v.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var x=Array.isArray(m.tagName)?m.tagName:[m.tagName];x.forEach(function(v){(d[v]==null||m.className==null)&&(d[v]=m)})}return m}r.register=_},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),d="\0",f=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};f.prototype.insert=function(h,c){var p={};return h.length===0?this:(p.insert=h,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(p.attributes=c),this.push(p))},f.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},f.prototype.retain=function(h,c){if(h<=0)return this;var p={retain:h};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(p.attributes=c),this.push(p)},f.prototype.push=function(h){var c=this.ops.length,p=this.ops[c-1];if(h=a(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[c-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(c-=1,p=this.ops[c-1],typeof p!="object"))return this.ops.unshift(h),this;if(o(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[c-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[c-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[c-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[c-1].attributes=h.attributes),this}}return c===this.ops.length?this.ops.push(h):this.ops.splice(c,0,h),this},f.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},f.prototype.filter=function(h){return this.ops.filter(h)},f.prototype.forEach=function(h){this.ops.forEach(h)},f.prototype.map=function(h){return this.ops.map(h)},f.prototype.partition=function(h){var c=[],p=[];return this.forEach(function(w){var _=h(w)?c:p;_.push(w)}),[c,p]},f.prototype.reduce=function(h,c){return this.ops.reduce(h,c)},f.prototype.changeLength=function(){return this.reduce(function(h,c){return c.insert?h+l.length(c):c.delete?h-c.delete:h},0)},f.prototype.length=function(){return this.reduce(function(h,c){return h+l.length(c)},0)},f.prototype.slice=function(h,c){h=h||0,typeof c!="number"&&(c=1/0);for(var p=[],w=l.iterator(this.ops),_=0;_<c&&w.hasNext();){var b;_<h?b=w.next(h-_):(b=w.next(c-_),p.push(b)),_+=l.length(b)}return new f(p)},f.prototype.compose=function(h){var c=l.iterator(this.ops),p=l.iterator(h.ops),w=[],_=p.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){for(var b=_.retain;c.peekType()==="insert"&&c.peekLength()<=b;)b-=c.peekLength(),w.push(c.next());_.retain-b>0&&p.next(_.retain-b)}for(var g=new f(w);c.hasNext()||p.hasNext();)if(p.peekType()==="insert")g.push(p.next());else if(c.peekType()==="delete")g.push(c.next());else{var m=Math.min(c.peekLength(),p.peekLength()),x=c.next(m),v=p.next(m);if(typeof v.retain=="number"){var k={};typeof x.retain=="number"?k.retain=m:k.insert=x.insert;var O=l.attributes.compose(x.attributes,v.attributes,typeof x.retain=="number");if(O&&(k.attributes=O),g.push(k),!p.hasNext()&&o(g.ops[g.ops.length-1],k)){var S=new f(c.rest());return g.concat(S).chop()}}else typeof v.delete=="number"&&typeof x.retain=="number"&&g.push(v)}return g.chop()},f.prototype.concat=function(h){var c=new f(this.ops.slice());return h.ops.length>0&&(c.push(h.ops[0]),c.ops=c.ops.concat(h.ops.slice(1))),c},f.prototype.diff=function(h,c){if(this.ops===h.ops)return new f;var p=[this,h].map(function(m){return m.map(function(x){if(x.insert!=null)return typeof x.insert=="string"?x.insert:d;var v=m===h?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),w=new f,_=s(p[0],p[1],c),b=l.iterator(this.ops),g=l.iterator(h.ops);return _.forEach(function(m){for(var x=m[1].length;x>0;){var v=0;switch(m[0]){case s.INSERT:v=Math.min(g.peekLength(),x),w.push(g.next(v));break;case s.DELETE:v=Math.min(x,b.peekLength()),b.next(v),w.delete(v);break;case s.EQUAL:v=Math.min(b.peekLength(),g.peekLength(),x);var k=b.next(v),O=g.next(v);o(k.insert,O.insert)?w.retain(v,l.attributes.diff(k.attributes,O.attributes)):w.push(O).delete(v);break}x-=v}}),w.chop()},f.prototype.eachLine=function(h,c){c=c||`
`;for(var p=l.iterator(this.ops),w=new f,_=0;p.hasNext();){if(p.peekType()!=="insert")return;var b=p.peek(),g=l.length(b)-p.peekLength(),m=typeof b.insert=="string"?b.insert.indexOf(c,g)-g:-1;if(m<0)w.push(p.next());else if(m>0)w.push(p.next(m));else{if(h(w,p.next(1).attributes||{},_)===!1)return;_+=1,w=new f}}w.length()>0&&h(w,{},_)},f.prototype.transform=function(h,c){if(c=!!c,typeof h=="number")return this.transformPosition(h,c);for(var p=l.iterator(this.ops),w=l.iterator(h.ops),_=new f;p.hasNext()||w.hasNext();)if(p.peekType()==="insert"&&(c||w.peekType()!=="insert"))_.retain(l.length(p.next()));else if(w.peekType()==="insert")_.push(w.next());else{var b=Math.min(p.peekLength(),w.peekLength()),g=p.next(b),m=w.next(b);if(g.delete)continue;m.delete?_.push(m):_.retain(b,l.attributes.transform(g.attributes,m.attributes,c))}return _.chop()},f.prototype.transformPosition=function(h,c){c=!!c;for(var p=l.iterator(this.ops),w=0;p.hasNext()&&w<=h;){var _=p.peekLength(),b=p.peekType();if(p.next(),b==="delete"){h-=Math.min(_,h-w);continue}else b==="insert"&&(w<h||!c)&&(h+=_);w+=_}return h},n.exports=f},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},d=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var w=i.call(p,"constructor"),_=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!w&&!_)return!1;var b;for(b in p);return typeof b>"u"||i.call(p,b)},f=function(p,w){o&&w.name==="__proto__"?o(p,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):p[w.name]=w.newValue},h=function(p,w){if(w==="__proto__")if(i.call(p,w)){if(a)return a(p,w).value}else return;return p[w]};n.exports=function c(){var p,w,_,b,g,m,x=arguments[0],v=1,k=arguments.length,O=!1;for(typeof x=="boolean"&&(O=x,x=arguments[1]||{},v=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});v<k;++v)if(p=arguments[v],p!=null)for(w in p)_=h(x,w),b=h(p,w),x!==b&&(O&&b&&(d(b)||(g=l(b)))?(g?(g=!1,m=_&&l(_)?_:[]):m=_&&d(_)?_:{},f(x,{name:w,newValue:c(O,m,b)})):typeof b<"u"&&f(x,{name:w,newValue:b}));return x}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function A(P,C){for(var L=0;L<C.length;L++){var q=C[L];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(P,q.key,q)}}return function(P,C,L){return C&&A(P.prototype,C),L&&A(P,L),P}}(),o=function A(P,C,L){P===null&&(P=Function.prototype);var q=Object.getOwnPropertyDescriptor(P,C);if(q===void 0){var H=Object.getPrototypeOf(P);return H===null?void 0:A(H,C,L)}else{if("value"in q)return q.value;var K=q.get;return K===void 0?void 0:K.call(L)}},a=i(3),l=x(a),d=i(2),f=x(d),h=i(0),c=x(h),p=i(16),w=x(p),_=i(6),b=x(_),g=i(7),m=x(g);function x(A){return A&&A.__esModule?A:{default:A}}function v(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function k(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function O(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var S=1,E=function(A){O(P,A);function P(){return v(this,P),k(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"attach",value:function(){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,q){var H=c.default.query(L,c.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,q)}},{key:"formatAt",value:function(L,q,H,K){this.format(H,K)}},{key:"insertAt",value:function(L,q,H){if(typeof q=="string"&&q.endsWith(`
`)){var K=c.default.create(N.blotName);this.parent.insertBefore(K,L===0?this:this.next),K.insertAt(0,q.slice(0,-1))}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,L,q,H)}}]),P}(c.default.Embed);E.scope=c.default.Scope.BLOCK_BLOT;var N=function(A){O(P,A);function P(C){v(this,P);var L=k(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,C));return L.cache={},L}return s(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(L,q){return q.length()===0?L:L.insert(q.value(),T(q))},new f.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(L,q){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,L,q),this.cache={}}},{key:"formatAt",value:function(L,q,H,K){q<=0||(c.default.query(H,c.default.Scope.BLOCK)?L+q===this.length()&&this.format(H,K):o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,L,Math.min(q,this.length()-L-1),H,K),this.cache={})}},{key:"insertAt",value:function(L,q,H){if(H!=null)return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,L,q,H);if(q.length!==0){var K=q.split(`
`),G=K.shift();G.length>0&&(L<this.length()-1||this.children.tail==null?o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var B=this;K.reduce(function(F,j){return B=B.split(F,!0),B.insertAt(0,j),j.length},L+G.length)}}},{key:"insertBefore",value:function(L,q){var H=this.children.head;o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,L,q),H instanceof w.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(L,q){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,L,q),this.cache={}}},{key:"optimize",value:function(L){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q&&(L===0||L>=this.length()-S)){var H=this.clone();return L===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var K=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,L,q);return this.cache={},K}}}]),P}(c.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[b.default,c.default.Embed,m.default];function T(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(P=(0,l.default)(P,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?P:T(A.parent,P)}r.bubbleFormats=T,r.BlockEmbed=E,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o=function(){function B(F,j){var M=[],U=!0,W=!1,$=void 0;try{for(var V=F[Symbol.iterator](),z;!(U=(z=V.next()).done)&&(M.push(z.value),!(j&&M.length===j));U=!0);}catch(Y){W=!0,$=Y}finally{try{!U&&V.return&&V.return()}finally{if(W)throw $}}return M}return function(F,j){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return B(F,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(F,j){for(var M=0;M<j.length;M++){var U=j[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}return function(F,j,M){return j&&B(F.prototype,j),M&&B(F,M),F}}();i(50);var l=i(2),d=T(l),f=i(14),h=T(f),c=i(8),p=T(c),w=i(9),_=T(w),b=i(0),g=T(b),m=i(15),x=T(m),v=i(3),k=T(v),O=i(10),S=T(O),E=i(34),N=T(E);function T(B){return B&&B.__esModule?B:{default:B}}function A(B,F,j){return F in B?Object.defineProperty(B,F,{value:j,enumerable:!0,configurable:!0,writable:!0}):B[F]=j,B}function P(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}var C=(0,S.default)("quill"),L=function(){a(B,null,[{key:"debug",value:function(j){j===!0&&(j="log"),S.default.level(j)}},{key:"find",value:function(j){return j.__quill||g.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&C.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,M){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var $=j.attrName||j.blotName;typeof $=="string"?this.register("formats/"+$,j,M):Object.keys(j).forEach(function(V){U.register(V,j[V],M)})}else this.imports[j]!=null&&!W&&C.warn("Overwriting "+j+" with",M),this.imports[j]=M,(j.startsWith("blots/")||j.startsWith("formats/"))&&M.blotName!=="abstract"?g.default.register(M):j.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function B(F){var j=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,B),this.options=q(F,M),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",F);this.options.debug&&B.debug(this.options.debug);var U=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function($){$===p.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function($,V){var z=j.selection.lastRange,Y=z&&z.length===0?z.index:void 0;H.call(j,function(){return j.editor.update(null,V,Y)},$)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+U+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(B,[{key:"addContainer",value:function(j){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var U=j;j=document.createElement("div"),j.classList.add(U)}return this.container.insertBefore(j,M),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,M,U){var W=this,$=K(j,M,U),V=o($,4);return j=V[0],M=V[1],U=V[3],H.call(this,function(){return W.editor.deleteText(j,M)},U,j,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,M){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return H.call(this,function(){var $=U.getSelection(!0),V=new d.default;if($==null)return V;if(g.default.query(j,g.default.Scope.BLOCK))V=U.editor.formatLine($.index,$.length,A({},j,M));else{if($.length===0)return U.selection.format(j,M),V;V=U.editor.formatText($.index,$.length,A({},j,M))}return U.setSelection($,p.default.sources.SILENT),V},W)}},{key:"formatLine",value:function(j,M,U,W,$){var V=this,z=void 0,Y=K(j,M,U,W,$),X=o(Y,4);return j=X[0],M=X[1],z=X[2],$=X[3],H.call(this,function(){return V.editor.formatLine(j,M,z)},$,j,0)}},{key:"formatText",value:function(j,M,U,W,$){var V=this,z=void 0,Y=K(j,M,U,W,$),X=o(Y,4);return j=X[0],M=X[1],z=X[2],$=X[3],H.call(this,function(){return V.editor.formatText(j,M,z)},$,j,0)}},{key:"getBounds",value:function(j){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=void 0;typeof j=="number"?U=this.selection.getBounds(j,M):U=this.selection.getBounds(j.index,j.length);var W=this.container.getBoundingClientRect();return{bottom:U.bottom-W.top,height:U.height,left:U.left-W.left,right:U.right-W.left,top:U.top-W.top,width:U.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,U=K(j,M),W=o(U,2);return j=W[0],M=W[1],this.editor.getContents(j,M)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,M):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,M)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,U=K(j,M),W=o(U,2);return j=W[0],M=W[1],this.editor.getText(j,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,M,U){var W=this,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return H.call(this,function(){return W.editor.insertEmbed(j,M,U)},$,j)}},{key:"insertText",value:function(j,M,U,W,$){var V=this,z=void 0,Y=K(j,0,U,W,$),X=o(Y,4);return j=X[0],z=X[2],$=X[3],H.call(this,function(){return V.editor.insertText(j,M,z)},$,j,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,M,U){this.clipboard.dangerouslyPasteHTML(j,M,U)}},{key:"removeFormat",value:function(j,M,U){var W=this,$=K(j,M,U),V=o($,4);return j=V[0],M=V[1],U=V[3],H.call(this,function(){return W.editor.removeFormat(j,M)},U,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var M=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){j=new d.default(j);var W=M.getLength(),$=M.editor.deleteText(0,W),V=M.editor.applyDelta(j),z=V.ops[V.ops.length-1];z!=null&&typeof z.insert=="string"&&z.insert[z.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),V.delete(1));var Y=$.compose(V);return Y},U)}},{key:"setSelection",value:function(j,M,U){if(j==null)this.selection.setRange(null,M||B.sources.API);else{var W=K(j,M,U),$=o(W,4);j=$[0],M=$[1],U=$[3],this.selection.setRange(new m.Range(j,M),U),U!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,U=new d.default().insert(j);return this.setContents(U,M)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,M=this.scroll.update(j);return this.selection.update(j),M}},{key:"updateContents",value:function(j){var M=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){return j=new d.default(j),M.editor.applyDelta(j,U)},U,!0)}}]),B}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:d.default,parchment:g.default,"core/module":_.default,"core/theme":N.default};function q(B,F){if(F=(0,k.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===L.DEFAULTS.theme)F.theme=N.default;else if(F.theme=L.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var j=(0,k.default)(!0,{},F.theme.DEFAULTS);[j,F].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function($){W.modules[$]===!0&&(W.modules[$]={})})});var M=Object.keys(j.modules).concat(Object.keys(F.modules)),U=M.reduce(function(W,$){var V=L.import("modules/"+$);return V==null?C.error("Cannot load "+$+" module. Are you sure you registered it?"):W[$]=V.DEFAULTS||{},W},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,k.default)(!0,{},L.DEFAULTS,{modules:U},j,F),["bounds","container","scrollingContainer"].forEach(function(W){typeof F[W]=="string"&&(F[W]=document.querySelector(F[W]))}),F.modules=Object.keys(F.modules).reduce(function(W,$){return F.modules[$]&&(W[$]=F.modules[$]),W},{}),F}function H(B,F,j,M){if(this.options.strict&&!this.isEnabled()&&F===p.default.sources.USER)return new d.default;var U=j==null?null:this.getSelection(),W=this.editor.delta,$=B();if(U!=null&&(j===!0&&(j=U.index),M==null?U=G(U,$,F):M!==0&&(U=G(U,j,M,F)),this.setSelection(U,p.default.sources.SILENT)),$.length()>0){var V,z=[p.default.events.TEXT_CHANGE,$,W,F];if((V=this.emitter).emit.apply(V,[p.default.events.EDITOR_CHANGE].concat(z)),F!==p.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,z)}}return $}function K(B,F,j,M,U){var W={};return typeof B.index=="number"&&typeof B.length=="number"?typeof F!="number"?(U=M,M=j,j=F,F=B.length,B=B.index):(F=B.length,B=B.index):typeof F!="number"&&(U=M,M=j,j=F,F=0),(typeof j>"u"?"undefined":s(j))==="object"?(W=j,U=M):typeof j=="string"&&(M!=null?W[j]=M:U=j),U=U||p.default.sources.API,[B,F,W,U]}function G(B,F,j,M){if(B==null)return null;var U=void 0,W=void 0;if(F instanceof d.default){var $=[B.index,B.index+B.length].map(function(X){return F.transformPosition(X,M!==p.default.sources.USER)}),V=o($,2);U=V[0],W=V[1]}else{var z=[B.index,B.index+B.length].map(function(X){return X<F||X===F&&M===p.default.sources.USER?X:j>=0?X+j:Math.max(F,X+j)}),Y=o(z,2);U=Y[0],W=Y[1]}return new m.Range(U,W-U)}r.expandConfig=q,r.overload=K,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(g,m){for(var x=0;x<m.length;x++){var v=m[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,x){return m&&b(g.prototype,m),x&&b(g,x),g}}(),o=function b(g,m,x){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:b(k,m,x)}else{if("value"in v)return v.value;var O=v.get;return O===void 0?void 0:O.call(x)}},a=i(7),l=h(a),d=i(0),f=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function c(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function p(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function w(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var _=function(b){w(g,b);function g(){return c(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"formatAt",value:function(x,v,k,O){if(g.compare(this.statics.blotName,k)<0&&f.default.query(k,f.default.Scope.BLOT)){var S=this.isolate(x,v);O&&S.wrap(k,O)}else o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,x,v,k,O)}},{key:"optimize",value:function(x){if(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,x),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(x,v){var k=g.order.indexOf(x),O=g.order.indexOf(v);return k>=0||O>=0?k-O:x===v?0:x<v?-1:1}}]),g}(f.default.Inline);_.allowedChildren=[_,f.default.Embed,l.default],_.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function d(c,p){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:c}function f(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(c,p):c.__proto__=p)}var h=function(c){f(p,c);function p(){return l(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(x,v){for(var k=0;k<v.length;k++){var O=v[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,v,k){return v&&m(x.prototype,v),k&&m(x,k),x}}(),o=function m(x,v,k){x===null&&(x=Function.prototype);var O=Object.getOwnPropertyDescriptor(x,v);if(O===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:m(S,v,k)}else{if("value"in O)return O.value;var E=O.get;return E===void 0?void 0:E.call(k)}},a=i(54),l=h(a),d=i(10),f=h(d);function h(m){return m&&m.__esModule?m:{default:m}}function c(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function p(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function w(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var _=(0,f.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(m){document.addEventListener(m,function(){for(var x=arguments.length,v=Array(x),k=0;k<x;k++)v[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var S;(S=O.__quill.emitter).handleDOM.apply(S,v)}})})});var g=function(m){w(x,m);function x(){c(this,x);var v=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return v.listeners={},v.on("error",_.error),v}return s(x,[{key:"emit",value:function(){_.log.apply(_,arguments),o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var O=arguments.length,S=Array(O>1?O-1:0),E=1;E<O;E++)S[E-1]=arguments[E];(this.listeners[k.type]||[]).forEach(function(N){var T=N.node,A=N.handler;(k.target===T||T.contains(k.target))&&A.apply(void 0,[k].concat(S))})}},{key:"listenDOM",value:function(k,O,S){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:O,handler:S})}}]),x}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=d};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(d){if(s.indexOf(d)<=s.indexOf(o)){for(var f,h=arguments.length,c=Array(h>1?h-1:0),p=1;p<h;p++)c[p-1]=arguments[p];(f=console)[d].apply(f,c)}}function l(d){return s.reduce(function(f,h){return f[h]=a.bind(console,h,d),f},{})}a.level=l.level=function(d){o=d},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(c,p,w){return w||(w={}),c===p?!0:c instanceof Date&&p instanceof Date?c.getTime()===p.getTime():!c||!p||typeof c!="object"&&typeof p!="object"?w.strict?c===p:c==p:h(c,p,w)};function d(c){return c==null}function f(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function h(c,p,w){var _,b;if(d(c)||d(p)||c.prototype!==p.prototype)return!1;if(a(c))return a(p)?(c=s.call(c),p=s.call(p),l(c,p,w)):!1;if(f(c)){if(!f(p)||c.length!==p.length)return!1;for(_=0;_<c.length;_++)if(c[_]!==p[_])return!1;return!0}try{var g=o(c),m=o(p)}catch{return!1}if(g.length!=m.length)return!1;for(g.sort(),m.sort(),_=g.length-1;_>=0;_--)if(g[_]!=m[_])return!1;for(_=g.length-1;_>=0;_--)if(b=g[_],!l(c[b],p[b],w))return!1;return typeof c==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,d,f){f===void 0&&(f={}),this.attrName=l,this.keyName=d;var h=s.Scope.TYPE&s.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&s.Scope.LEVEL|h:this.scope=s.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(d){return d.name})},a.prototype.add=function(l,d){return this.canAdd(l,d)?(l.setAttribute(this.keyName,d),!0):!1},a.prototype.canAdd=function(l,d){var f=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var d=l.getAttribute(this.keyName);return this.canAdd(l,d)&&d?d:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function E(N,T){var A=[],P=!0,C=!1,L=void 0;try{for(var q=N[Symbol.iterator](),H;!(P=(H=q.next()).done)&&(A.push(H.value),!(T&&A.length===T));P=!0);}catch(K){C=!0,L=K}finally{try{!P&&q.return&&q.return()}finally{if(C)throw L}}return A}return function(N,T){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return E(N,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(N,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(N,P.key,P)}}return function(N,T,A){return T&&E(N.prototype,T),A&&E(N,A),N}}(),a=function E(N,T,A){N===null&&(N=Function.prototype);var P=Object.getOwnPropertyDescriptor(N,T);if(P===void 0){var C=Object.getPrototypeOf(N);return C===null?void 0:E(C,T,A)}else{if("value"in P)return P.value;var L=P.get;return L===void 0?void 0:L.call(A)}},l=i(2),d=m(l),f=i(0),h=m(f),c=i(4),p=m(c),w=i(6),_=m(w),b=i(7),g=m(b);function m(E){return E&&E.__esModule?E:{default:E}}function x(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}function v(E,N){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:E}function k(E,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(E,N):E.__proto__=N)}var O=function(E){k(N,E);function N(){return x(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(_.default);O.blotName="code",O.tagName="CODE";var S=function(E){k(N,E);function N(){return x(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"delta",value:function(){var A=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(C,L){return C.insert(L).insert(`
`,A.formats())},new d.default)}},{key:"format",value:function(A,P){if(!(A===this.statics.blotName&&P)){var C=this.descendant(g.default,this.length()-1),L=s(C,1),q=L[0];q!=null&&q.deleteAt(q.length()-1,1),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,A,P)}}},{key:"formatAt",value:function(A,P,C,L){if(P!==0&&!(h.default.query(C,h.default.Scope.BLOCK)==null||C===this.statics.blotName&&L===this.statics.formats(this.domNode))){var q=this.newlineIndex(A);if(!(q<0||q>=A+P)){var H=this.newlineIndex(A,!0)+1,K=q-H+1,G=this.isolate(H,K),B=G.next;G.format(C,L),B instanceof N&&B.formatAt(0,A-H+P-K,C,L)}}}},{key:"insertAt",value:function(A,P,C){if(C==null){var L=this.descendant(g.default,A),q=s(L,2),H=q[0],K=q[1];H.insertAt(K,P)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var C=this.domNode.textContent.slice(A).indexOf(`
`);return C>-1?A+C:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,A);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(A),P.moveChildren(this),P.remove())}},{key:"replace",value:function(A){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var C=h.default.find(P);C==null?P.parentNode.removeChild(P):C instanceof h.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(A){var P=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,A);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),N}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=O,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o=function(){function B(F,j){var M=[],U=!0,W=!1,$=void 0;try{for(var V=F[Symbol.iterator](),z;!(U=(z=V.next()).done)&&(M.push(z.value),!(j&&M.length===j));U=!0);}catch(Y){W=!0,$=Y}finally{try{!U&&V.return&&V.return()}finally{if(W)throw $}}return M}return function(F,j){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return B(F,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(F,j){for(var M=0;M<j.length;M++){var U=j[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}return function(F,j,M){return j&&B(F.prototype,j),M&&B(F,M),F}}(),l=i(2),d=P(l),f=i(20),h=P(f),c=i(0),p=P(c),w=i(13),_=P(w),b=i(24),g=P(b),m=i(4),x=P(m),v=i(16),k=P(v),O=i(21),S=P(O),E=i(11),N=P(E),T=i(3),A=P(T);function P(B){return B&&B.__esModule?B:{default:B}}function C(B,F,j){return F in B?Object.defineProperty(B,F,{value:j,enumerable:!0,configurable:!0,writable:!0}):B[F]=j,B}function L(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}var q=/^[ -~]*$/,H=function(){function B(F){L(this,B),this.scroll=F,this.delta=this.getDelta()}return a(B,[{key:"applyDelta",value:function(j){var M=this,U=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),j=G(j),j.reduce(function($,V){var z=V.retain||V.delete||V.insert.length||1,Y=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var X=V.insert;X.endsWith(`
`)&&U&&(U=!1,X=X.slice(0,-1)),$>=W&&!X.endsWith(`
`)&&(U=!0),M.scroll.insertAt($,X);var ne=M.scroll.line($),ue=o(ne,2),ye=ue[0],xe=ue[1],Ie=(0,A.default)({},(0,m.bubbleFormats)(ye));if(ye instanceof x.default){var Re=ye.descendant(p.default.Leaf,xe),yt=o(Re,1),nt=yt[0];Ie=(0,A.default)(Ie,(0,m.bubbleFormats)(nt))}Y=h.default.attributes.diff(Ie,Y)||{}}else if(s(V.insert)==="object"){var Z=Object.keys(V.insert)[0];if(Z==null)return $;M.scroll.insertAt($,Z,V.insert[Z])}W+=z}return Object.keys(Y).forEach(function(ee){M.scroll.formatAt($,z,ee,Y[ee])}),$+z},0),j.reduce(function($,V){return typeof V.delete=="number"?(M.scroll.deleteAt($,V.delete),$):$+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,M){return this.scroll.deleteAt(j,M),this.update(new d.default().retain(j).delete(M))}},{key:"formatLine",value:function(j,M){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function($){if(!(U.scroll.whitelist!=null&&!U.scroll.whitelist[$])){var V=U.scroll.lines(j,Math.max(M,1)),z=M;V.forEach(function(Y){var X=Y.length();if(!(Y instanceof _.default))Y.format($,W[$]);else{var ne=j-Y.offset(U.scroll),ue=Y.newlineIndex(ne+z)-ne+1;Y.formatAt(ne,ue,$,W[$])}z-=X})}}),this.scroll.optimize(),this.update(new d.default().retain(j).retain(M,(0,S.default)(W)))}},{key:"formatText",value:function(j,M){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function($){U.scroll.formatAt(j,M,$,W[$])}),this.update(new d.default().retain(j).retain(M,(0,S.default)(W)))}},{key:"getContents",value:function(j,M){return this.delta.slice(j,j+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,M){return j.concat(M.delta())},new d.default)}},{key:"getFormat",value:function(j){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=[],W=[];M===0?this.scroll.path(j).forEach(function(V){var z=o(V,1),Y=z[0];Y instanceof x.default?U.push(Y):Y instanceof p.default.Leaf&&W.push(Y)}):(U=this.scroll.lines(j,M),W=this.scroll.descendants(p.default.Leaf,j,M));var $=[U,W].map(function(V){if(V.length===0)return{};for(var z=(0,m.bubbleFormats)(V.shift());Object.keys(z).length>0;){var Y=V.shift();if(Y==null)return z;z=K((0,m.bubbleFormats)(Y),z)}return z});return A.default.apply(A.default,$)}},{key:"getText",value:function(j,M){return this.getContents(j,M).filter(function(U){return typeof U.insert=="string"}).map(function(U){return U.insert}).join("")}},{key:"insertEmbed",value:function(j,M,U){return this.scroll.insertAt(j,M,U),this.update(new d.default().retain(j).insert(C({},M,U)))}},{key:"insertText",value:function(j,M){var U=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,M),Object.keys(W).forEach(function($){U.scroll.formatAt(j,M.length,$,W[$])}),this.update(new d.default().retain(j).insert(M,(0,S.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==x.default.blotName||j.children.length>1?!1:j.children.head instanceof k.default}},{key:"removeFormat",value:function(j,M){var U=this.getText(j,M),W=this.scroll.line(j+M),$=o(W,2),V=$[0],z=$[1],Y=0,X=new d.default;V!=null&&(V instanceof _.default?Y=V.newlineIndex(z)-z+1:Y=V.length()-z,X=V.delta().slice(z,z+Y-1).insert(`
`));var ne=this.getContents(j,M+Y),ue=ne.diff(new d.default().insert(U).concat(X)),ye=new d.default().retain(j).concat(ue);return this.applyDelta(ye)}},{key:"update",value:function(j){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(q)&&p.default.find(M[0].target)){var $=p.default.find(M[0].target),V=(0,m.bubbleFormats)($),z=$.offset(this.scroll),Y=M[0].oldValue.replace(g.default.CONTENTS,""),X=new d.default().insert(Y),ne=new d.default().insert($.value()),ue=new d.default().retain(z).concat(X.diff(ne,U));j=ue.reduce(function(ye,xe){return xe.insert?ye.insert(xe.insert,V):ye.push(xe)},new d.default),this.delta=W.compose(j)}else this.delta=this.getDelta(),(!j||!(0,N.default)(W.compose(j),this.delta))&&(j=W.diff(this.delta,U));return j}}]),B}();function K(B,F){return Object.keys(F).reduce(function(j,M){return B[M]==null||(F[M]===B[M]?j[M]=F[M]:Array.isArray(F[M])?F[M].indexOf(B[M])<0&&(j[M]=F[M].concat([B[M]])):j[M]=[F[M],B[M]]),j},{})}function G(B){return B.reduce(function(F,j){if(j.insert===1){var M=(0,S.default)(j.attributes);return delete M.image,F.insert({image:j.attributes.image},M)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,S.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var U=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(U,j.attributes)}return F.push(j)},new d.default)}r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function E(N,T){var A=[],P=!0,C=!1,L=void 0;try{for(var q=N[Symbol.iterator](),H;!(P=(H=q.next()).done)&&(A.push(H.value),!(T&&A.length===T));P=!0);}catch(K){C=!0,L=K}finally{try{!P&&q.return&&q.return()}finally{if(C)throw L}}return A}return function(N,T){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return E(N,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(N,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(N,P.key,P)}}return function(N,T,A){return T&&E(N.prototype,T),A&&E(N,A),N}}(),a=i(0),l=g(a),d=i(21),f=g(d),h=i(11),c=g(h),p=i(8),w=g(p),_=i(10),b=g(_);function g(E){return E&&E.__esModule?E:{default:E}}function m(E){if(Array.isArray(E)){for(var N=0,T=Array(E.length);N<E.length;N++)T[N]=E[N];return T}else return Array.from(E)}function x(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}var v=(0,b.default)("quill:selection"),k=function E(N){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;x(this,E),this.index=N,this.length=T},O=function(){function E(N,T){var A=this;x(this,E),this.emitter=T,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(P,C){P===w.default.events.TEXT_CHANGE&&C.length()>0&&A.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var P=A.getNativeRange();P!=null&&P.start.node!==A.cursor.textNode&&A.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(P,C){if(C.range){var L=C.range,q=L.startNode,H=L.startOffset,K=L.endNode,G=L.endOffset;A.setNativeRange(q,H,K,G)}}),this.update(w.default.sources.SILENT)}return o(E,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var A=T.cursor.restore();if(!A)return;setTimeout(function(){T.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var C=l.default.find(P.start.node,!1);if(C==null)return;if(C instanceof l.default.Leaf){var L=C.split(P.start.offset);C.parent.insertBefore(this.cursor,L)}else C.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(T,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();T=Math.min(T,P-1),A=Math.min(T+A,P-1)-T;var C=void 0,L=this.scroll.leaf(T),q=s(L,2),H=q[0],K=q[1];if(H==null)return null;var G=H.position(K,!0),B=s(G,2);C=B[0],K=B[1];var F=document.createRange();if(A>0){F.setStart(C,K);var j=this.scroll.leaf(T+A),M=s(j,2);if(H=M[0],K=M[1],H==null)return null;var U=H.position(K,!0),W=s(U,2);return C=W[0],K=W[1],F.setEnd(C,K),F.getBoundingClientRect()}else{var $="left",V=void 0;return C instanceof Text?(K<C.data.length?(F.setStart(C,K),F.setEnd(C,K+1)):(F.setStart(C,K-1),F.setEnd(C,K),$="right"),V=F.getBoundingClientRect()):(V=H.domNode.getBoundingClientRect(),K>0&&($="right")),{bottom:V.top+V.height,height:V.height,left:V[$],right:V[$],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var A=T.getRangeAt(0);if(A==null)return null;var P=this.normalizeNative(A);return v.info("getNativeRange",P),P}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var A=this.normalizedToRange(T);return[A,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var A=this,P=[[T.start.node,T.start.offset]];T.native.collapsed||P.push([T.end.node,T.end.offset]);var C=P.map(function(H){var K=s(H,2),G=K[0],B=K[1],F=l.default.find(G,!0),j=F.offset(A.scroll);return B===0?j:F instanceof l.default.Container?j+F.length():j+F.index(G,B)}),L=Math.min(Math.max.apply(Math,m(C)),this.scroll.length()-1),q=Math.min.apply(Math,[L].concat(m(C)));return new k(q,L-q)}},{key:"normalizeNative",value:function(T){if(!S(this.root,T.startContainer)||!T.collapsed&&!S(this.root,T.endContainer))return null;var A={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[A.start,A.end].forEach(function(P){for(var C=P.node,L=P.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>L)C=C.childNodes[L],L=0;else if(C.childNodes.length===L)C=C.lastChild,L=C instanceof Text?C.data.length:C.childNodes.length+1;else break;P.node=C,P.offset=L}),A}},{key:"rangeToNative",value:function(T){var A=this,P=T.collapsed?[T.index]:[T.index,T.index+T.length],C=[],L=this.scroll.length();return P.forEach(function(q,H){q=Math.min(L-1,q);var K=void 0,G=A.scroll.leaf(q),B=s(G,2),F=B[0],j=B[1],M=F.position(j,H!==0),U=s(M,2);K=U[0],j=U[1],C.push(K,j)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(T){var A=this.lastRange;if(A!=null){var P=this.getBounds(A.index,A.length);if(P!=null){var C=this.scroll.length()-1,L=this.scroll.line(Math.min(A.index,C)),q=s(L,1),H=q[0],K=H;if(A.length>0){var G=this.scroll.line(Math.min(A.index+A.length,C)),B=s(G,1);K=B[0]}if(!(H==null||K==null)){var F=T.getBoundingClientRect();P.top<F.top?T.scrollTop-=F.top-P.top:P.bottom>F.bottom&&(T.scrollTop+=P.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(T,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",T,A,P,C),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||P.parentNode==null))){var q=document.getSelection();if(q!=null)if(T!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||L||T!==H.startContainer||A!==H.startOffset||P!==H.endContainer||C!==H.endOffset){T.tagName=="BR"&&(A=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),P.tagName=="BR"&&(C=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var K=document.createRange();K.setStart(T,A),K.setEnd(P,C),q.removeAllRanges(),q.addRange(K)}}else q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof A=="string"&&(P=A,A=!1),v.info("setRange",T),T!=null){var C=this.rangeToNative(T);this.setNativeRange.apply(this,m(C).concat([A]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,A=this.lastRange,P=this.getRange(),C=s(P,2),L=C[0],q=C[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(A,this.lastRange)){var H;!this.composing&&q!=null&&q.native.collapsed&&q.start.node!==this.cursor.textNode&&this.cursor.restore();var K=[w.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(A),T];if((H=this.emitter).emit.apply(H,[w.default.events.EDITOR_CHANGE].concat(K)),T!==w.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,K)}}}}]),E}();function S(E,N){try{N.parentNode}catch{return!1}return N instanceof Text&&(N=N.parentNode),E.contains(N)}r.Range=k,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(_,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,b,g){return b&&w(_.prototype,b),g&&w(_,g),_}}(),o=function w(_,b,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,b);if(m===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:w(x,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(0),l=d(a);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function h(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function c(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var p=function(w){c(_,w);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"insertInto",value:function(g,m){g.children.length===0?o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertInto",this).call(this,g,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),_}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var w in p)p.hasOwnProperty(w)&&(c[w]=p[w])};return function(c,p){h(c,p);function w(){this.constructor=c}c.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),d=function(h){s(c,h);function c(p){var w=h.call(this,p)||this;return w.build(),w}return c.prototype.appendChild=function(p){this.insertBefore(p)},c.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},c.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var _=f(w);p.insertBefore(_,p.children.head||void 0)}catch(b){if(b instanceof l.ParchmentError)return;throw b}})},c.prototype.deleteAt=function(p,w){if(p===0&&w===this.length())return this.remove();this.children.forEachAt(p,w,function(_,b,g){_.deleteAt(b,g)})},c.prototype.descendant=function(p,w){var _=this.children.find(w),b=_[0],g=_[1];return p.blotName==null&&p(b)||p.blotName!=null&&b instanceof p?[b,g]:b instanceof c?b.descendant(p,g):[null,-1]},c.prototype.descendants=function(p,w,_){w===void 0&&(w=0),_===void 0&&(_=Number.MAX_VALUE);var b=[],g=_;return this.children.forEachAt(w,_,function(m,x,v){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&b.push(m),m instanceof c&&(b=b.concat(m.descendants(p,x,g))),g-=v}),b},c.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},c.prototype.formatAt=function(p,w,_,b){this.children.forEachAt(p,w,function(g,m,x){g.formatAt(m,x,_,b)})},c.prototype.insertAt=function(p,w,_){var b=this.children.find(p),g=b[0],m=b[1];if(g)g.insertAt(m,w,_);else{var x=_==null?l.create("text",w):l.create(w,_);this.appendChild(x)}},c.prototype.insertBefore=function(p,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(_){return p instanceof _}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,w)},c.prototype.length=function(){return this.children.reduce(function(p,w){return p+w.length()},0)},c.prototype.moveChildren=function(p,w){this.children.forEach(function(_){p.insertBefore(_,w)})},c.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var w=l.create(this.statics.defaultChild);this.appendChild(w),w.optimize(p)}else this.remove()},c.prototype.path=function(p,w){w===void 0&&(w=!1);var _=this.children.find(p,w),b=_[0],g=_[1],m=[[this,p]];return b instanceof c?m.concat(b.path(g,w)):(b!=null&&m.push([b,g]),m)},c.prototype.removeChild=function(p){this.children.remove(p)},c.prototype.replace=function(p){p instanceof c&&p.moveChildren(this),h.prototype.replace.call(this,p)},c.prototype.split=function(p,w){if(w===void 0&&(w=!1),!w){if(p===0)return this;if(p===this.length())return this.next}var _=this.clone();return this.parent.insertBefore(_,this.next),this.children.forEachAt(p,this.length(),function(b,g,m){b=b.split(g,w),_.appendChild(b)}),_},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(p,w){var _=this,b=[],g=[];p.forEach(function(m){m.target===_.domNode&&m.type==="childList"&&(b.push.apply(b,m.addedNodes),g.push.apply(g,m.removedNodes))}),g.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=l.find(m);x!=null&&(x.domNode.parentNode==null||x.domNode.parentNode===_.domNode)&&x.detach()}}),b.filter(function(m){return m.parentNode==_.domNode}).sort(function(m,x){return m===x?0:m.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var x=null;m.nextSibling!=null&&(x=l.find(m.nextSibling));var v=f(m);(v.next!=x||v.next==null)&&(v.parent!=null&&v.parent.removeChild(_),_.insertBefore(v,x||void 0))})},c}(a.default);function f(h){var c=l.find(h);if(c==null)try{c=l.create(h)}catch{c=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(w){c.domNode.appendChild(w)}),h.parentNode&&h.parentNode.replaceChild(c.domNode,h),c.attach()}return c}r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var w in p)p.hasOwnProperty(w)&&(c[w]=p[w])};return function(c,p){h(c,p);function w(){this.constructor=c}c.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),d=i(1),f=function(h){s(c,h);function c(p){var w=h.call(this,p)||this;return w.attributes=new a.default(w.domNode),w}return c.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},c.prototype.format=function(p,w){var _=d.query(p);_ instanceof o.default?this.attributes.attribute(_,w):w&&_!=null&&(p!==this.statics.blotName||this.formats()[p]!==w)&&this.replaceWith(p,w)},c.prototype.formats=function(){var p=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(p[this.statics.blotName]=w),p},c.prototype.replaceWith=function(p,w){var _=h.prototype.replaceWith.call(this,p,w);return this.attributes.copy(_),_},c.prototype.update=function(p,w){var _=this;h.prototype.update.call(this,p,w),p.some(function(b){return b.target===_.domNode&&b.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(p,w){var _=h.prototype.wrap.call(this,p,w);return _ instanceof c&&_.statics.scope===this.statics.scope&&this.attributes.move(_),_},c}(l.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){d(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.value=function(h){return!0},f.prototype.index=function(h,c){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},f.prototype.position=function(h,c){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},f.scope=a.Scope.INLINE_BLOT,f}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(d,f,h){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});var c=o(!0,{},f);h||(c=Object.keys(c).reduce(function(w,_){return c[_]!=null&&(w[_]=c[_]),w},{}));for(var p in d)d[p]!==void 0&&f[p]===void 0&&(c[p]=d[p]);return Object.keys(c).length>0?c:void 0},diff:function(d,f){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});var h=Object.keys(d).concat(Object.keys(f)).reduce(function(c,p){return s(d[p],f[p])||(c[p]=f[p]===void 0?null:f[p]),c},{});return Object.keys(h).length>0?h:void 0},transform:function(d,f,h){if(typeof d!="object")return f;if(typeof f=="object"){if(!h)return f;var c=Object.keys(f).reduce(function(p,w){return d[w]===void 0&&(p[w]=f[w]),p},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(d){return new l(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function l(d){this.ops=d,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(d){d||(d=1/0);var f=this.ops[this.index];if(f){var h=this.offset,c=a.length(f);if(d>=c-h?(d=c-h,this.index+=1,this.offset=0):this.offset+=d,typeof f.delete=="number")return{delete:d};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=d:typeof f.insert=="string"?p.insert=f.insert.substr(h,d):p.insert=f.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,f=this.index,h=this.next(),c=this.ops.slice(this.index);return this.offset=d,this.index=f,[h].concat(c)}else return[]},n.exports=a},function(n,r){var i=function(){function s(_,b){return b!=null&&_ instanceof b}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function d(_,b,g,m,x){typeof b=="object"&&(g=b.depth,m=b.prototype,x=b.includeNonEnumerable,b=b.circular);var v=[],k=[],O=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof g>"u"&&(g=1/0);function S(E,N){if(E===null)return null;if(N===0)return E;var T,A;if(typeof E!="object")return E;if(s(E,o))T=new o;else if(s(E,a))T=new a;else if(s(E,l))T=new l(function(F,j){E.then(function(M){F(S(M,N-1))},function(M){j(S(M,N-1))})});else if(d.__isArray(E))T=[];else if(d.__isRegExp(E))T=new RegExp(E.source,w(E)),E.lastIndex&&(T.lastIndex=E.lastIndex);else if(d.__isDate(E))T=new Date(E.getTime());else{if(O&&Buffer.isBuffer(E))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(E.length):T=new Buffer(E.length),E.copy(T),T;s(E,Error)?T=Object.create(E):typeof m>"u"?(A=Object.getPrototypeOf(E),T=Object.create(A)):(T=Object.create(m),A=m)}if(b){var P=v.indexOf(E);if(P!=-1)return k[P];v.push(E),k.push(T)}s(E,o)&&E.forEach(function(F,j){var M=S(j,N-1),U=S(F,N-1);T.set(M,U)}),s(E,a)&&E.forEach(function(F){var j=S(F,N-1);T.add(j)});for(var C in E){var L;A&&(L=Object.getOwnPropertyDescriptor(A,C)),!(L&&L.set==null)&&(T[C]=S(E[C],N-1))}if(Object.getOwnPropertySymbols)for(var q=Object.getOwnPropertySymbols(E),C=0;C<q.length;C++){var H=q[C],K=Object.getOwnPropertyDescriptor(E,H);K&&!K.enumerable&&!x||(T[H]=S(E[H],N-1),K.enumerable||Object.defineProperty(T,H,{enumerable:!1}))}if(x)for(var G=Object.getOwnPropertyNames(E),C=0;C<G.length;C++){var B=G[C],K=Object.getOwnPropertyDescriptor(E,B);K&&K.enumerable||(T[B]=S(E[B],N-1),Object.defineProperty(T,B,{enumerable:!1}))}return T}return S(_,g)}d.clonePrototype=function(b){if(b===null)return null;var g=function(){};return g.prototype=b,new g};function f(_){return Object.prototype.toString.call(_)}d.__objToStr=f;function h(_){return typeof _=="object"&&f(_)==="[object Date]"}d.__isDate=h;function c(_){return typeof _=="object"&&f(_)==="[object Array]"}d.__isArray=c;function p(_){return typeof _=="object"&&f(_)==="[object RegExp]"}d.__isRegExp=p;function w(_){var b="";return _.global&&(b+="g"),_.ignoreCase&&(b+="i"),_.multiline&&(b+="m"),b}return d.__getRegExpFlags=w,d}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function T(A,P){var C=[],L=!0,q=!1,H=void 0;try{for(var K=A[Symbol.iterator](),G;!(L=(G=K.next()).done)&&(C.push(G.value),!(P&&C.length===P));L=!0);}catch(B){q=!0,H=B}finally{try{!L&&K.return&&K.return()}finally{if(q)throw H}}return C}return function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return T(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(A,P){for(var C=0;C<P.length;C++){var L=P[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,P,C){return P&&T(A.prototype,P),C&&T(A,C),A}}(),a=function T(A,P,C){A===null&&(A=Function.prototype);var L=Object.getOwnPropertyDescriptor(A,P);if(L===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:T(q,P,C)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(C)}},l=i(0),d=v(l),f=i(8),h=v(f),c=i(4),p=v(c),w=i(16),_=v(w),b=i(13),g=v(b),m=i(25),x=v(m);function v(T){return T&&T.__esModule?T:{default:T}}function k(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function O(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function S(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}function E(T){return T instanceof p.default||T instanceof c.BlockEmbed}var N=function(T){S(A,T);function A(P,C){k(this,A);var L=O(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P));return L.emitter=C.emitter,Array.isArray(C.whitelist)&&(L.whitelist=C.whitelist.reduce(function(q,H){return q[H]=!0,q},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return o(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,L){var q=this.line(C),H=s(q,2),K=H[0],G=H[1],B=this.line(C+L),F=s(B,1),j=F[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,C,L),j!=null&&K!==j&&G>0){if(K instanceof c.BlockEmbed||j instanceof c.BlockEmbed){this.optimize();return}if(K instanceof g.default){var M=K.newlineIndex(K.length(),!0);if(M>-1&&(K=K.split(M+1),K===j)){this.optimize();return}}else if(j instanceof g.default){var U=j.newlineIndex(0);U>-1&&j.split(U+1)}var W=j.children.head instanceof _.default?null:j.children.head;K.moveChildren(j,W),K.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,L,q,H){this.whitelist!=null&&!this.whitelist[q]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,C,L,q,H),this.optimize())}},{key:"insertAt",value:function(C,L,q){if(!(q!=null&&this.whitelist!=null&&!this.whitelist[L])){if(C>=this.length())if(q==null||d.default.query(L,d.default.Scope.BLOCK)==null){var H=d.default.create(this.statics.defaultChild);this.appendChild(H),q==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),H.insertAt(0,L,q)}else{var K=d.default.create(L,q);this.appendChild(K)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,C,L,q);this.optimize()}}},{key:"insertBefore",value:function(C,L){if(C.statics.scope===d.default.Scope.INLINE_BLOT){var q=d.default.create(this.statics.defaultChild);q.appendChild(C),C=q}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,C,L)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(E,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,q=function H(K,G,B){var F=[],j=B;return K.children.forEachAt(G,B,function(M,U,W){E(M)?F.push(M):M instanceof d.default.Container&&(F=F.concat(H(M,U,j))),j-=W}),F};return q(this,C,L)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,C,L),C.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,C,L))}},{key:"path",value:function(C){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var L=h.default.sources.USER;typeof C=="string"&&(L=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,L,C),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,L,C)}}}]),A}(d.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[p.default,c.BlockEmbed,x.default],r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(z,Y){var X=[],ne=!0,ue=!1,ye=void 0;try{for(var xe=z[Symbol.iterator](),Ie;!(ne=(Ie=xe.next()).done)&&(X.push(Ie.value),!(Y&&X.length===Y));ne=!0);}catch(Re){ue=!0,ye=Re}finally{try{!ne&&xe.return&&xe.return()}finally{if(ue)throw ye}}return X}return function(z,Y){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return V(z,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V(z,Y){for(var X=0;X<Y.length;X++){var ne=Y[X];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(z,ne.key,ne)}}return function(z,Y,X){return Y&&V(z.prototype,Y),X&&V(z,X),z}}(),l=i(21),d=T(l),f=i(11),h=T(f),c=i(3),p=T(c),w=i(2),_=T(w),b=i(20),g=T(b),m=i(0),x=T(m),v=i(5),k=T(v),O=i(10),S=T(O),E=i(9),N=T(E);function T(V){return V&&V.__esModule?V:{default:V}}function A(V,z,Y){return z in V?Object.defineProperty(V,z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):V[z]=Y,V}function P(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function C(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function L(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var q=(0,S.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",K=function(V){L(z,V),a(z,null,[{key:"match",value:function(X,ne){return ne=$(ne),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ue){return!!ne[ue]!==X[ue]&&ne[ue]!==null})?!1:ne.key===(X.which||X.keyCode)}}]);function z(Y,X){P(this,z);var ne=C(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Y,X));return ne.bindings={},Object.keys(ne.options.bindings).forEach(function(ue){ue==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||ne.options.bindings[ue]&&ne.addBinding(ne.options.bindings[ue])}),ne.addBinding({key:z.keys.ENTER,shiftKey:null},M),ne.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ne.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},B),ne.addBinding({key:z.keys.DELETE},{collapsed:!0},F)):(ne.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),ne.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),ne.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},j),ne.addBinding({key:z.keys.DELETE},{collapsed:!1},j),ne.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),ne.listen(),ne}return a(z,[{key:"addBinding",value:function(X){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=$(X);if(ye==null||ye.key==null)return q.warn("Attempted to add invalid keyboard binding",ye);typeof ne=="function"&&(ne={handler:ne}),typeof ue=="function"&&(ue={handler:ue}),ye=(0,p.default)(ye,ne,ue),this.bindings[ye.key]=this.bindings[ye.key]||[],this.bindings[ye.key].push(ye)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(ne){if(!ne.defaultPrevented){var ue=ne.which||ne.keyCode,ye=(X.bindings[ue]||[]).filter(function(Qe){return z.match(ne,Qe)});if(ye.length!==0){var xe=X.quill.getSelection();if(!(xe==null||!X.quill.hasFocus())){var Ie=X.quill.getLine(xe.index),Re=o(Ie,2),yt=Re[0],nt=Re[1],Z=X.quill.getLeaf(xe.index),ee=o(Z,2),ae=ee[0],le=ee[1],ie=xe.length===0?[ae,le]:X.quill.getLeaf(xe.index+xe.length),Ee=o(ie,2),Te=Ee[0],Ae=Ee[1],Le=ae instanceof x.default.Text?ae.value().slice(0,le):"",qe=Te instanceof x.default.Text?Te.value().slice(Ae):"",Ve={collapsed:xe.length===0,empty:xe.length===0&&yt.length()<=1,format:X.quill.getFormat(xe),offset:nt,prefix:Le,suffix:qe},Ua=ye.some(function(Qe){if(Qe.collapsed!=null&&Qe.collapsed!==Ve.collapsed||Qe.empty!=null&&Qe.empty!==Ve.empty||Qe.offset!=null&&Qe.offset!==Ve.offset)return!1;if(Array.isArray(Qe.format)){if(Qe.format.every(function(Pn){return Ve.format[Pn]==null}))return!1}else if(s(Qe.format)==="object"&&!Object.keys(Qe.format).every(function(Pn){return Qe.format[Pn]===!0?Ve.format[Pn]!=null:Qe.format[Pn]===!1?Ve.format[Pn]==null:(0,h.default)(Qe.format[Pn],Ve.format[Pn])}))return!1;return Qe.prefix!=null&&!Qe.prefix.test(Ve.prefix)||Qe.suffix!=null&&!Qe.suffix.test(Ve.suffix)?!1:Qe.handler.call(X,xe,Ve)!==!0});Ua&&ne.preventDefault()}}}})}}]),z}(N.default);K.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},K.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:K.keys.TAB,format:["blockquote","indent","list"],handler:function(z,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:K.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:K.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,Y){Y.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":U(!0),"outdent code-block":U(!1),"remove tab":{key:K.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,k.default.sources.USER)}},tab:{key:K.keys.TAB,handler:function(z){this.quill.history.cutoff();var Y=new _.default().retain(z.index).delete(z.length).insert("	");this.quill.updateContents(Y,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,k.default.sources.SILENT)}},"list empty enter":{key:K.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(z,Y){this.quill.format("list",!1,k.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:K.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(z){var Y=this.quill.getLine(z.index),X=o(Y,2),ne=X[0],ue=X[1],ye=(0,p.default)({},ne.formats(),{list:"checked"}),xe=new _.default().retain(z.index).insert(`
`,ye).retain(ne.length()-ue-1).retain(1,{list:"unchecked"});this.quill.updateContents(xe,k.default.sources.USER),this.quill.setSelection(z.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:K.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,Y){var X=this.quill.getLine(z.index),ne=o(X,2),ue=ne[0],ye=ne[1],xe=new _.default().retain(z.index).insert(`
`,Y.format).retain(ue.length()-ye-1).retain(1,{header:null});this.quill.updateContents(xe,k.default.sources.USER),this.quill.setSelection(z.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,Y){var X=Y.prefix.length,ne=this.quill.getLine(z.index),ue=o(ne,2),ye=ue[0],xe=ue[1];if(xe>X)return!0;var Ie=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":Ie="unchecked";break;case"[x]":Ie="checked";break;case"-":case"*":Ie="bullet";break;default:Ie="ordered"}this.quill.insertText(z.index," ",k.default.sources.USER),this.quill.history.cutoff();var Re=new _.default().retain(z.index-xe).delete(X+1).retain(ye.length()-2-xe).retain(1,{list:Ie});this.quill.updateContents(Re,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-X,k.default.sources.SILENT)}},"code exit":{key:K.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(z){var Y=this.quill.getLine(z.index),X=o(Y,2),ne=X[0],ue=X[1],ye=new _.default().retain(z.index+ne.length()-ue-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ye,k.default.sources.USER)}},"embed left":G(K.keys.LEFT,!1),"embed left shift":G(K.keys.LEFT,!0),"embed right":G(K.keys.RIGHT,!1),"embed right shift":G(K.keys.RIGHT,!0)}};function G(V,z){var Y,X=V===K.keys.LEFT?"prefix":"suffix";return Y={key:V,shiftKey:z,altKey:null},A(Y,X,/^$/),A(Y,"handler",function(ue){var ye=ue.index;V===K.keys.RIGHT&&(ye+=ue.length+1);var xe=this.quill.getLeaf(ye),Ie=o(xe,1),Re=Ie[0];return Re instanceof x.default.Embed?(V===K.keys.LEFT?z?this.quill.setSelection(ue.index-1,ue.length+1,k.default.sources.USER):this.quill.setSelection(ue.index-1,k.default.sources.USER):z?this.quill.setSelection(ue.index,ue.length+1,k.default.sources.USER):this.quill.setSelection(ue.index+ue.length+1,k.default.sources.USER),!1):!0}),Y}function B(V,z){if(!(V.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(V.index),X=o(Y,1),ne=X[0],ue={};if(z.offset===0){var ye=this.quill.getLine(V.index-1),xe=o(ye,1),Ie=xe[0];if(Ie!=null&&Ie.length()>1){var Re=ne.formats(),yt=this.quill.getFormat(V.index-1,1);ue=g.default.attributes.diff(Re,yt)||{}}}var nt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(V.index-nt,nt,k.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(V.index-nt,nt,ue,k.default.sources.USER),this.quill.focus()}}function F(V,z){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(V.index>=this.quill.getLength()-Y)){var X={},ne=0,ue=this.quill.getLine(V.index),ye=o(ue,1),xe=ye[0];if(z.offset>=xe.length()-1){var Ie=this.quill.getLine(V.index+1),Re=o(Ie,1),yt=Re[0];if(yt){var nt=xe.formats(),Z=this.quill.getFormat(V.index,1);X=g.default.attributes.diff(nt,Z)||{},ne=yt.length()}}this.quill.deleteText(V.index,Y,k.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(V.index+ne-1,Y,X,k.default.sources.USER)}}function j(V){var z=this.quill.getLines(V),Y={};if(z.length>1){var X=z[0].formats(),ne=z[z.length-1].formats();Y=g.default.attributes.diff(ne,X)||{}}this.quill.deleteText(V,k.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(V.index,1,Y,k.default.sources.USER),this.quill.setSelection(V.index,k.default.sources.SILENT),this.quill.focus()}function M(V,z){var Y=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var X=Object.keys(z.format).reduce(function(ne,ue){return x.default.query(ue,x.default.Scope.BLOCK)&&!Array.isArray(z.format[ue])&&(ne[ue]=z.format[ue]),ne},{});this.quill.insertText(V.index,`
`,X,k.default.sources.USER),this.quill.setSelection(V.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(ne){X[ne]==null&&(Array.isArray(z.format[ne])||ne!=="link"&&Y.quill.format(ne,z.format[ne],k.default.sources.USER))})}function U(V){return{key:K.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(Y){var X=x.default.query("code-block"),ne=Y.index,ue=Y.length,ye=this.quill.scroll.descendant(X,ne),xe=o(ye,2),Ie=xe[0],Re=xe[1];if(Ie!=null){var yt=this.quill.getIndex(Ie),nt=Ie.newlineIndex(Re,!0)+1,Z=Ie.newlineIndex(yt+Re+ue),ee=Ie.domNode.textContent.slice(nt,Z).split(`
`);Re=0,ee.forEach(function(ae,le){V?(Ie.insertAt(nt+Re,X.TAB),Re+=X.TAB.length,le===0?ne+=X.TAB.length:ue+=X.TAB.length):ae.startsWith(X.TAB)&&(Ie.deleteAt(nt+Re,X.TAB.length),Re-=X.TAB.length,le===0?ne-=X.TAB.length:ue-=X.TAB.length),Re+=ae.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(ne,ue,k.default.sources.SILENT)}}}}function W(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(Y,X){this.quill.format(V,!X.format[V],k.default.sources.USER)}}}function $(V){if(typeof V=="string"||typeof V=="number")return $({key:V});if((typeof V>"u"?"undefined":s(V))==="object"&&(V=(0,d.default)(V,!1)),typeof V.key=="string")if(K.keys[V.key.toUpperCase()]!=null)V.key=K.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[H]=V.shortKey,delete V.shortKey),V}r.default=K,r.SHORTKEY=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(m,x){var v=[],k=!0,O=!1,S=void 0;try{for(var E=m[Symbol.iterator](),N;!(k=(N=E.next()).done)&&(v.push(N.value),!(x&&v.length===x));k=!0);}catch(T){O=!0,S=T}finally{try{!k&&E.return&&E.return()}finally{if(O)throw S}}return v}return function(m,x){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function g(m,x,v){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,x);if(k===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:g(O,x,v)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(v)}},a=function(){function g(m,x){for(var v=0;v<x.length;v++){var k=x[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,x,v){return x&&g(m.prototype,x),v&&g(m,v),m}}(),l=i(0),d=c(l),f=i(7),h=c(f);function c(g){return g&&g.__esModule?g:{default:g}}function p(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function w(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function _(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var b=function(g){_(m,g),a(m,null,[{key:"value",value:function(){}}]);function m(x,v){p(this,m);var k=w(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return k.selection=v,k.textNode=document.createTextNode(m.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,k){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,k);for(var O=this,S=0;O!=null&&O.statics.scope!==d.default.Scope.BLOCK_BLOT;)S+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=m.CONTENTS.length,O.optimize(),O.formatAt(S,m.CONTENTS.length,v,k),this._length=0)}},{key:"index",value:function(v,k){return v===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,v,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,k=this.selection.getNativeRange(),O=void 0,S=void 0,E=void 0;if(k!=null&&k.start.node===v&&k.end.node===v){var N=[v,k.start.offset,k.end.offset];O=N[0],S=N[1],E=N[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var T=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof h.default?(O=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=m.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var A=[S,E].map(function(C){return Math.max(0,Math.min(O.data.length,C-1))}),P=s(A,2);return S=P[0],E=P[1],{startNode:O,startOffset:S,endNode:O,endOffset:E}}}}},{key:"update",value:function(v,k){var O=this;if(v.some(function(E){return E.type==="characterData"&&E.target===O.textNode})){var S=this.restore();S&&(k.range=S)}}},{key:"value",value:function(){return""}}]),m}(d.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=d(s),a=i(4),l=d(a);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function h(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function c(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var p=function(w){c(_,w);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(o.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function b(g,m){for(var x=0;x<m.length;x++){var v=m[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,x){return m&&b(g.prototype,m),x&&b(g,x),g}}(),o=function b(g,m,x){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:b(k,m,x)}else{if("value"in v)return v.value;var O=v.get;return O===void 0?void 0:O.call(x)}},a=i(0),l=d(a);function d(b){return b&&b.__esModule?b:{default:b}}function f(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function h(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function c(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var p=function(b){c(g,b);function g(){return f(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"value",value:function(x){var v=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,x);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):v}}]),g}(l.default.Attributor.Style),w=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),_=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=w,r.ColorStyle=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function _(b,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,g,m){return g&&_(b.prototype,g),m&&_(b,m),b}}(),o=function _(b,g,m){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,g);if(x===void 0){var v=Object.getPrototypeOf(b);return v===null?void 0:_(v,g,m)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(m)}},a=i(6),l=d(a);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function c(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var p=function(_){c(b,_);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(m,x){if(m!==this.statics.blotName||!x)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,m,x);x=this.constructor.sanitize(x),this.domNode.setAttribute("href",x)}}],[{key:"create",value:function(m){var x=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,m);return m=this.sanitize(m),x.setAttribute("href",m),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return w(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),b}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(_,b){var g=document.createElement("a");g.href=_;var m=g.href.slice(0,g.href.indexOf(":"));return b.indexOf(m)>-1}r.default=p,r.sanitize=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(g,m){for(var x=0;x<m.length;x++){var v=m[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,x){return m&&b(g.prototype,m),x&&b(g,x),g}}(),a=i(23),l=h(a),d=i(107),f=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function c(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}var p=0;function w(b,g){b.setAttribute(g,b.getAttribute(g)!=="true")}var _=function(){function b(g){var m=this;c(this,b),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),x.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var x=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),m.hasAttribute("value")&&v.setAttribute("data-value",m.getAttribute("value")),m.textContent&&v.setAttribute("data-label",m.textContent),v.addEventListener("click",function(){x.selectItem(v,!0)}),v.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:x.selectItem(v,!0),k.preventDefault();break;case l.default.keys.ESCAPE:x.escape(),k.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=f.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,[].slice.call(this.select.options).forEach(function(v){var k=m.buildItem(v);x.appendChild(k),v.selected===!0&&m.selectItem(k)}),this.container.appendChild(x)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(x){m.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(m!==v&&(v!=null&&v.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),x))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var x=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(x)}else this.selectItem(null);var v=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),b}();r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=q(s),a=i(5),l=q(a),d=i(4),f=q(d),h=i(16),c=q(h),p=i(25),w=q(p),_=i(24),b=q(_),g=i(35),m=q(g),x=i(6),v=q(x),k=i(22),O=q(k),S=i(7),E=q(S),N=i(55),T=q(N),A=i(42),P=q(A),C=i(23),L=q(C);function q(H){return H&&H.__esModule?H:{default:H}}l.default.register({"blots/block":f.default,"blots/block/embed":d.BlockEmbed,"blots/break":c.default,"blots/container":w.default,"blots/cursor":b.default,"blots/embed":m.default,"blots/inline":v.default,"blots/scroll":O.default,"blots/text":E.default,"modules/clipboard":T.default,"modules/history":P.default,"modules/keyboard":L.default}),o.default.register(f.default,c.default,b.default,v.default,O.default,E.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?d=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?d=document.createElement(l):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,d){var f=this.isolate(l,d);f.remove()},a.prototype.formatAt=function(l,d,f,h){var c=this.isolate(l,d);if(s.query(f,s.Scope.BLOT)!=null&&h)c.wrap(f,h);else if(s.query(f,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);c.wrap(p),p.format(f,h)}},a.prototype.insertAt=function(l,d,f){var h=f==null?s.create("text",d):s.create(d,f),c=this.split(l);this.parent.insertBefore(h,c)},a.prototype.insertInto=function(l,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var f=null;l.children.insertBefore(this,d),d!=null&&(f=d.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=f)&&l.domNode.insertBefore(this.domNode,f),this.parent=l,this.attach()},a.prototype.isolate=function(l,d){var f=this.split(l);return f.split(d),f},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,d){var f=typeof l=="string"?s.create(l,d):l;return f.replace(this),f},a.prototype.split=function(l,d){return l===0?this:this.next},a.prototype.update=function(l,d){},a.prototype.wrap=function(l,d){var f=typeof l=="string"?s.create(l,d):l;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),d=function(){function f(h){this.attributes={},this.domNode=h,this.build()}return f.prototype.attribute=function(h,c){c?h.add(this.domNode,c)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},f.prototype.build=function(){var h=this;this.attributes={};var c=s.default.keys(this.domNode),p=o.default.keys(this.domNode),w=a.default.keys(this.domNode);c.concat(p).concat(w).forEach(function(_){var b=l.query(_,l.Scope.ATTRIBUTE);b instanceof s.default&&(h.attributes[b.attrName]=b)})},f.prototype.copy=function(h){var c=this;Object.keys(this.attributes).forEach(function(p){var w=c.attributes[p].value(c.domNode);h.format(p,w)})},f.prototype.move=function(h){var c=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){c.attributes[p].remove(c.domNode)}),this.attributes={}},f.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(c,p){return c[p]=h.attributes[p].value(h.domNode),c},{})},f}();r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){d(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(d,f){var h=d.getAttribute("class")||"";return h.split(/\s+/).filter(function(c){return c.indexOf(f+"-")===0})}var l=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},f.prototype.add=function(h,c){return this.canAdd(h,c)?(this.remove(h),h.classList.add(this.keyName+"-"+c),!0):!1},f.prototype.remove=function(h){var c=a(h,this.keyName);c.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},f.prototype.value=function(h){var c=a(h,this.keyName)[0]||"",p=c.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},f}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){d(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(d){var f=d.split("-"),h=f.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return f[0]+h}var l=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(c){var p=c.split(":");return p[0].trim()})},f.prototype.add=function(h,c){return this.canAdd(h,c)?(h.style[a(this.keyName)]=c,!0):!1},f.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},f.prototype.value=function(h){var c=h.style[a(this.keyName)];return this.canAdd(h,c)?c:""},f}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(d,f){for(var h=0;h<f.length;h++){var c=f[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}return function(d,f,h){return f&&l(d.prototype,f),h&&l(d,h),d}}();function o(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(d,f){o(this,l),this.quill=d,this.options=f,this.modules={}}return s(l,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(h){f.modules[h]==null&&f.addModule(h)})}},{key:"addModule",value:function(f){var h=this.quill.constructor.import("modules/"+f);return this.modules[f]=new h(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(m,x){for(var v=0;v<x.length;v++){var k=x[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,x,v){return x&&g(m.prototype,x),v&&g(m,v),m}}(),o=function g(m,x,v){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,x);if(k===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:g(O,x,v)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(v)}},a=i(0),l=h(a),d=i(7),f=h(d);function h(g){return g&&g.__esModule?g:{default:g}}function c(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function p(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function w(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var _="\uFEFF",b=function(g){w(m,g);function m(x){c(this,m);var v=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(k){v.contentNode.appendChild(k)}),v.leftGuard=document.createTextNode(_),v.rightGuard=document.createTextNode(_),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return s(m,[{key:"index",value:function(v,k){return v===this.leftGuard?0:v===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,v,k)}},{key:"restore",value:function(v){var k=void 0,O=void 0,S=v.data.split(_).join("");if(v===this.leftGuard)if(this.prev instanceof f.default){var E=this.prev.length();this.prev.insertAt(E,S),k={startNode:this.prev.domNode,startOffset:E+S.length}}else O=document.createTextNode(S),this.parent.insertBefore(l.default.create(O),this),k={startNode:O,startOffset:S.length};else v===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,S),k={startNode:this.next.domNode,startOffset:S.length}):(O=document.createTextNode(S),this.parent.insertBefore(l.default.create(O),this.next),k={startNode:O,startOffset:S.length}));return v.data=_,k}},{key:"update",value:function(v,k){var O=this;v.forEach(function(S){if(S.type==="characterData"&&(S.target===O.leftGuard||S.target===O.rightGuard)){var E=O.restore(S.target);E&&(k.range=E)}})}}]),m}(l.default.Embed);r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new o.default.Attributor.Attribute("align","align",l),f=new o.default.Attributor.Class("align","ql-align",l),h=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=d,r.AlignClass=f,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var d=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=d,r.BackgroundStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},d=new o.default.Attributor.Attribute("direction","dir",l),f=new o.default.Attributor.Class("direction","ql-direction",l),h=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=d,r.DirectionClass=f,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function g(m,x){for(var v=0;v<x.length;v++){var k=x[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,x,v){return x&&g(m.prototype,x),v&&g(m,v),m}}(),o=function g(m,x,v){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,x);if(k===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:g(O,x,v)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(v)}},a=i(0),l=d(a);function d(g){return g&&g.__esModule?g:{default:g}}function f(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function h(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function c(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new l.default.Attributor.Class("font","ql-font",p),_=function(g){c(m,g);function m(){return f(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"value",value:function(v){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),b=new _("font","font-family",p);r.FontStyle=b,r.FontClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=d},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function x(v,k){for(var O=0;O<k.length;O++){var S=k[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,k,O){return k&&x(v.prototype,k),O&&x(v,O),v}}(),o=i(0),a=c(o),l=i(5),d=c(l),f=i(9),h=c(f);function c(x){return x&&x.__esModule?x:{default:x}}function p(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function w(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function _(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var b=function(x){_(v,x);function v(k,O){p(this,v);var S=w(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,k,O));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(d.default.events.EDITOR_CHANGE,function(E,N,T,A){E!==d.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||A===d.default.sources.USER?S.record(N,T):S.transform(N))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return s(v,[{key:"change",value:function(O,S){if(this.stack[O].length!==0){var E=this.stack[O].pop();this.stack[S].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[O],d.default.sources.USER),this.ignoreChange=!1;var N=m(E[O]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,S){if(O.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(S),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var T=this.stack.undo.pop();E=E.compose(T.undo),O=T.redo.compose(O)}else this.lastRecorded=N;this.stack.undo.push({redo:O,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(S){S.undo=O.transform(S.undo,!0),S.redo=O.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=O.transform(S.undo,!0),S.redo=O.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(h.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(x){var v=x.ops[x.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function m(x){var v=x.reduce(function(O,S){return O+=S.delete||0,O},0),k=x.length()-v;return g(x)&&(k-=1),k}r.default=b,r.getLastChangeIndex=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function M(U,W){for(var $=0;$<W.length;$++){var V=W[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}}return function(U,W,$){return W&&M(U.prototype,W),$&&M(U,$),U}}(),o=function M(U,W,$){U===null&&(U=Function.prototype);var V=Object.getOwnPropertyDescriptor(U,W);if(V===void 0){var z=Object.getPrototypeOf(U);return z===null?void 0:M(z,W,$)}else{if("value"in V)return V.value;var Y=V.get;return Y===void 0?void 0:Y.call($)}},a=i(3),l=N(a),d=i(2),f=N(d),h=i(8),c=N(h),p=i(23),w=N(p),_=i(34),b=N(_),g=i(59),m=N(g),x=i(60),v=N(x),k=i(28),O=N(k),S=i(61),E=N(S);function N(M){return M&&M.__esModule?M:{default:M}}function T(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")}function A(M,U){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:M}function P(M,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);M.prototype=Object.create(U&&U.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(M,U):M.__proto__=U)}var C=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],H=["1","2","3",!1],K=["small",!1,"large","huge"],G=function(M){P(U,M);function U(W,$){T(this,U);var V=A(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,W,$)),z=function Y(X){if(!document.body.contains(W.root))return document.body.removeEventListener("click",Y);V.tooltip!=null&&!V.tooltip.root.contains(X.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(ne){ne.container.contains(X.target)||ne.close()})};return W.emitter.listenDOM("click",document.body,z),V}return s(U,[{key:"addModule",value:function($){var V=o(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"addModule",this).call(this,$);return $==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function($,V){$.forEach(function(z){var Y=z.getAttribute("class")||"";Y.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),V[X]!=null))if(X==="direction")z.innerHTML=V[X][""]+V[X].rtl;else if(typeof V[X]=="string")z.innerHTML=V[X];else{var ne=z.value||"";ne!=null&&V[X][ne]&&(z.innerHTML=V[X][ne])}})})}},{key:"buildPickers",value:function($,V){var z=this;this.pickers=$.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&j(X,C),new v.default(X,V.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var ne=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&j(X,L,ne==="background"?"#ffffff":"#000000"),new m.default(X,V[ne])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?j(X,q):X.classList.contains("ql-header")?j(X,H):X.classList.contains("ql-size")&&j(X,K)),new O.default(X)});var Y=function(){z.pickers.forEach(function(ne){ne.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,Y)}}]),U}(b.default);G.DEFAULTS=(0,l.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var $=new FileReader;$.onload=function(V){var z=U.quill.getSelection(!0);U.quill.updateContents(new f.default().retain(z.index).delete(z.length).insert({image:V.target.result}),c.default.sources.USER),U.quill.setSelection(z.index+1,c.default.sources.SILENT),W.value=""},$.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(M){P(U,M);function U(W,$){T(this,U);var V=A(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,W,$));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return s(U,[{key:"listen",value:function(){var $=this;this.textbox.addEventListener("keydown",function(V){w.default.match(V,"enter")?($.save(),V.preventDefault()):w.default.match(V,"escape")&&($.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:$!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+$)||""),this.root.setAttribute("data-mode",$)}},{key:"restoreFocus",value:function(){var $=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=$}},{key:"save",value:function(){var $=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",$,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",$,c.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":$=F($);case"formula":{if(!$)break;var z=this.quill.getSelection(!0);if(z!=null){var Y=z.index+z.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),$,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",c.default.sources.USER),this.quill.setSelection(Y+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),U}(E.default);function F(M){var U=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return U?(U[1]||"https")+"://www.youtube.com/embed/"+U[2]+"?showinfo=0":(U=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(U[1]||"https")+"://player.vimeo.com/video/"+U[2]+"/":M}function j(M,U){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U.forEach(function($){var V=document.createElement("option");$===W?V.setAttribute("selected","selected"):V.setAttribute("value",$),M.appendChild(V)})}r.BaseTooltip=B,r.default=G},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,d=this.iterator();l=d();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,d=this.head;d!=null;){if(d===a)return l;l+=d.length(),d=d.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var d,f=this.iterator();d=f();){var h=d.length();if(a<h||l&&a===h&&(d.next==null||d.next.length()!==0))return[d,a];a-=h}return[null,0]},o.prototype.forEach=function(a){for(var l,d=this.iterator();l=d();)a(l)},o.prototype.forEachAt=function(a,l,d){if(!(l<=0))for(var f=this.find(a),h=f[0],c=f[1],p,w=a-c,_=this.iterator(h);(p=_())&&w<a+l;){var b=p.length();a>w?d(p,a-w,Math.min(l,w+b-a)):d(p,0,Math.min(b,a+l-w)),w+=b}},o.prototype.map=function(a){return this.reduce(function(l,d){return l.push(a(d)),l},[])},o.prototype.reduce=function(a,l){for(var d,f=this.iterator();d=f();)l=a(l,d);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var w in p)p.hasOwnProperty(w)&&(c[w]=p[w])};return function(c,p){h(c,p);function w(){this.constructor=c}c.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,f=function(h){s(c,h);function c(p){var w=h.call(this,p)||this;return w.scroll=w,w.observer=new MutationObserver(function(_){w.update(_)}),w.observer.observe(w.domNode,l),w.attach(),w}return c.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(p,w){this.update(),p===0&&w===this.length()?this.children.forEach(function(_){_.remove()}):h.prototype.deleteAt.call(this,p,w)},c.prototype.formatAt=function(p,w,_,b){this.update(),h.prototype.formatAt.call(this,p,w,_,b)},c.prototype.insertAt=function(p,w,_){this.update(),h.prototype.insertAt.call(this,p,w,_)},c.prototype.optimize=function(p,w){var _=this;p===void 0&&(p=[]),w===void 0&&(w={}),h.prototype.optimize.call(this,w);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)p.push(b.pop());for(var g=function(k,O){O===void 0&&(O=!0),!(k==null||k===_)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),O&&g(k.parent))},m=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof o.default&&k.children.forEach(m),k.optimize(w))},x=p,v=0;x.length>0;v+=1){if(v>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(function(k){var O=a.find(k.target,!0);O!=null&&(O.domNode===k.target&&(k.type==="childList"?(g(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(S){var E=a.find(S,!1);g(E,!1),E instanceof o.default&&E.children.forEach(function(N){g(N,!1)})})):k.type==="attributes"&&g(O.prev)),g(O))}),this.children.forEach(m),x=[].slice.call(this.observer.takeRecords()),b=x.slice();b.length>0;)p.push(b.pop())}},c.prototype.update=function(p,w){var _=this;w===void 0&&(w={}),p=p||this.observer.takeRecords(),p.map(function(b){var g=a.find(b.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[b],g):(g.domNode[a.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===_||b.domNode[a.DATA_KEY]==null||b.update(b.domNode[a.DATA_KEY].mutations||[],w)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,w),this.optimize(p,w)},c.blotName="scroll",c.defaultChild="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="DIV",c}(o.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var p in c)c.hasOwnProperty(p)&&(h[p]=c[p])};return function(h,c){f(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(f,h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(var c in f)if(f[c]!==h[c])return!1;return!0}var d=function(f){s(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(c){if(c.tagName!==h.tagName)return f.formats.call(this,c)},h.prototype.format=function(c,p){var w=this;c===this.statics.blotName&&!p?(this.children.forEach(function(_){_ instanceof o.default||(_=_.wrap(h.blotName,!0)),w.attributes.copy(_)}),this.unwrap()):f.prototype.format.call(this,c,p)},h.prototype.formatAt=function(c,p,w,_){if(this.formats()[w]!=null||a.query(w,a.Scope.ATTRIBUTE)){var b=this.isolate(c,p);b.format(w,_)}else f.prototype.formatAt.call(this,c,p,w,_)},h.prototype.optimize=function(c){f.prototype.optimize.call(this,c);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var w=this.next;w instanceof h&&w.prev===this&&l(p,w.formats())&&(w.moveChildren(this),w.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){d(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(d){s(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){var c=a.query(f.blotName).tagName;if(h.tagName!==c)return d.formats.call(this,h)},f.prototype.format=function(h,c){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!c?this.replaceWith(f.blotName):d.prototype.format.call(this,h,c))},f.prototype.formatAt=function(h,c,p,w){a.query(p,a.Scope.BLOCK)!=null?this.format(p,w):d.prototype.formatAt.call(this,h,c,p,w)},f.prototype.insertAt=function(h,c,p){if(p==null||a.query(c,a.Scope.INLINE)!=null)d.prototype.insertAt.call(this,h,c,p);else{var w=this.split(h),_=a.create(c,p);w.parent.insertBefore(_,w)}},f.prototype.update=function(h,c){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,h,c)},f.blotName="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){l(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(d,l);function d(){return l!==null&&l.apply(this,arguments)||this}return d.formats=function(f){},d.prototype.format=function(f,h){l.prototype.formatAt.call(this,0,this.length(),f,h)},d.prototype.formatAt=function(f,h,c,p){f===0&&h===this.length()?this.format(c,p):l.prototype.formatAt.call(this,f,h,c,p)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){d(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(d){s(f,d);function f(h){var c=d.call(this,h)||this;return c.text=c.statics.value(c.domNode),c}return f.create=function(h){return document.createTextNode(h)},f.value=function(h){var c=h.data;return c.normalize&&(c=c.normalize()),c},f.prototype.deleteAt=function(h,c){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+c)},f.prototype.index=function(h,c){return this.domNode===h?c:-1},f.prototype.insertAt=function(h,c,p){p==null?(this.text=this.text.slice(0,h)+c+this.text.slice(h),this.domNode.data=this.text):d.prototype.insertAt.call(this,h,c,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(h){d.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(h,c){return[this.domNode,h]},f.prototype.split=function(h,c){if(c===void 0&&(c=!1),!c){if(h===0)return this;if(h===this.length())return this.next}var p=a.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(h,c){var p=this;h.some(function(w){return w.type==="characterData"&&w.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=a.Scope.INLINE_BLOT,f}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var d=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>d.length)&&(l=d.length),l-=a.length;var f=d.indexOf(a,l);return f!==-1&&f===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),f=d.length>>>0,h=arguments[1],c,p=0;p<f;p++)if(c=d[p],l.call(h,c,p,d))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(v,k,O){if(v==k)return v?[[o,v]]:[];(O<0||v.length<O)&&(O=null);var S=h(v,k),E=v.substring(0,S);v=v.substring(S),k=k.substring(S),S=c(v,k);var N=v.substring(v.length-S);v=v.substring(0,v.length-S),k=k.substring(0,k.length-S);var T=l(v,k);return E&&T.unshift([o,E]),N&&T.push([o,N]),w(T),O!=null&&(T=g(T,O)),T=m(T),T}function l(v,k){var O;if(!v)return[[s,k]];if(!k)return[[i,v]];var S=v.length>k.length?v:k,E=v.length>k.length?k:v,N=S.indexOf(E);if(N!=-1)return O=[[s,S.substring(0,N)],[o,E],[s,S.substring(N+E.length)]],v.length>k.length&&(O[0][0]=O[2][0]=i),O;if(E.length==1)return[[i,v],[s,k]];var T=p(v,k);if(T){var A=T[0],P=T[1],C=T[2],L=T[3],q=T[4],H=a(A,C),K=a(P,L);return H.concat([[o,q]],K)}return d(v,k)}function d(v,k){for(var O=v.length,S=k.length,E=Math.ceil((O+S)/2),N=E,T=2*E,A=new Array(T),P=new Array(T),C=0;C<T;C++)A[C]=-1,P[C]=-1;A[N+1]=0,P[N+1]=0;for(var L=O-S,q=L%2!=0,H=0,K=0,G=0,B=0,F=0;F<E;F++){for(var j=-F+H;j<=F-K;j+=2){var M=N+j,U;j==-F||j!=F&&A[M-1]<A[M+1]?U=A[M+1]:U=A[M-1]+1;for(var W=U-j;U<O&&W<S&&v.charAt(U)==k.charAt(W);)U++,W++;if(A[M]=U,U>O)K+=2;else if(W>S)H+=2;else if(q){var $=N+L-j;if($>=0&&$<T&&P[$]!=-1){var V=O-P[$];if(U>=V)return f(v,k,U,W)}}}for(var z=-F+G;z<=F-B;z+=2){var $=N+z,V;z==-F||z!=F&&P[$-1]<P[$+1]?V=P[$+1]:V=P[$-1]+1;for(var Y=V-z;V<O&&Y<S&&v.charAt(O-V-1)==k.charAt(S-Y-1);)V++,Y++;if(P[$]=V,V>O)B+=2;else if(Y>S)G+=2;else if(!q){var M=N+L-z;if(M>=0&&M<T&&A[M]!=-1){var U=A[M],W=N+U-M;if(V=O-V,U>=V)return f(v,k,U,W)}}}}return[[i,v],[s,k]]}function f(v,k,O,S){var E=v.substring(0,O),N=k.substring(0,S),T=v.substring(O),A=k.substring(S),P=a(E,N),C=a(T,A);return P.concat(C)}function h(v,k){if(!v||!k||v.charAt(0)!=k.charAt(0))return 0;for(var O=0,S=Math.min(v.length,k.length),E=S,N=0;O<E;)v.substring(N,E)==k.substring(N,E)?(O=E,N=O):S=E,E=Math.floor((S-O)/2+O);return E}function c(v,k){if(!v||!k||v.charAt(v.length-1)!=k.charAt(k.length-1))return 0;for(var O=0,S=Math.min(v.length,k.length),E=S,N=0;O<E;)v.substring(v.length-E,v.length-N)==k.substring(k.length-E,k.length-N)?(O=E,N=O):S=E,E=Math.floor((S-O)/2+O);return E}function p(v,k){var O=v.length>k.length?v:k,S=v.length>k.length?k:v;if(O.length<4||S.length*2<O.length)return null;function E(K,G,B){for(var F=K.substring(B,B+Math.floor(K.length/4)),j=-1,M="",U,W,$,V;(j=G.indexOf(F,j+1))!=-1;){var z=h(K.substring(B),G.substring(j)),Y=c(K.substring(0,B),G.substring(0,j));M.length<Y+z&&(M=G.substring(j-Y,j)+G.substring(j,j+z),U=K.substring(0,B-Y),W=K.substring(B+z),$=G.substring(0,j-Y),V=G.substring(j+z))}return M.length*2>=K.length?[U,W,$,V,M]:null}var N=E(O,S,Math.ceil(O.length/4)),T=E(O,S,Math.ceil(O.length/2)),A;if(!N&&!T)return null;T?N?A=N[4].length>T[4].length?N:T:A=T:A=N;var P,C,L,q;v.length>k.length?(P=A[0],C=A[1],L=A[2],q=A[3]):(L=A[0],q=A[1],P=A[2],C=A[3]);var H=A[4];return[P,C,L,q,H]}function w(v){v.push([o,""]);for(var k=0,O=0,S=0,E="",N="",T;k<v.length;)switch(v[k][0]){case s:S++,N+=v[k][1],k++;break;case i:O++,E+=v[k][1],k++;break;case o:O+S>1?(O!==0&&S!==0&&(T=h(N,E),T!==0&&(k-O-S>0&&v[k-O-S-1][0]==o?v[k-O-S-1][1]+=N.substring(0,T):(v.splice(0,0,[o,N.substring(0,T)]),k++),N=N.substring(T),E=E.substring(T)),T=c(N,E),T!==0&&(v[k][1]=N.substring(N.length-T)+v[k][1],N=N.substring(0,N.length-T),E=E.substring(0,E.length-T))),O===0?v.splice(k-S,O+S,[s,N]):S===0?v.splice(k-O,O+S,[i,E]):v.splice(k-O-S,O+S,[i,E],[s,N]),k=k-O-S+(O?1:0)+(S?1:0)+1):k!==0&&v[k-1][0]==o?(v[k-1][1]+=v[k][1],v.splice(k,1)):k++,S=0,O=0,E="",N="";break}v[v.length-1][1]===""&&v.pop();var A=!1;for(k=1;k<v.length-1;)v[k-1][0]==o&&v[k+1][0]==o&&(v[k][1].substring(v[k][1].length-v[k-1][1].length)==v[k-1][1]?(v[k][1]=v[k-1][1]+v[k][1].substring(0,v[k][1].length-v[k-1][1].length),v[k+1][1]=v[k-1][1]+v[k+1][1],v.splice(k-1,1),A=!0):v[k][1].substring(0,v[k+1][1].length)==v[k+1][1]&&(v[k-1][1]+=v[k+1][1],v[k][1]=v[k][1].substring(v[k+1][1].length)+v[k+1][1],v.splice(k+1,1),A=!0)),k++;A&&w(v)}var _=a;_.INSERT=s,_.DELETE=i,_.EQUAL=o,n.exports=_;function b(v,k){if(k===0)return[o,v];for(var O=0,S=0;S<v.length;S++){var E=v[S];if(E[0]===i||E[0]===o){var N=O+E[1].length;if(k===N)return[S+1,v];if(k<N){v=v.slice();var T=k-O,A=[E[0],E[1].slice(0,T)],P=[E[0],E[1].slice(T)];return v.splice(S,1,A,P),[S+1,v]}else O=N}}throw new Error("cursor_pos is out of bounds!")}function g(v,k){var O=b(v,k),S=O[1],E=O[0],N=S[E],T=S[E+1];if(N==null)return v;if(N[0]!==o)return v;if(T!=null&&N[1]+T[1]===T[1]+N[1])return S.splice(E,2,T,N),x(S,E,2);if(T!=null&&T[1].indexOf(N[1])===0){S.splice(E,2,[T[0],N[1]],[0,N[1]]);var A=T[1].slice(N[1].length);return A.length>0&&S.splice(E+2,0,[T[0],A]),x(S,E,3)}else return v}function m(v){for(var k=!1,O=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},S=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},E=2;E<v.length;E+=1)v[E-2][0]===o&&S(v[E-2][1])&&v[E-1][0]===i&&O(v[E-1][1])&&v[E][0]===s&&O(v[E][1])&&(k=!0,v[E-1][1]=v[E-2][1].slice(-1)+v[E-1][1],v[E][1]=v[E-2][1].slice(-1)+v[E][1],v[E-2][1]=v[E-2][1].slice(0,-1));if(!k)return v;for(var N=[],E=0;E<v.length;E+=1)v[E][1].length>0&&N.push(v[E]);return N}function x(v,k,O){for(var S=k+O-1;S>=0&&S>=k-1;S--)if(S+1<v.length){var E=v[S],N=v[S+1];E[0]===N[1]&&v.splice(S,2,[E[0],E[1]+N[1]])}return v}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,c;if(this._eventsCount===0)return f;for(c in h=this._events)i.call(h,c)&&f.push(s?c.slice(1):c);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f,h){var c=s?s+f:f,p=this._events[c];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var w=0,_=p.length,b=new Array(_);w<_;w++)b[w]=p[w].fn;return b},l.prototype.emit=function(f,h,c,p,w,_){var b=s?s+f:f;if(!this._events[b])return!1;var g=this._events[b],m=arguments.length,x,v;if(g.fn){switch(g.once&&this.removeListener(f,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,c),!0;case 4:return g.fn.call(g.context,h,c,p),!0;case 5:return g.fn.call(g.context,h,c,p,w),!0;case 6:return g.fn.call(g.context,h,c,p,w,_),!0}for(v=1,x=new Array(m-1);v<m;v++)x[v-1]=arguments[v];g.fn.apply(g.context,x)}else{var k=g.length,O;for(v=0;v<k;v++)switch(g[v].once&&this.removeListener(f,g[v].fn,void 0,!0),m){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,h);break;case 3:g[v].fn.call(g[v].context,h,c);break;case 4:g[v].fn.call(g[v].context,h,c,p);break;default:if(!x)for(O=1,x=new Array(m-1);O<m;O++)x[O-1]=arguments[O];g[v].fn.apply(g[v].context,x)}}return!0},l.prototype.on=function(f,h,c){var p=new a(h,c||this),w=s?s+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],p]:this._events[w].push(p):(this._events[w]=p,this._eventsCount++),this},l.prototype.once=function(f,h,c){var p=new a(h,c||this,!0),w=s?s+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],p]:this._events[w].push(p):(this._events[w]=p,this._eventsCount++),this},l.prototype.removeListener=function(f,h,c,p){var w=s?s+f:f;if(!this._events[w])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[w],this;var _=this._events[w];if(_.fn)_.fn===h&&(!p||_.once)&&(!c||_.context===c)&&(--this._eventsCount===0?this._events=new o:delete this._events[w]);else{for(var b=0,g=[],m=_.length;b<m;b++)(_[b].fn!==h||p&&!_[b].once||c&&_[b].context!==c)&&g.push(_[b]);g.length?this._events[w]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new o:delete this._events[w]}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=s?s+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},o=function(){function Z(ee,ae){var le=[],ie=!0,Ee=!1,Te=void 0;try{for(var Ae=ee[Symbol.iterator](),Le;!(ie=(Le=Ae.next()).done)&&(le.push(Le.value),!(ae&&le.length===ae));ie=!0);}catch(qe){Ee=!0,Te=qe}finally{try{!ie&&Ae.return&&Ae.return()}finally{if(Ee)throw Te}}return le}return function(ee,ae){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return Z(ee,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(ee,ae){for(var le=0;le<ae.length;le++){var ie=ae[le];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(ee,ie.key,ie)}}return function(ee,ae,le){return ae&&Z(ee.prototype,ae),le&&Z(ee,le),ee}}(),l=i(3),d=P(l),f=i(2),h=P(f),c=i(0),p=P(c),w=i(5),_=P(w),b=i(10),g=P(b),m=i(9),x=P(m),v=i(36),k=i(37),O=i(13),S=P(O),E=i(26),N=i(38),T=i(39),A=i(40);function P(Z){return Z&&Z.__esModule?Z:{default:Z}}function C(Z,ee,ae){return ee in Z?Object.defineProperty(Z,ee,{value:ae,enumerable:!0,configurable:!0,writable:!0}):Z[ee]=ae,Z}function L(Z,ee){if(!(Z instanceof ee))throw new TypeError("Cannot call a class as a function")}function q(Z,ee){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:Z}function H(Z,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);Z.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,ee):Z.__proto__=ee)}var K=(0,g.default)("quill:clipboard"),G="__ql-matcher",B=[[Node.TEXT_NODE,nt],[Node.TEXT_NODE,Ie],["br",ue],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,yt],["li",xe],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",ye]],F=[v.AlignAttribute,N.DirectionAttribute].reduce(function(Z,ee){return Z[ee.keyName]=ee,Z},{}),j=[v.AlignStyle,k.BackgroundStyle,E.ColorStyle,N.DirectionStyle,T.FontStyle,A.SizeStyle].reduce(function(Z,ee){return Z[ee.keyName]=ee,Z},{}),M=function(Z){H(ee,Z);function ee(ae,le){L(this,ee);var ie=q(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,ae,le));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],B.concat(ie.options.matchers).forEach(function(Ee){var Te=o(Ee,2),Ae=Te[0],Le=Te[1];!le.matchVisual&&Le===Re||ie.addMatcher(Ae,Le)}),ie}return a(ee,[{key:"addMatcher",value:function(le,ie){this.matchers.push([le,ie])}},{key:"convert",value:function(le){if(typeof le=="string")return this.container.innerHTML=le.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[S.default.blotName]){var Ee=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Ee,C({},S.default.blotName,ie[S.default.blotName]))}var Te=this.prepareMatching(),Ae=o(Te,2),Le=Ae[0],qe=Ae[1],Ve=z(this.container,Le,qe);return $(Ve,`
`)&&Ve.ops[Ve.ops.length-1].attributes==null&&(Ve=Ve.compose(new h.default().retain(Ve.length()-1).delete(1))),K.log("convert",this.container.innerHTML,Ve),this.container.innerHTML="",Ve}},{key:"dangerouslyPasteHTML",value:function(le,ie){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof le=="string")this.quill.setContents(this.convert(le),ie),this.quill.setSelection(0,_.default.sources.SILENT);else{var Te=this.convert(ie);this.quill.updateContents(new h.default().retain(le).concat(Te),Ee),this.quill.setSelection(le+Te.length(),_.default.sources.SILENT)}}},{key:"onPaste",value:function(le){var ie=this;if(!(le.defaultPrevented||!this.quill.isEnabled())){var Ee=this.quill.getSelection(),Te=new h.default().retain(Ee.index),Ae=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(_.default.sources.SILENT),setTimeout(function(){Te=Te.concat(ie.convert()).delete(Ee.length),ie.quill.updateContents(Te,_.default.sources.USER),ie.quill.setSelection(Te.length()-Ee.length,_.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=Ae,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var le=this,ie=[],Ee=[];return this.matchers.forEach(function(Te){var Ae=o(Te,2),Le=Ae[0],qe=Ae[1];switch(Le){case Node.TEXT_NODE:Ee.push(qe);break;case Node.ELEMENT_NODE:ie.push(qe);break;default:[].forEach.call(le.container.querySelectorAll(Le),function(Ve){Ve[G]=Ve[G]||[],Ve[G].push(qe)});break}}),[ie,Ee]}}]),ee}(x.default);M.DEFAULTS={matchers:[],matchVisual:!0};function U(Z,ee,ae){return(typeof ee>"u"?"undefined":s(ee))==="object"?Object.keys(ee).reduce(function(le,ie){return U(le,ie,ee[ie])},Z):Z.reduce(function(le,ie){return ie.attributes&&ie.attributes[ee]?le.push(ie):le.insert(ie.insert,(0,d.default)({},C({},ee,ae),ie.attributes))},new h.default)}function W(Z){if(Z.nodeType!==Node.ELEMENT_NODE)return{};var ee="__ql-computed-style";return Z[ee]||(Z[ee]=window.getComputedStyle(Z))}function $(Z,ee){for(var ae="",le=Z.ops.length-1;le>=0&&ae.length<ee.length;--le){var ie=Z.ops[le];if(typeof ie.insert!="string")break;ae=ie.insert+ae}return ae.slice(-1*ee.length)===ee}function V(Z){if(Z.childNodes.length===0)return!1;var ee=W(Z);return["block","list-item"].indexOf(ee.display)>-1}function z(Z,ee,ae){return Z.nodeType===Z.TEXT_NODE?ae.reduce(function(le,ie){return ie(Z,le)},new h.default):Z.nodeType===Z.ELEMENT_NODE?[].reduce.call(Z.childNodes||[],function(le,ie){var Ee=z(ie,ee,ae);return ie.nodeType===Z.ELEMENT_NODE&&(Ee=ee.reduce(function(Te,Ae){return Ae(ie,Te)},Ee),Ee=(ie[G]||[]).reduce(function(Te,Ae){return Ae(ie,Te)},Ee)),le.concat(Ee)},new h.default):new h.default}function Y(Z,ee,ae){return U(ae,Z,!0)}function X(Z,ee){var ae=p.default.Attributor.Attribute.keys(Z),le=p.default.Attributor.Class.keys(Z),ie=p.default.Attributor.Style.keys(Z),Ee={};return ae.concat(le).concat(ie).forEach(function(Te){var Ae=p.default.query(Te,p.default.Scope.ATTRIBUTE);Ae!=null&&(Ee[Ae.attrName]=Ae.value(Z),Ee[Ae.attrName])||(Ae=F[Te],Ae!=null&&(Ae.attrName===Te||Ae.keyName===Te)&&(Ee[Ae.attrName]=Ae.value(Z)||void 0),Ae=j[Te],Ae!=null&&(Ae.attrName===Te||Ae.keyName===Te)&&(Ae=j[Te],Ee[Ae.attrName]=Ae.value(Z)||void 0))}),Object.keys(Ee).length>0&&(ee=U(ee,Ee)),ee}function ne(Z,ee){var ae=p.default.query(Z);if(ae==null)return ee;if(ae.prototype instanceof p.default.Embed){var le={},ie=ae.value(Z);ie!=null&&(le[ae.blotName]=ie,ee=new h.default().insert(le,ae.formats(Z)))}else typeof ae.formats=="function"&&(ee=U(ee,ae.blotName,ae.formats(Z)));return ee}function ue(Z,ee){return $(ee,`
`)||ee.insert(`
`),ee}function ye(){return new h.default}function xe(Z,ee){var ae=p.default.query(Z);if(ae==null||ae.blotName!=="list-item"||!$(ee,`
`))return ee;for(var le=-1,ie=Z.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(le+=1),ie=ie.parentNode;return le<=0?ee:ee.compose(new h.default().retain(ee.length()-1).retain(1,{indent:le}))}function Ie(Z,ee){return $(ee,`
`)||(V(Z)||ee.length()>0&&Z.nextSibling&&V(Z.nextSibling))&&ee.insert(`
`),ee}function Re(Z,ee){if(V(Z)&&Z.nextElementSibling!=null&&!$(ee,`

`)){var ae=Z.offsetHeight+parseFloat(W(Z).marginTop)+parseFloat(W(Z).marginBottom);Z.nextElementSibling.offsetTop>Z.offsetTop+ae*1.5&&ee.insert(`
`)}return ee}function yt(Z,ee){var ae={},le=Z.style||{};return le.fontStyle&&W(Z).fontStyle==="italic"&&(ae.italic=!0),le.fontWeight&&(W(Z).fontWeight.startsWith("bold")||parseInt(W(Z).fontWeight)>=700)&&(ae.bold=!0),Object.keys(ae).length>0&&(ee=U(ee,ae)),parseFloat(le.textIndent||0)>0&&(ee=new h.default().insert("	").concat(ee)),ee}function nt(Z,ee){var ae=Z.data;if(Z.parentNode.tagName==="O:P")return ee.insert(ae.trim());if(ae.trim().length===0&&Z.parentNode.classList.contains("ql-clipboard"))return ee;if(!W(Z.parentNode).whiteSpace.startsWith("pre")){var le=function(Ee,Te){return Te=Te.replace(/[^\u00a0]/g,""),Te.length<1&&Ee?" ":Te};ae=ae.replace(/\r\n/g," ").replace(/\n/g," "),ae=ae.replace(/\s\s+/g,le.bind(le,!0)),(Z.previousSibling==null&&V(Z.parentNode)||Z.previousSibling!=null&&V(Z.previousSibling))&&(ae=ae.replace(/^\s+/,le.bind(le,!1))),(Z.nextSibling==null&&V(Z.parentNode)||Z.nextSibling!=null&&V(Z.nextSibling))&&(ae=ae.replace(/\s+$/,le.bind(le,!1)))}return ee.insert(ae)}r.default=M,r.matchAttributor=X,r.matchBlot=ne,r.matchNewline=Ie,r.matchSpacing=Re,r.matchText=nt},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(_,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,b,g){return b&&w(_.prototype,b),g&&w(_,g),_}}(),o=function w(_,b,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,b);if(m===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:w(x,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(6),l=d(a);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function h(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function c(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var p=function(w){c(_,w);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"optimize",value:function(g){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),_}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function A(P,C){var L=[],q=!0,H=!1,K=void 0;try{for(var G=P[Symbol.iterator](),B;!(q=(B=G.next()).done)&&(L.push(B.value),!(C&&L.length===C));q=!0);}catch(F){H=!0,K=F}finally{try{!q&&G.return&&G.return()}finally{if(H)throw K}}return L}return function(P,C){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return A(P,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(P,C){for(var L=0;L<C.length;L++){var q=C[L];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(P,q.key,q)}}return function(P,C,L){return C&&A(P.prototype,C),L&&A(P,L),P}}(),a=i(2),l=g(a),d=i(0),f=g(d),h=i(5),c=g(h),p=i(10),w=g(p),_=i(9),b=g(_);function g(A){return A&&A.__esModule?A:{default:A}}function m(A,P,C){return P in A?Object.defineProperty(A,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):A[P]=C,A}function x(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function v(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function k(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var O=(0,w.default)("quill:toolbar"),S=function(A){k(P,A);function P(C,L){x(this,P);var q=v(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,C,L));if(Array.isArray(q.options.container)){var H=document.createElement("div");N(H,q.options.container),C.container.parentNode.insertBefore(H,C.container),q.container=H}else typeof q.options.container=="string"?q.container=document.querySelector(q.options.container):q.container=q.options.container;if(!(q.container instanceof HTMLElement)){var K;return K=O.error("Container required for toolbar",q.options),v(q,K)}return q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(G){q.addHandler(G,q.options.handlers[G])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(G){q.attach(G)}),q.quill.on(c.default.events.EDITOR_CHANGE,function(G,B){G===c.default.events.SELECTION_CHANGE&&q.update(B)}),q.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var G=q.quill.selection.getRange(),B=s(G,1),F=B[0];q.update(F)}),q}return o(P,[{key:"addHandler",value:function(L,q){this.handlers[L]=q}},{key:"attach",value:function(L){var q=this,H=[].find.call(L.classList,function(G){return G.indexOf("ql-")===0});if(H){if(H=H.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){O.warn("ignoring attaching to disabled format",H,L);return}if(f.default.query(H)==null){O.warn("ignoring attaching to nonexistent format",H,L);return}}var K=L.tagName==="SELECT"?"change":"click";L.addEventListener(K,function(G){var B=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var F=L.options[L.selectedIndex];F.hasAttribute("selected")?B=!1:B=F.value||!1}else L.classList.contains("ql-active")?B=!1:B=L.value||!L.hasAttribute("value"),G.preventDefault();q.quill.focus();var j=q.quill.selection.getRange(),M=s(j,1),U=M[0];if(q.handlers[H]!=null)q.handlers[H].call(q,B);else if(f.default.query(H).prototype instanceof f.default.Embed){if(B=prompt("Enter "+H),!B)return;q.quill.updateContents(new l.default().retain(U.index).delete(U.length).insert(m({},H,B)),c.default.sources.USER)}else q.quill.format(H,B,c.default.sources.USER);q.update(U)}),this.controls.push([H,L])}}},{key:"update",value:function(L){var q=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(H){var K=s(H,2),G=K[0],B=K[1];if(B.tagName==="SELECT"){var F=void 0;if(L==null)F=null;else if(q[G]==null)F=B.querySelector("option[selected]");else if(!Array.isArray(q[G])){var j=q[G];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),F=B.querySelector('option[value="'+j+'"]')}F==null?(B.value="",B.selectedIndex=-1):F.selected=!0}else if(L==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var M=q[G]===B.getAttribute("value")||q[G]!=null&&q[G].toString()===B.getAttribute("value")||q[G]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",M)}else B.classList.toggle("ql-active",q[G]!=null)})}}]),P}(b.default);S.DEFAULTS={};function E(A,P,C){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+P),C!=null&&(L.value=C),A.appendChild(L)}function N(A,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(C){var L=document.createElement("span");L.classList.add("ql-formats"),C.forEach(function(q){if(typeof q=="string")E(L,q);else{var H=Object.keys(q)[0],K=q[H];Array.isArray(K)?T(L,H,K):E(L,H,K)}}),A.appendChild(L)})}function T(A,P,C){var L=document.createElement("select");L.classList.add("ql-"+P),C.forEach(function(q){var H=document.createElement("option");q!==!1?H.setAttribute("value",q):H.setAttribute("selected","selected"),L.appendChild(H)}),A.appendChild(L)}S.DEFAULTS={container:null,handlers:{clean:function(){var P=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(q){f.default.query(q,f.default.Scope.INLINE)!=null&&P.quill.format(q,!1)})}else this.quill.removeFormat(C,c.default.sources.USER)},direction:function(P){var C=this.quill.getFormat().align;P==="rtl"&&C==null?this.quill.format("align","right",c.default.sources.USER):!P&&C==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",P,c.default.sources.USER)},indent:function(P){var C=this.quill.getSelection(),L=this.quill.getFormat(C),q=parseInt(L.indent||0);if(P==="+1"||P==="-1"){var H=P==="+1"?1:-1;L.direction==="rtl"&&(H*=-1),this.quill.format("indent",q+H,c.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,c.default.sources.USER)},list:function(P){var C=this.quill.getSelection(),L=this.quill.getFormat(C);P==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",P,c.default.sources.USER)}}},r.default=S,r.addControls=N},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(_,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,b,g){return b&&w(_.prototype,b),g&&w(_,g),_}}(),o=function w(_,b,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,b);if(m===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:w(x,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(28),l=d(a);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function h(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function c(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var p=function(w){c(_,w);function _(b,g){f(this,_);var m=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return m.label.innerHTML=g,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(x){x.classList.add("ql-primary")}),m}return s(_,[{key:"buildItem",value:function(g){var m=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"buildItem",this).call(this,g);return m.style.backgroundColor=g.getAttribute("value")||"",m}},{key:"selectItem",value:function(g,m){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,g,m);var x=this.label.querySelector(".ql-color-label"),v=g&&g.getAttribute("data-value")||"";x&&(x.tagName==="line"?x.style.stroke=v:x.style.fill=v)}}]),_}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(_,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,b,g){return b&&w(_.prototype,b),g&&w(_,g),_}}(),o=function w(_,b,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,b);if(m===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:w(x,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(28),l=d(a);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function h(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function c(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var p=function(w){c(_,w);function _(b,g){f(this,_);var m=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(x){x.innerHTML=g[x.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return s(_,[{key:"selectItem",value:function(g,m){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,g,m),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),_}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(d,f){for(var h=0;h<f.length;h++){var c=f[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(d,c.key,c)}}return function(d,f,h){return f&&l(d.prototype,f),h&&l(d,h),d}}();function o(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(d,f){var h=this;o(this,l),this.quill=d,this.boundsContainer=f||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var h=f.left+f.width/2-this.root.offsetWidth/2,c=f.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),_=0;if(w.right>p.right&&(_=p.right-w.right,this.root.style.left=h+_+"px"),w.left<p.left&&(_=p.left-w.left,this.root.style.left=h+_+"px"),w.bottom>p.bottom){var b=w.bottom-w.top,g=f.bottom-f.top+b;this.root.style.top=c-g+"px",this.root.classList.add("ql-flip")}return _}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function T(A,P){var C=[],L=!0,q=!1,H=void 0;try{for(var K=A[Symbol.iterator](),G;!(L=(G=K.next()).done)&&(C.push(G.value),!(P&&C.length===P));L=!0);}catch(B){q=!0,H=B}finally{try{!L&&K.return&&K.return()}finally{if(q)throw H}}return C}return function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return T(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function T(A,P,C){A===null&&(A=Function.prototype);var L=Object.getOwnPropertyDescriptor(A,P);if(L===void 0){var q=Object.getPrototypeOf(A);return q===null?void 0:T(q,P,C)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(C)}},a=function(){function T(A,P){for(var C=0;C<P.length;C++){var L=P[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,P,C){return P&&T(A.prototype,P),C&&T(A,C),A}}(),l=i(3),d=x(l),f=i(8),h=x(f),c=i(43),p=x(c),w=i(27),_=x(w),b=i(15),g=i(41),m=x(g);function x(T){return T&&T.__esModule?T:{default:T}}function v(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function k(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function O(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(T){O(A,T);function A(P,C){v(this,A),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=S);var L=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,C));return L.quill.container.classList.add("ql-snow"),L}return a(A,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),m.default),this.tooltip=new N(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,q){C.handlers.link.call(C,!q.format.link)})}}]),A}(p.default);E.DEFAULTS=(0,d.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var P=this.quill.getSelection();if(P==null||P.length==0)return;var C=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var L=this.quill.theme.tooltip;L.edit("link",C)}else this.quill.format("link",!1)}}}}});var N=function(T){O(A,T);function A(P,C){v(this,A);var L=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,C));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(A,[{key:"listen",value:function(){var C=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(C.linkRange!=null){var q=C.linkRange;C.restoreFocus(),C.quill.formatText(q,"link",!1,h.default.sources.USER),delete C.linkRange}L.preventDefault(),C.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(L,q,H){if(L!=null){if(L.length===0&&H===h.default.sources.USER){var K=C.quill.scroll.descendant(_.default,L.index),G=s(K,2),B=G[0],F=G[1];if(B!=null){C.linkRange=new b.Range(L.index-F,B.length());var j=_.default.formats(B.domNode);C.preview.textContent=j,C.preview.setAttribute("href",j),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(c.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=ie(s),a=i(36),l=i(38),d=i(64),f=i(65),h=ie(f),c=i(66),p=ie(c),w=i(67),_=ie(w),b=i(37),g=i(26),m=i(39),x=i(40),v=i(56),k=ie(v),O=i(68),S=ie(O),E=i(27),N=ie(E),T=i(69),A=ie(T),P=i(70),C=ie(P),L=i(71),q=ie(L),H=i(72),K=ie(H),G=i(73),B=ie(G),F=i(13),j=ie(F),M=i(74),U=ie(M),W=i(75),$=ie(W),V=i(57),z=ie(V),Y=i(41),X=ie(Y),ne=i(28),ue=ie(ne),ye=i(59),xe=ie(ye),Ie=i(60),Re=ie(Ie),yt=i(61),nt=ie(yt),Z=i(108),ee=ie(Z),ae=i(62),le=ie(ae);function ie(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":x.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":d.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":m.FontClass,"formats/size":x.SizeClass,"formats/blockquote":h.default,"formats/code-block":j.default,"formats/header":p.default,"formats/list":_.default,"formats/bold":k.default,"formats/code":F.Code,"formats/italic":S.default,"formats/link":N.default,"formats/script":A.default,"formats/strike":C.default,"formats/underline":q.default,"formats/image":K.default,"formats/video":B.default,"formats/list/item":w.ListItem,"modules/formula":U.default,"modules/syntax":$.default,"modules/toolbar":z.default,"themes/bubble":ee.default,"themes/snow":le.default,"ui/icons":X.default,"ui/picker":ue.default,"ui/icon-picker":Re.default,"ui/color-picker":xe.default,"ui/tooltip":nt.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function _(b,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,g,m){return g&&_(b.prototype,g),m&&_(b,m),b}}(),o=function _(b,g,m){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,g);if(x===void 0){var v=Object.getPrototypeOf(b);return v===null?void 0:_(v,g,m)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(m)}},a=i(0),l=d(a);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function c(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var p=function(_){c(b,_);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"add",value:function(m,x){if(x==="+1"||x==="-1"){var v=this.value(m)||0;x=x==="+1"?v+1:v-1}return x===0?(this.remove(m),!0):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,m,x)}},{key:"canAdd",value:function(m,x){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,x)||o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,parseInt(x))}},{key:"value",value:function(m){return parseInt(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,m))||void 0}}]),b}(l.default.Attributor.Class),w=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function d(c,p){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:c}function f(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(c,p):c.__proto__=p)}var h=function(c){f(p,c);function p(){return l(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(w,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(w,g.key,g)}}return function(w,_,b){return _&&p(w.prototype,_),b&&p(w,b),w}}(),o=i(4),a=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function d(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function f(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:p}function h(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}var c=function(p){h(w,p);function w(){return d(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),w}(a.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function v(k,O){for(var S=0;S<O.length;S++){var E=O[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,O,S){return O&&v(k.prototype,O),S&&v(k,S),k}}(),o=function v(k,O,S){k===null&&(k=Function.prototype);var E=Object.getOwnPropertyDescriptor(k,O);if(E===void 0){var N=Object.getPrototypeOf(k);return N===null?void 0:v(N,O,S)}else{if("value"in E)return E.value;var T=E.get;return T===void 0?void 0:T.call(S)}},a=i(0),l=p(a),d=i(4),f=p(d),h=i(25),c=p(h);function p(v){return v&&v.__esModule?v:{default:v}}function w(v,k,O){return k in v?Object.defineProperty(v,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):v[k]=O,v}function _(v,k){if(!(v instanceof k))throw new TypeError("Cannot call a class as a function")}function b(v,k){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:v}function g(v,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);v.prototype=Object.create(k&&k.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(v,k):v.__proto__=k)}var m=function(v){g(k,v);function k(){return _(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"format",value:function(S,E){S===x.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,S,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,E){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,E),this):(this.parent.unwrap(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,S,E))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,S)}}]),k}(f.default);m.blotName="list-item",m.tagName="LI";var x=function(v){g(k,v),s(k,null,[{key:"create",value:function(S){var E=S==="ordered"?"OL":"UL",N=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,E);return(S==="checked"||S==="unchecked")&&N.setAttribute("data-checked",S==="checked"),N}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(O){_(this,k);var S=b(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,O)),E=function(T){if(T.target.parentNode===O){var A=S.statics.formats(O),P=l.default.find(T.target);A==="checked"?P.format("list","unchecked"):A==="unchecked"&&P.format("list","checked")}};return O.addEventListener("touchstart",E),O.addEventListener("mousedown",E),S}return s(k,[{key:"format",value:function(S,E){this.children.length>0&&this.children.tail.format(S,E)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,E){if(S instanceof m)o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,S,E);else{var N=E==null?this.length():E.offset(this),T=this.split(N);T.parent.insertBefore(S,T)}}},{key:"optimize",value:function(S){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,S);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);S.moveChildren(E),this.appendChild(E)}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,S)}}]),k}(c.default);x.blotName="list",x.scope=l.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[m],r.ListItem=m,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function d(c,p){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:c}function f(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(c,p):c.__proto__=p)}var h=function(c){f(p,c);function p(){return l(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function w(_,b){for(var g=0;g<b.length;g++){var m=b[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,b,g){return b&&w(_.prototype,b),g&&w(_,g),_}}(),o=function w(_,b,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,b);if(m===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:w(x,b,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},a=i(6),l=d(a);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function h(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function c(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var p=function(w){c(_,w);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),_}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function d(c,p){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:c}function f(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(c,p):c.__proto__=p)}var h=function(c){f(p,c);function p(){return l(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function d(c,p){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:c}function f(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(c,p):c.__proto__=p)}var h=function(c){f(p,c);function p(){return l(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(g,m){for(var x=0;x<m.length;x++){var v=m[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,x){return m&&b(g.prototype,m),x&&b(g,x),g}}(),o=function b(g,m,x){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:b(k,m,x)}else{if("value"in v)return v.value;var O=v.get;return O===void 0?void 0:O.call(x)}},a=i(0),l=f(a),d=i(27);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function c(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function p(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var w=["alt","height","width"],_=function(b){p(g,b);function g(){return h(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"format",value:function(x,v){w.indexOf(x)>-1?v?this.domNode.setAttribute(x,v):this.domNode.removeAttribute(x):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,v)}}],[{key:"create",value:function(x){var v=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return typeof x=="string"&&v.setAttribute("src",this.sanitize(x)),v}},{key:"formats",value:function(x){return w.reduce(function(v,k){return x.hasAttribute(k)&&(v[k]=x.getAttribute(k)),v},{})}},{key:"match",value:function(x){return/\.(jpe?g|gif|png)$/.test(x)||/^data:image\/.+;base64/.test(x)}},{key:"sanitize",value:function(x){return(0,d.sanitize)(x,["http","https","data"])?x:"//:0"}},{key:"value",value:function(x){return x.getAttribute("src")}}]),g}(l.default.Embed);_.blotName="image",_.tagName="IMG",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(g,m){for(var x=0;x<m.length;x++){var v=m[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,m,x){return m&&b(g.prototype,m),x&&b(g,x),g}}(),o=function b(g,m,x){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,m);if(v===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:b(k,m,x)}else{if("value"in v)return v.value;var O=v.get;return O===void 0?void 0:O.call(x)}},a=i(4),l=i(27),d=f(l);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function c(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function p(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var w=["height","width"],_=function(b){p(g,b);function g(){return h(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"format",value:function(x,v){w.indexOf(x)>-1?v?this.domNode.setAttribute(x,v):this.domNode.removeAttribute(x):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,v)}}],[{key:"create",value:function(x){var v=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(x)),v}},{key:"formats",value:function(x){return w.reduce(function(v,k){return x.hasAttribute(k)&&(v[k]=x.getAttribute(k)),v},{})}},{key:"sanitize",value:function(x){return d.default.sanitize(x)}},{key:"value",value:function(x){return x.getAttribute("src")}}]),g}(a.BlockEmbed);_.blotName="video",_.className="ql-video",_.tagName="IFRAME",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function x(v,k){for(var O=0;O<k.length;O++){var S=k[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,k,O){return k&&x(v.prototype,k),O&&x(v,O),v}}(),o=function x(v,k,O){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,k);if(S===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:x(E,k,O)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(O)}},a=i(35),l=p(a),d=i(5),f=p(d),h=i(9),c=p(h);function p(x){return x&&x.__esModule?x:{default:x}}function w(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function _(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function b(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var g=function(x){b(v,x);function v(){return w(this,v),_(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"create",value:function(O){var S=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",O)),S}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),v}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var m=function(x){b(v,x),s(v,null,[{key:"register",value:function(){f.default.register(g,!0)}}]);function v(){w(this,v);var k=_(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return v}(c.default);r.FormulaBlot=g,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function O(S,E){for(var N=0;N<E.length;N++){var T=E[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,E,N){return E&&O(S.prototype,E),N&&O(S,N),S}}(),o=function O(S,E,N){S===null&&(S=Function.prototype);var T=Object.getOwnPropertyDescriptor(S,E);if(T===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:O(A,E,N)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(N)}},a=i(0),l=_(a),d=i(5),f=_(d),h=i(9),c=_(h),p=i(13),w=_(p);function _(O){return O&&O.__esModule?O:{default:O}}function b(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}function g(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:O}function m(O,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}var x=function(O){m(S,O);function S(){return b(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=N(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),S}(w.default);x.className="ql-syntax";var v=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(O){m(S,O),s(S,null,[{key:"register",value:function(){f.default.register(v,!0),f.default.register(x,!0)}}]);function S(E,N){b(this,S);var T=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,N));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return T.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){T.highlight(),A=null},T.options.interval)}),T.highlight(),T}return s(S,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(A){A.highlight(N.options.highlight)}),this.quill.update(f.default.sources.SILENT),T!=null&&this.quill.setSelection(T,f.default.sources.SILENT)}}}]),S}(c.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var S=window.hljs.highlightAuto(O);return S.value}}(),interval:1e3},r.CodeBlock=x,r.CodeToken=v,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function S(E,N,T){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,N);if(A===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:S(P,N,T)}else{if("value"in A)return A.value;var C=A.get;return C===void 0?void 0:C.call(T)}},o=function(){function S(E,N){for(var T=0;T<N.length;T++){var A=N[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,N,T){return N&&S(E.prototype,N),T&&S(E,T),E}}(),a=i(3),l=b(a),d=i(8),f=b(d),h=i(43),c=b(h),p=i(15),w=i(41),_=b(w);function b(S){return S&&S.__esModule?S:{default:S}}function g(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function x(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(S){x(E,S);function E(N,T){g(this,E),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=v);var A=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,N,T));return A.quill.container.classList.add("ql-bubble"),A}return o(E,[{key:"extendToolbar",value:function(T){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),_.default)}}]),E}(c.default);k.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(S){x(E,S);function E(N,T){g(this,E);var A=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,N,T));return A.quill.on(f.default.events.EDITOR_CHANGE,function(P,C,L,q){if(P===f.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&q===f.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var H=A.quill.getLines(C.index,C.length);if(H.length===1)A.position(A.quill.getBounds(C));else{var K=H[H.length-1],G=A.quill.getIndex(K),B=Math.min(K.length()-1,C.index+C.length-G),F=A.quill.getBounds(new p.Range(G,B));A.position(F)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return o(E,[{key:"listen",value:function(){var T=this;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var A=T.quill.getSelection();A!=null&&T.position(T.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var A=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,T),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",A===0)return A;P.style.marginLeft=-1*A-P.offsetWidth/2+"px"}}]),E}(h.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=O,r.default=k},function(n,r,i){n.exports=i(63)}]).default})})(jE);var f9=jE.exports,p9=Jt&&Jt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ku=Jt&&Jt.__assign||function(){return Ku=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ku.apply(this,arguments)},m9=Jt&&Jt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r},$c=Jt&&Jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Rn=$c(fe),g9=$c(cx),bo=$c(h9),Y0=$c(f9),y9=function(t){p9(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(s,o,a,l){var d,f,h,c;s==="text-change"?(f=(d=r).onEditorChangeText)===null||f===void 0||f.call(d,r.editor.root.innerHTML,o,l,r.unprivilegedEditor):s==="selection-change"&&((c=(h=r).onEditorChangeSelection)===null||c===void 0||c.call(h,o,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Rn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Rn.default.Children.count(n.children)){var i=Rn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,s;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),a=(s=n.value,s??"");this.isEqualValue(a,o)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),m9(this.cleanProps,this.dirtyProps).some(function(l){return!bo.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!bo.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,s=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(s),X0(function(){return i.setEditorSelection(d,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new Y0.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?bo.default(n.ops,r.ops):bo.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var s=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),X0(function(){return i.setEditorSelection(n,s)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,s;!((s=(i=n)===null||i===void 0?void 0:i.scroll)===null||s===void 0)&&s.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=g9.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,s=r.preserveWhitespace,o=this.state.generation,a={key:o,ref:function(l){n.editingArea=l}};return Rn.default.Children.count(i)?Rn.default.cloneElement(Rn.default.Children.only(i),a):s?Rn.default.createElement("pre",Ku({},a)):Rn.default.createElement("div",Ku({},a))},e.prototype.render=function(){var n;return Rn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,s){var o,a;if(this.editor){var l=this.isDelta(this.value)?s.getContents():s.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(o=this.props).onChange)===null||a===void 0||a.call(o,n,r,i,s))}},e.prototype.onEditorChangeSelection=function(n,r,i){var s,o,a,l,d,f;if(this.editor){var h=this.getEditorSelection(),c=!h&&n,p=h&&!n;bo.default(n,h)||(this.selection=n,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,n,r,i),c?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):p&&((f=(d=this.props).onBlur)===null||f===void 0||f.call(d,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=Y0.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Rn.default.Component);function X0(t){Promise.resolve().then(t)}var v9=y9;const _9=oT(v9);function x9({article:t,onSave:e,onCancel:n}){const{t:r}=Dt(),[i,s]=fe.useState(""),[o,a]=fe.useState(""),[l,d]=fe.useState(""),[f,h]=fe.useState("");fe.useState(null);const[c,p]=fe.useState(!1);fe.useState(!1);const[w,_]=fe.useState(!1),{currentUser:b}=Mc();fe.useEffect(()=>{t&&(s(t.title||""),a(t.content||""),d(t.excerpt||""),h(t.featuredImage||""))},[t]);const g={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["blockquote","code-block"],["link","image","video"],["clean"]]},m=["header","bold","italic","underline","strike","color","background","list","bullet","indent","align","blockquote","code-block","link","image","video"],x=O=>{const S=O.replace(/<[^>]*>/g,"");return S.substring(0,200)+(S.length>200?"...":"")},v=async()=>{if(!i.trim()){alert(r("admin.editor.title-required"));return}if(!o.trim()){alert(r("admin.editor.content-required"));return}p(!0);try{const O=new Date().toLocaleDateString("fr-FR"),S=l.trim()||x(o),E={title:i.trim(),content:o,excerpt:S,featuredImage:f||"",createdAt:O,createdBy:(b==null?void 0:b.email)||"admin@elbouchra.org"};t!=null&&t.id?(await l4(Rc(Ls,"articles",t.id),{title:E.title,content:E.content,excerpt:E.excerpt,featuredImage:E.featuredImage}),console.log("Article updated successfully")):(await c4(pm(Ls,"articles"),E),console.log("Article created successfully")),e()}catch(O){console.error("Error saving article:",O),alert(r("admin.editor.save-error").replace("{error}",O.message))}finally{p(!1)}},k=()=>{_(!w)};return w?y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:r("admin.editor.article-preview")}),y.jsx("div",{className:"flex space-x-3",children:y.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200",children:[y.jsx(Ta,{size:16}),y.jsx("span",{children:r("admin.editor.close-preview")})]})})]}),y.jsxs(ge,{className:"p-8",children:[f&&y.jsx("div",{className:"mb-6",children:y.jsx("img",{src:f,alt:i,className:"w-full h-64 object-cover rounded-lg"})}),y.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-4",children:i}),l&&y.jsx("p",{className:"text-lg text-gray-600 mb-6 italic border-l-4 border-blue-500 pl-4",children:l}),y.jsx("div",{className:"prose max-w-none prose-lg prose-blue",dangerouslySetInnerHTML:{__html:o}})]})]}):y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:r(t?"admin.editor.edit-article":"admin.editor.new-article")}),y.jsxs("div",{className:"flex space-x-3",children:[y.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[y.jsx(Fa,{size:16}),y.jsx("span",{children:r("admin.editor.preview")})]}),y.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200",children:[y.jsx(Ta,{size:16}),y.jsx("span",{children:r("admin.editor.cancel")})]}),y.jsxs("button",{onClick:v,disabled:c,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors duration-200",children:[y.jsx(lj,{size:16}),y.jsx("span",{children:r(c?"admin.editor.saving":"admin.editor.publish")})]})]})]}),y.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsx(ge,{className:"p-6",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("admin.editor.title-label")}),y.jsx("input",{type:"text",value:i,onChange:O=>s(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:r("admin.editor.title-placeholder"),required:!0}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r("admin.editor.title-chars").replace("{count}",i.length.toString())})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("admin.editor.excerpt-label")}),y.jsx("textarea",{value:l,onChange:O=>d(O.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:r("admin.editor.excerpt-placeholder")}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r("admin.editor.excerpt-chars").replace("{count}",l.length.toString())})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r("admin.editor.content-label")}),y.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:y.jsx(_9,{theme:"snow",value:o,onChange:a,modules:g,formats:m,style:{minHeight:"400px"},placeholder:r("admin.editor.content-placeholder")})}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r("admin.editor.content-help")})]})]})})}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs(ge,{className:"p-6 opacity-50 pointer-events-none bg-gray-100",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("admin.editor.featured-image")}),f?y.jsxs("div",{className:"space-y-4",children:[y.jsx("img",{src:f,alt:"Image  la une",className:"w-full h-40 object-cover rounded-lg"}),y.jsx("button",{onClick:()=>{},className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",disabled:!0,children:r("admin.editor.remove-image")})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[y.jsx(gj,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:r("admin.editor.add-image")}),y.jsx("input",{type:"file",accept:"image/*",onChange:()=>{},className:"hidden",id:"featured-image",disabled:!0}),y.jsxs("label",{htmlFor:"featured-image",className:"cursor-not-allowed inline-flex items-center space-x-2 px-4 py-2 bg-gray-400 text-white rounded-lg",children:[y.jsx(rj,{size:16}),y.jsx("span",{children:r("admin.editor.disabled")})]})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:r("admin.editor.image-url")}),y.jsx("input",{type:"url",value:f,onChange:()=>{},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:r("admin.editor.image-url-placeholder"),disabled:!0})]})]})]}),y.jsxs(ge,{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("admin.editor.information")}),y.jsxs("div",{className:"space-y-3 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("span",{className:"text-gray-600",children:[r("admin.editor.status")," :"]}),y.jsx("span",{className:"font-medium text-green-600",children:r("admin.editor.draft")})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("span",{className:"text-gray-600",children:[r("admin.editor.author")," :"]}),y.jsx("span",{className:"font-medium",children:(b==null?void 0:b.email)||"Admin"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("span",{className:"text-gray-600",children:[r("admin.editor.date")," :"]}),y.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString("fr-FR")})]})]})]}),y.jsxs(ge,{className:"p-6 bg-blue-50",children:[y.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:r("admin.editor.writing-tips")}),y.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[y.jsx("li",{children:r("admin.editor.tip1")}),y.jsx("li",{children:r("admin.editor.tip2")}),y.jsx("li",{children:r("admin.editor.tip3")}),y.jsx("li",{children:r("admin.editor.tip4")}),y.jsx("li",{children:r("admin.editor.tip5")})]})]})]})]})]})}function w9({onEdit:t,onNew:e}){const{t:n}=Dt(),[r,i]=fe.useState([]),[s,o]=fe.useState(1),[a,l]=fe.useState(!0),d=6,f=Math.ceil(r.length/d),h=(s-1)*d,c=h+d,p=r.slice(h,c);fe.useEffect(()=>{w()},[]),fe.useEffect(()=>{o(1)},[r.length]);const w=async()=>{try{console.log("Admin: Fetching articles...");const v=pm(Ls,"articles"),k=await lE(v);if(k.empty)console.log("Admin: No articles found"),i([]);else{const O=k.docs.map(S=>{const E=S.data();return{id:S.id,title:E.title||"Titre non dfini",content:E.content||"Contenu non dfini",...E}});i(O),console.log("Admin: Articles loaded:",O.length)}}catch(v){console.error("Admin: Error fetching articles:",v),alert("Erreur lors du chargement des articles. Vrifiez la console pour plus de dtails."),i([])}finally{l(!1)}},_=async v=>{if(window.confirm(n("admin.articles.confirm-delete")))try{await u4(Rc(Ls,"articles",v)),i(r.filter(k=>k.id!==v))}catch(k){console.error("Error deleting article:",k),alert(n("admin.articles.delete-error"))}},b=v=>v||new Date().toLocaleDateString("fr-FR"),g=v=>{o(v),window.scrollTo({top:0,behavior:"smooth"})},m=()=>{if(f<=1)return null;const v=5;let k=Math.max(1,s-Math.floor(v/2)),O=Math.min(f,k+v-1);return O-k+1<v&&(k=Math.max(1,O-v+1)),y.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[y.jsxs("button",{onClick:()=>g(s-1),disabled:s===1,className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[y.jsx(bm,{size:16}),y.jsx("span",{children:n("admin.articles.previous")})]}),k>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>g(1),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 transition-colors duration-200",children:"1"}),k>2&&y.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."})]}),Array.from({length:O-k+1},(S,E)=>k+E).map(S=>y.jsx("button",{onClick:()=>g(S),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${s===S?"text-white bg-blue-600 border border-blue-600":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 hover:text-gray-700"}`,children:S},S)),O<f&&y.jsxs(y.Fragment,{children:[O<f-1&&y.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."}),y.jsx("button",{onClick:()=>g(f),className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 transition-colors duration-200",children:f})]}),y.jsxs("button",{onClick:()=>g(s+1),disabled:s===f,className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[y.jsx("span",{children:n("admin.articles.next")}),y.jsx(Em,{size:16})]})]})},x=(v,k)=>v?v.length<=k?v:v.substring(0,k)+"...":"";return a?y.jsx("div",{className:"flex justify-center items-center py-12",children:y.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:n("admin.articles.title")}),y.jsxs("div",{className:"flex items-center space-x-4",children:[e&&y.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[y.jsx(gE,{size:16}),y.jsx("span",{children:n("admin.articles.new-article")})]}),y.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[y.jsxs("span",{children:[r.length," ",r.length===1?n("admin.articles.count"):n("admin.articles.count-plural")]}),f>1&&y.jsx("span",{children:n("admin.articles.page-of").replace("{current}",s.toString()).replace("{total}",f.toString())})]})]})]}),r.length===0?y.jsx(ge,{className:"p-8 text-center",children:y.jsxs("div",{className:"text-gray-500",children:[y.jsx(Fa,{size:48,className:"mx-auto mb-4 opacity-50"}),y.jsx("p",{className:"text-lg",children:n("admin.articles.no-articles")}),y.jsx("p",{className:"text-sm",children:n("admin.articles.create-first")})]})}):y.jsx("div",{className:"grid gap-6",children:p.map(v=>{var k;return y.jsx(ge,{className:"p-6",children:y.jsxs("div",{className:"flex gap-6",children:[v.featuredImage?y.jsx("div",{className:"flex-shrink-0",children:y.jsx("img",{src:v.featuredImage,alt:v.title||"Article",className:"w-32 h-24 object-cover rounded-lg"})}):y.jsx("div",{className:"flex-shrink-0 w-32 h-24 bg-gray-200 rounded-lg flex items-center justify-center",children:y.jsx("span",{className:"text-gray-400 text-xs",children:n("admin.articles.no-image")})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"text-xl font-semibold text-blue-900 truncate",children:v.title||n("admin.articles.undefined-title")}),y.jsxs("div",{className:"flex space-x-2 ml-4",children:[y.jsx("button",{onClick:()=>t(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",title:n("admin.articles.edit"),children:y.jsx(dj,{size:16})}),y.jsx("button",{onClick:()=>_(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:n("admin.articles.delete"),children:y.jsx(mj,{size:16})})]})]}),y.jsxs("div",{className:"text-gray-600 mb-3",children:[v.excerpt?y.jsxs("p",{className:"text-sm italic text-blue-600 mb-2",children:['"',v.excerpt,'"']}):null,y.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:x(((k=v.content)==null?void 0:k.replace(/<[^>]*>/g,""))||"",150)}})]}),y.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(Im,{size:14}),y.jsx("span",{children:v.createdBy||n("admin.articles.created-by")})]}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx(Oi,{size:14}),y.jsx("span",{children:b(v.createdAt)})]})]})]})]})},v.id)})}),m(),r.length>0&&f>1&&y.jsx("div",{className:"text-center mt-6 text-sm text-gray-500",children:n("admin.articles.showing").replace("{start}",(h+1).toString()).replace("{end}",Math.min(c,r.length).toString()).replace("{total}",r.length.toString())})]})}function b9(){const{logout:t,currentUser:e}=Mc(),{t:n}=Dt(),[r,i]=fe.useState("dashboard"),[s,o]=fe.useState(null),[a,l]=fe.useState(!1),d=async()=>{try{await t()}catch(p){console.error("Logout error:",p)}},f=p=>{o(p),i("edit")},h=()=>{o(null),i("editor")},c=()=>{switch(r){case"articles":return y.jsx(w9,{onEdit:f,onNew:h});case"editor":case"edit":return y.jsx(x9,{article:s,onSave:()=>i("articles"),onCancel:()=>i("articles")});default:return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-6",children:n("admin.dashboard.statistics")}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4",children:[y.jsxs(ge,{className:"p-4 text-center",children:[y.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:y.jsx(_f,{className:"text-blue-600",size:20})}),y.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-1",children:Oo.length}),y.jsx("div",{className:"text-sm text-gray-600",children:n("admin.dashboard.total-activities")})]}),y.jsxs(ge,{className:"p-4 text-center",children:[y.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:y.jsx(ba,{className:"text-green-600",size:20})}),y.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-1",children:"0"}),y.jsx("div",{className:"text-sm text-gray-600",children:n("admin.dashboard.total-articles")})]}),y.jsxs(ge,{className:"p-4 text-center",children:[y.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:y.jsx($r,{className:"text-purple-600",size:20})}),y.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-1",children:Sm.length}),y.jsx("div",{className:"text-sm text-gray-600",children:n("admin.dashboard.total-members")})]}),y.jsxs(ge,{className:"p-4 text-center opacity-50 pointer-events-none bg-gray-100",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:y.jsx(xf,{className:"text-orange-600",size:20})}),y.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-1",children:"0"}),y.jsx("div",{className:"text-sm text-gray-600",children:n("admin.dashboard.pdf-downloads")})]}),y.jsxs(ge,{className:"p-4 text-center opacity-50 pointer-events-none bg-gray-100",children:[y.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:y.jsx(Fa,{className:"text-red-600",size:20})}),y.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-1",children:"0"}),y.jsx("div",{className:"text-sm text-gray-600",children:n("admin.dashboard.site-visitors")})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-6",children:n("admin.dashboard.management")}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsx(ge,{className:"p-6 cursor-pointer hover:shadow-lg transition-shadow duration-200",children:y.jsxs("div",{className:"flex items-center space-x-4",onClick:h,children:[y.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:y.jsx(gE,{className:"text-green-600",size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:n("admin.dashboard.new-article")}),y.jsx("p",{className:"text-gray-600",children:n("admin.dashboard.create-article")})]})]})}),y.jsx(ge,{className:"p-6 opacity-50 pointer-events-none bg-gray-100",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:y.jsx($r,{className:"text-gray-400",size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-500",children:n("admin.dashboard.user-management")}),y.jsx("p",{className:"text-gray-400",children:n("admin.dashboard.coming-soon")})]})]})}),y.jsx(ge,{className:"p-6 opacity-50 pointer-events-none bg-gray-100",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:y.jsx(yj,{className:"text-gray-400",size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-500",children:n("admin.dashboard.member-management")}),y.jsx("p",{className:"text-gray-400",children:n("admin.dashboard.coming-soon")})]})]})}),y.jsx(ge,{className:"p-6 opacity-50 pointer-events-none bg-gray-100",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:y.jsx(_f,{className:"text-gray-400",size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-500",children:n("admin.dashboard.activity-management")}),y.jsx("p",{className:"text-gray-400",children:n("admin.dashboard.coming-soon")})]})]})}),y.jsx(ge,{className:"p-6 opacity-50 pointer-events-none bg-gray-100",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:y.jsx(Oi,{className:"text-gray-400",size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-500",children:n("admin.dashboard.program-management")}),y.jsx("p",{className:"text-gray-400",children:n("admin.dashboard.coming-soon")})]})]})}),y.jsx(ge,{className:"p-6 opacity-50 pointer-events-none bg-gray-100",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:y.jsx(yE,{className:"text-gray-400",size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-500",children:n("admin.dashboard.tshirt-management")}),y.jsx("p",{className:"text-gray-400",children:n("admin.dashboard.coming-soon")})]})]})})]})]})]})}};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx("header",{className:"bg-white shadow-sm border-b",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"flex items-center justify-between h-16",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:y.jsx(ba,{className:"text-blue-600",size:20})}),y.jsx("h1",{className:"text-xl font-bold text-blue-900",children:n("admin.header.administration")})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[y.jsxs("span",{className:"text-sm text-gray-600 truncate max-w-xs",children:[n("admin.header.connected-as"),": ",e==null?void 0:e.email]}),y.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:[y.jsx(w0,{size:16}),y.jsx("span",{children:n("admin.header.logout")})]})]}),y.jsx("button",{onClick:()=>l(!a),className:"md:hidden p-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:a?y.jsx(Ta,{size:20}):y.jsx(mE,{size:20})})]}),a&&y.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"px-4 py-2 text-sm text-gray-600 border-b border-gray-100",children:[y.jsxs("div",{className:"font-medium",children:[n("admin.header.connected-as"),":"]}),y.jsx("div",{className:"truncate",children:e==null?void 0:e.email})]}),y.jsxs("button",{onClick:d,className:"w-full flex items-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:[y.jsx(w0,{size:16}),y.jsx("span",{children:n("admin.header.logout")})]})]})})]})}),y.jsx("nav",{className:"bg-white border-b",children:y.jsx("div",{className:"container mx-auto px-4",children:y.jsxs("div",{className:"flex space-x-8 overflow-x-auto",children:[y.jsx("button",{onClick:()=>i("dashboard"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors duration-200 whitespace-nowrap ${r==="dashboard"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:n("admin.nav.dashboard")}),y.jsx("button",{onClick:()=>i("articles"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors duration-200 whitespace-nowrap ${r==="articles"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:n("admin.nav.articles")})]})})}),y.jsx("main",{className:"container mx-auto px-4 py-8",children:c()})]})}function E9(){const[t,e]=fe.useState(!1);fe.useEffect(()=>{const r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?y.jsx("button",{onClick:n,className:"fixed bottom-6 right-6 z-50 w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center group","aria-label":"Retour en haut",children:y.jsx(Q4,{size:24,className:"group-hover:scale-110 transition-transform duration-200"})}):null}function T9(){const[t,e]=fe.useState("home");fe.useEffect(()=>{const s=window.location.pathname;if(s.startsWith("/article/")){const o=s.split("/")[2];e(`article-${o}`)}else(s==="/admin"||s==="/administration")&&e("admin")},[]);const n=s=>{if(e(s),s.startsWith("article-")){const o=s.replace("article-","");window.history.pushState({},"",`/article/${o}`)}else s==="admin"?window.history.pushState({},"","/admin"):window.history.pushState({},"","/")},r=()=>{switch(t){case"home":return y.jsx(b0,{onPageChange:n});case"articles":return y.jsx(Vj,{});case"shop":return y.jsx(Sj,{});case"membership":return y.jsx(Pj,{});case"program":return y.jsx(Cj,{});case"contact":return y.jsx(Oj,{});case"identification":return y.jsx(jj,{});case"members":return y.jsx(Lj,{onPageChange:n});case"activities":return y.jsx(Mj,{});case"admin":return y.jsx(wj,{children:y.jsx(b9,{})});default:if(t.startsWith("article-")){const s=t.replace("article-","");return y.jsx(Fj,{articleId:s,onBack:()=>n("articles")})}return y.jsx(b0,{onPageChange:n})}},i=t.startsWith("article-");return y.jsxs("div",{className:"min-h-screen",children:[!i&&y.jsx(bj,{currentPage:t,onPageChange:n}),y.jsx("main",{children:r()}),!i&&y.jsx(Ej,{onPageChange:n}),y.jsx(E9,{})]})}function A9(){return y.jsx(B4,{children:y.jsx(OA,{children:y.jsx(T9,{})})})}dx(document.getElementById("root")).render(y.jsx(fe.StrictMode,{children:y.jsx(A9,{})}));
